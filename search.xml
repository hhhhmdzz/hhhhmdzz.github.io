<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡-2018,ä¸œåŒ—ä¸‰çœæ•°å­¦å»ºæ¨¡è”èµ›,Bé¢˜</title>
      <link href="/2022/09/02/shu-xue-jian-mo-2018-dong-bei-san-sheng-shu-xue-jian-mo-lian-sai-b-ti/"/>
      <url>/2022/09/02/shu-xue-jian-mo-2018-dong-bei-san-sheng-shu-xue-jian-mo-lian-sai-b-ti/</url>
      
        <content type="html"><![CDATA[<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> to be categoried </category>
          
      </categories>
      
      
        <tags>
            
            <tag> to be tagged </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡-2022,åæ•°æ¯,Cé¢˜</title>
      <link href="/2022/09/02/shu-xue-jian-mo-2022-hua-shu-bei-c-ti/"/>
      <url>/2022/09/02/shu-xue-jian-mo-2022-hua-shu-bei-c-ti/</url>
      
        <content type="html"><![CDATA[<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> to be categoried </category>
          
      </categories>
      
      
        <tags>
            
            <tag> to be tagged </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡-2022,åæ•°æ¯,Aé¢˜</title>
      <link href="/2022/09/02/shu-xue-jian-mo-2022-hua-shu-bei-a-ti/"/>
      <url>/2022/09/02/shu-xue-jian-mo-2022-hua-shu-bei-a-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><ul><li><code>.pdf</code> æ ¼å¼ï¼ˆæ•ˆæœä¸€èˆ¬ï¼Œä¸æ¨èï¼‰</li></ul><p>é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E5%8D%8E%E6%95%B0%E6%9D%AF-A%E9%A2%98/%E9%97%AE%E9%A2%981.pdf">é—®é¢˜1.pdf</a><br>æ‰€æœ‰é—®é¢˜ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E5%8D%8E%E6%95%B0%E6%9D%AF-A%E9%A2%98/%E5%8D%8E%E6%95%B0%E6%9D%AF.pdf">åæ•°æ¯.pdf</a></p><ul><li><code>.html</code> æ ¼å¼ï¼ˆæ•ˆæœè¾ƒå¥½ï¼Œæ¨èï¼‰</li></ul><p>é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E5%8D%8E%E6%95%B0%E6%9D%AF-A%E9%A2%98/%E9%97%AE%E9%A2%981.html">é—®é¢˜1.html</a><br>æ‰€æœ‰é—®é¢˜ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E5%8D%8E%E6%95%B0%E6%9D%AF-A%E9%A2%98/%E5%8D%8E%E6%95%B0%E6%9D%AF.html">åæ•°æ¯.html</a></p><ul><li><code>.ipynb</code> æ ¼å¼ï¼ˆæ•ˆæœå¾ˆå¥½ï¼Œå¼ºçƒˆæ¨èï¼‰</li></ul><p><font color="yellow">ä»˜è´¹å†…å®¹</font>ï¼Œç§ä¿¡å‘ï¼Œè”ç³»æ–¹å¼è§åšå®¢é¦–é¡µ<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ•°å­¦å»ºæ¨¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°å­¦å»ºæ¨¡ </tag>
            
            <tag> 2022å¹´ç¬¬ä¸‰å±Šâ€œåæ•°æ¯â€å…¨å›½å¤§å­¦ç”Ÿæ•°å­¦å»ºæ¨¡ç«èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡-2022,æ ¡èµ›,Aé¢˜</title>
      <link href="/2022/09/02/shu-xue-jian-mo-2022-xiao-sai-a-ti/"/>
      <url>/2022/09/02/shu-xue-jian-mo-2022-xiao-sai-a-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><ul><li><p><code>.pdf</code> æ ¼å¼ï¼ˆæ•ˆæœä¸€èˆ¬ï¼Œä¸æ¨èï¼‰<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/pre_work.pdf">https://hhhhmdzz.github.io//PDF/æ•°å­¦å»ºæ¨¡-2022-æ ¡èµ›-Aé¢˜/pre_work.pdf</a>)<br>  é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/task1.pdf">task1.pdf</a><br>  é—®é¢˜2ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/task2.pdf">task2.pdf</a><br>  é—®é¢˜3ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/task3.pdf">task3.pdf</a></p></li><li><p><code>.html</code> æ ¼å¼ï¼ˆæ•ˆæœè¾ƒå¥½ï¼Œæ¨èï¼‰<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/pre_work.html">https://hhhhmdzz.github.io//HTML/æ•°å­¦å»ºæ¨¡-2022-æ ¡èµ›-Aé¢˜/pre_work.html</a>)<br>  é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/task1.html">task1.html</a><br>  é—®é¢˜2ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/task2.html">task2.html</a><br>  é—®é¢˜3ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E6%A0%A1%E8%B5%9B-A%E9%A2%98/task3.html">task3.html</a></p></li><li><p><code>.ipynb</code> æ ¼å¼ï¼ˆæ•ˆæœå¾ˆå¥½ï¼Œå¼ºçƒˆæ¨èï¼‰</p></li></ul><p><font color="yellow">ä»˜è´¹å†…å®¹</font>ï¼Œç§ä¿¡å‘ï¼Œè”ç³»æ–¹å¼è§åšå®¢é¦–é¡µ<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ•°å­¦å»ºæ¨¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°å­¦å»ºæ¨¡ </tag>
            
            <tag> 2022å¹´é‡åº†é‚®ç”µå¤§å­¦æ•°å­¦å»ºæ¨¡ç«èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡-2022,äº”ä¸€æ¯,Bé¢˜</title>
      <link href="/2022/09/02/shu-xue-jian-mo-2022-wu-yi-bei-b-ti/"/>
      <url>/2022/09/02/shu-xue-jian-mo-2022-wu-yi-bei-b-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><ul><li><code>.pdf</code> æ ¼å¼ï¼ˆæ•ˆæœä¸€èˆ¬ï¼Œä¸æ¨èï¼‰</li></ul><p>é¢„å·¥ä½œï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/pre_work.pdf">pre_work.pdf</a><br>é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question1.pdf">question1.pdf</a><br>é—®é¢˜2ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question2.pdf">question2.pdf</a><br>é—®é¢˜3ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question3.pdf">question3.pdf</a><br>é—®é¢˜4ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question4-1.pdf">question4-1.pdf</a>ã€<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question4-2.pdf">question4-2.pdf</a></p><ul><li><code>.html</code> æ ¼å¼ï¼ˆæ•ˆæœè¾ƒå¥½ï¼Œæ¨èï¼‰</li></ul><p>é¢„å·¥ä½œï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/pre_work.html">pre_work.html</a><br>é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question1.html">question1.html</a><br>é—®é¢˜2ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question2.html">question2.html</a><br>é—®é¢˜3ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question3.html">question3.html</a><br>é—®é¢˜4ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question4-1.html">question4-1.html</a>ã€<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-%E4%BA%94%E4%B8%80%E6%9D%AF-B%E9%A2%98/question4-2.html">question4-2.html</a></p><ul><li><code>.ipynb</code> æ ¼å¼ï¼ˆæ•ˆæœå¾ˆå¥½ï¼Œå¼ºçƒˆæ¨èï¼‰</li></ul><p><font color="yellow">ä»˜è´¹å†…å®¹</font>ï¼Œç§ä¿¡å‘ï¼Œè”ç³»æ–¹å¼è§åšå®¢é¦–é¡µ<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ•°å­¦å»ºæ¨¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°å­¦å»ºæ¨¡ </tag>
            
            <tag> 2022å¹´ç¬¬åä¹å±Šäº”ä¸€æ•°å­¦å»ºæ¨¡ç«èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡-2022,MathorCup,Cé¢˜</title>
      <link href="/2022/09/02/shu-xue-jian-mo-2022-mathorcup-c-ti/"/>
      <url>/2022/09/02/shu-xue-jian-mo-2022-mathorcup-c-ti/</url>
      
        <content type="html"><![CDATA[<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> to be categoried </category>
          
      </categories>
      
      
        <tags>
            
            <tag> to be tagged </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­¦å»ºæ¨¡-2022,MathorCup,Dé¢˜</title>
      <link href="/2022/09/02/shu-xue-jian-mo-2022-mathorcup-d-ti/"/>
      <url>/2022/09/02/shu-xue-jian-mo-2022-mathorcup-d-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><ul><li><code>.pdf</code> æ ¼å¼ï¼ˆæ•ˆæœä¸€èˆ¬ï¼Œä¸æ¨èï¼‰</li></ul><p>é¢„å·¥ä½œï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/pre_work.pdf">pre_work.pdf</a><br>é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/question1.pdf">question1.pdf</a><br>é—®é¢˜2ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/question2.pdf">question2.pdf</a><br>é—®é¢˜3ï¼š<a href="https://hhhhmdzz.github.io//PDF/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/question3.pdf">question3.pdf</a></p><ul><li><code>.html</code> æ ¼å¼ï¼ˆæ•ˆæœè¾ƒå¥½ï¼Œæ¨èï¼‰</li></ul><p>é¢„å·¥ä½œï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/pre_work.html">pre_work.html</a><br>é—®é¢˜1ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/question1.html">question1.html</a><br>é—®é¢˜2ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/question2.html">question2.html</a><br>é—®é¢˜3ï¼š<a href="https://hhhhmdzz.github.io//HTML/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-2022-MathorCup-D%E9%A2%98/question3.html">question3.html</a></p><ul><li><code>.ipynb</code> æ ¼å¼ï¼ˆæ•ˆæœå¾ˆå¥½ï¼Œå¼ºçƒˆæ¨èï¼‰</li></ul><p><font color="yellow">ä»˜è´¹å†…å®¹</font>ï¼Œç§ä¿¡å‘ï¼Œè”ç³»æ–¹å¼è§åšå®¢é¦–é¡µ<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ•°å­¦å»ºæ¨¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°å­¦å»ºæ¨¡ </tag>
            
            <tag> 2022å¹´ç¬¬åäºŒå±ŠMathorCupé«˜æ ¡æ•°å­¦å»ºæ¨¡æŒ‘æˆ˜èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>test</title>
      <link href="/2022/08/17/test/"/>
      <url>/2022/08/17/test/</url>
      
        <content type="html"><![CDATA[<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> to be categoried </category>
          
      </categories>
      
      
        <tags>
            
            <tag> to be tagged </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LaTeXéæ•°å­¦ç¬¦å·</title>
      <link href="/2022/07/02/latex-fei-shu-xue-fu-hao/"/>
      <url>/2022/07/02/latex-fei-shu-xue-fu-hao/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸­æ‰€æœ‰ç¬¦å·ä¸ <code>LaTeX</code> å‘½ä»¤å‡éœ€æ·»åŠ  <code>amssymb</code> å®åŒ…ã€‚</p><h2 id="0-éæ•°å­¦ç¬¦å·"><a href="#0-éæ•°å­¦ç¬¦å·" class="headerlink" title="0. éæ•°å­¦ç¬¦å·"></a>0. éæ•°å­¦ç¬¦å·</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\dag</code></td><td align="center">$\dag$</td><td align="center"></td><td align="center"><code>\S</code></td><td align="center">$\S$</td><td align="center"></td><td align="center"><code>\copyright</code></td><td align="center">$\copyright$</td></tr><tr><td align="center"><code>\ddag</code></td><td align="center">$\ddag$</td><td align="center"></td><td align="center"><code>\P</code></td><td align="center">$\P$</td><td align="center"></td><td align="center"><code>\pounds</code></td><td align="center">$\pounds$</td></tr></tbody></table><h2 id="1-AMSå®šç•Œç¬¦"><a href="#1-AMSå®šç•Œç¬¦" class="headerlink" title="1. AMSå®šç•Œç¬¦"></a>1. AMSå®šç•Œç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\ulcorner</code></td><td align="center">$\ulcorner$</td><td align="center"></td><td align="center"><code>\urcorner</code></td><td align="center">$\urcorner$</td><td align="center"></td><td align="center"><code>\llcorner</code></td><td align="center">$\llcorner$</td><td align="center"></td><td align="center"><code>\lrcorner</code></td><td align="center">$\lrcorner$</td></tr><tr><td align="center"><code>\lvert</code></td><td align="center">$\lvert$</td><td align="center"></td><td align="center"><code>\rvert</code></td><td align="center">$\rvert$</td><td align="center"></td><td align="center"><code>\lVert</code></td><td align="center">$\lVert$</td><td align="center"></td><td align="center"><code>\rVert</code></td><td align="center">$\rVert$</td></tr></tbody></table><h2 id="2-AMSå¸Œè…Šå’Œå¸Œä¼¯æ¥å­—æ¯"><a href="#2-AMSå¸Œè…Šå’Œå¸Œä¼¯æ¥å­—æ¯" class="headerlink" title="2. AMSå¸Œè…Šå’Œå¸Œä¼¯æ¥å­—æ¯"></a>2. AMSå¸Œè…Šå’Œå¸Œä¼¯æ¥å­—æ¯</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\digamma</code></td><td align="center">$\digamma$</td><td align="center"></td><td align="center"><code>$\varkappa</code></td><td align="center">$\varkappa$</td><td align="center"></td><td align="center"><code>\beth</code></td><td align="center">$\beth$</td><td align="center"></td><td align="center"><code>\daleth</code></td><td align="center">$\daleth$</td><td align="center"></td><td align="center"><code>\gimel</code></td><td align="center">$\gimel$</td></tr></tbody></table><h2 id="3-AMSäºŒå…ƒå…³ç³»ç¬¦"><a href="#3-AMSäºŒå…ƒå…³ç³»ç¬¦" class="headerlink" title="3. AMSäºŒå…ƒå…³ç³»ç¬¦"></a>3. AMSäºŒå…ƒå…³ç³»ç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\lessdot</code></td><td align="center">$\lessdot$</td><td align="center"></td><td align="center"><code>\gtrdot</code></td><td align="center">$\gtrdot$</td><td align="center"></td><td align="center"><code>\doteqdot</code>, <code>\Doteq</code></td><td align="center">$\Doteq$</td></tr><tr><td align="center"><code>\leqslant</code></td><td align="center">$\leqslant$</td><td align="center"></td><td align="center"><code>\geqslant</code></td><td align="center">$\geqslant$</td><td align="center"></td><td align="center"><code>\risingdotseq</code></td><td align="center">$\risingdotseq$</td></tr><tr><td align="center"><code>\eqslantless</code></td><td align="center">$\eqslantless$</td><td align="center"></td><td align="center"><code>\eqslantgtr</code></td><td align="center">$\eqslantgtr$</td><td align="center"></td><td align="center"><code>\fallingdotseq</code></td><td align="center">$\fallingdotseq$</td></tr><tr><td align="center"><code>\leqq</code></td><td align="center">$\leqq$</td><td align="center"></td><td align="center"><code>\geqq</code></td><td align="center">$\geqq$</td><td align="center"></td><td align="center"><code>\eqcirc</code></td><td align="center">$\eqcirc$</td></tr><tr><td align="center"><code>\lll</code>, <code>\llless</code></td><td align="center">$\lll$</td><td align="center"></td><td align="center"><code>\ggg</code>, <code>\gggtr</code></td><td align="center">$\ggg$</td><td align="center"></td><td align="center"><code>\circeq</code></td><td align="center">$\circeq$</td></tr><tr><td align="center"><code>\lesssim</code></td><td align="center">$\lesssim$</td><td align="center"></td><td align="center"><code>\gtrsim</code></td><td align="center">$\gtrsim$</td><td align="center"></td><td align="center"><code>\triangleq</code></td><td align="center">$\triangleq$</td></tr><tr><td align="center"><code>\lessapprox</code></td><td align="center">$\lessapprox$</td><td align="center"></td><td align="center"><code>\gtrapprox</code></td><td align="center">$\gtrapprox$</td><td align="center"></td><td align="center"><code>\bumpeq</code></td><td align="center">$\bumpeq$</td></tr><tr><td align="center"><code>\lessgtr</code></td><td align="center">$\lessgtr$</td><td align="center"></td><td align="center"><code>\gtrless</code></td><td align="center">$\gtrless$</td><td align="center"></td><td align="center"><code>\Bumpeq</code></td><td align="center">$\Bumpeq$</td></tr><tr><td align="center"><code>\lesseqgtr</code></td><td align="center">$\lesseqgtr$</td><td align="center"></td><td align="center"><code>\gtreqless</code></td><td align="center">$\gtreqless$</td><td align="center"></td><td align="center"><code>\thicksim</code></td><td align="center">$\thicksim$</td></tr><tr><td align="center"><code>\lesseqqgtr</code></td><td align="center">$\lesseqqgtr$</td><td align="center"></td><td align="center"><code>\gtreqqless</code></td><td align="center">$\gtreqqless$</td><td align="center"></td><td align="center"><code>\thickapprox</code></td><td align="center">$\thickapprox$</td></tr><tr><td align="center"><code>\preccurlyeq</code></td><td align="center">$\preccurlyeq$</td><td align="center"></td><td align="center"><code>\succcurlyeq</code></td><td align="center">$\succcurlyeq$</td><td align="center"></td><td align="center"><code>\approxeq</code></td><td align="center">$\approxeq$</td></tr><tr><td align="center"><code>\curlyeqprec</code></td><td align="center">$\curlyeqprec$</td><td align="center"></td><td align="center"><code>\curlyeqsucc</code></td><td align="center">$\curlyeqsucc$</td><td align="center"></td><td align="center"><code>\backsim</code></td><td align="center">$\backsim$</td></tr><tr><td align="center"><code>\precsim</code></td><td align="center">$\precsim$</td><td align="center"></td><td align="center"><code>\succsim</code></td><td align="center">$\succsim$</td><td align="center"></td><td align="center"><code>\backsimeq</code></td><td align="center">$\backsimeq$</td></tr><tr><td align="center"><code>\precapprox</code></td><td align="center">$\precapprox$</td><td align="center"></td><td align="center"><code>\succapprox</code></td><td align="center">$\succapprox$</td><td align="center"></td><td align="center"><code>\vDash</code></td><td align="center">$\vDash$</td></tr><tr><td align="center"><code>\subseteqq</code></td><td align="center">$\subseteqq$</td><td align="center"></td><td align="center"><code>\supseteqq</code></td><td align="center">$\supseteqq$</td><td align="center"></td><td align="center"><code>\Vdash</code></td><td align="center">$\Vdash$</td></tr><tr><td align="center"><code>\Subset</code></td><td align="center">$\Subset$</td><td align="center"></td><td align="center"><code>\Supset</code></td><td align="center">$\Supset$</td><td align="center"></td><td align="center"><code>\Vvdash</code></td><td align="center">$\Vvdash$</td></tr><tr><td align="center"><code>\sqsubset</code></td><td align="center">$\sqsubset$</td><td align="center"></td><td align="center"><code>\sqsupset</code></td><td align="center">$\sqsupset$</td><td align="center"></td><td align="center"><code>\backepsilon</code></td><td align="center">$\backepsilon$</td></tr><tr><td align="center"><code>\therefore</code></td><td align="center">$\therefore$</td><td align="center"></td><td align="center"><code>\because</code></td><td align="center">$\because$</td><td align="center"></td><td align="center"><code>\varpropto</code></td><td align="center">$\varpropto$</td></tr><tr><td align="center"><code>\shortmid</code></td><td align="center">$\shortmid$</td><td align="center"></td><td align="center"><code>\shortparallel</code></td><td align="center">$\shortparallel$</td><td align="center"></td><td align="center"><code>\between</code></td><td align="center">$\between$</td></tr><tr><td align="center"><code>\smallsmile</code></td><td align="center">$\smallsmile$</td><td align="center"></td><td align="center"><code>\smallfrown</code></td><td align="center">$\smallfrown$</td><td align="center"></td><td align="center"><code>\pitchfork</code></td><td align="center">$\pitchfork$</td></tr><tr><td align="center"><code>\vartriangleleft</code></td><td align="center">$\vartriangleleft$</td><td align="center"></td><td align="center"><code>\vartriangleright</code></td><td align="center">$\vartriangleright$</td><td align="center"></td><td align="center"><code>\blacktriangleleft</code></td><td align="center">$\blacktriangleleft$</td></tr><tr><td align="center"><code>\trianglelefteq</code></td><td align="center">$\trianglelefteq$</td><td align="center"></td><td align="center"><code>\trianglerighteq</code></td><td align="center">$\trianglerighteq$</td><td align="center"></td><td align="center"><code>\blacktriangleright</code></td><td align="center">$\blacktriangleright$</td></tr></tbody></table><h2 id="4-AMSç®­å¤´"><a href="#4-AMSç®­å¤´" class="headerlink" title="4. AMSç®­å¤´"></a>4. AMSç®­å¤´</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\dashleftarrow</code></td><td align="center">$\dashleftarrow$</td><td align="center"></td><td align="center"><code>\dashrightarrow</code></td><td align="center">$\dashrightarrow$</td><td align="center"></td><td align="center"><code>\multimap</code></td><td align="center">$\multimap$</td></tr><tr><td align="center"><code>\leftleftarrows</code></td><td align="center">$\leftleftarrows$</td><td align="center"></td><td align="center"><code>\rightrightarrows</code></td><td align="center">$\rightrightarrows$</td><td align="center"></td><td align="center"><code>\upuparrows</code></td><td align="center">$\upuparrows$</td></tr><tr><td align="center"><code>\leftrightarrows</code></td><td align="center">$\leftrightarrows$</td><td align="center"></td><td align="center"><code>\rightleftarrows</code></td><td align="center">$\rightleftarrows$</td><td align="center"></td><td align="center"><code>\downdownarrows</code></td><td align="center">$\downdownarrows$</td></tr><tr><td align="center"><code>\Lleftarrow</code></td><td align="center">$\Lleftarrow$</td><td align="center"></td><td align="center"><code>\Rrightarrow</code></td><td align="center">$\Rrightarrow$</td><td align="center"></td><td align="center"><code>\upharpoonleft</code></td><td align="center">$\upharpoonleft$</td></tr><tr><td align="center"><code>\twoheadleftarrow</code></td><td align="center">$\twoheadleftarrow$</td><td align="center"></td><td align="center"><code>\twoheadrightarrow</code></td><td align="center">$\twoheadrightarrow$</td><td align="center"></td><td align="center"><code>\upharpoonright</code></td><td align="center">$\upharpoonright$</td></tr><tr><td align="center"><code>\leftarrowtail</code></td><td align="center">$\leftarrowtail$</td><td align="center"></td><td align="center"><code>\rightarrowtail</code></td><td align="center">$\rightarrowtail$</td><td align="center"></td><td align="center"><code>\downharpoonleft</code></td><td align="center">$\downharpoonleft$</td></tr><tr><td align="center"><code>\leftrightharpoons</code></td><td align="center">$\leftrightharpoons$</td><td align="center"></td><td align="center"><code>\rightleftharpoons</code></td><td align="center">$\rightleftharpoons$</td><td align="center"></td><td align="center"><code>\downharpoonright</code></td><td align="center">$\downharpoonright$</td></tr><tr><td align="center"><code>\Lsh</code></td><td align="center">$\Lsh$</td><td align="center"></td><td align="center"><code>\Rsh</code></td><td align="center">$\Rsh$</td><td align="center"></td><td align="center"><code>\rightsquigarrow</code></td><td align="center">$\rightsquigarrow$</td></tr><tr><td align="center"><code>\looparrowleft</code></td><td align="center">$\looparrowleft$</td><td align="center"></td><td align="center"><code>\looparrowright</code></td><td align="center">$\looparrowright$</td><td align="center"></td><td align="center"><code>\leftrightsquigarrow</code></td><td align="center">$\leftrightsquigarrow$</td></tr><tr><td align="center"><code>\curvearrowleft</code></td><td align="center">$\curvearrowleft$</td><td align="center"></td><td align="center"><code>\curvearrowright</code></td><td align="center">$\curvearrowright$</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><code>\circlearrowleft</code></td><td align="center">$\circlearrowleft$</td><td align="center"></td><td align="center"><code>\circlearrowright</code></td><td align="center">$\circlearrowright$</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h2 id="5-AMSäºŒå…ƒå¦å®šå…³ç³»ç¬¦å’Œç®­å¤´"><a href="#5-AMSäºŒå…ƒå¦å®šå…³ç³»ç¬¦å’Œç®­å¤´" class="headerlink" title="5. AMSäºŒå…ƒå¦å®šå…³ç³»ç¬¦å’Œç®­å¤´"></a>5. AMSäºŒå…ƒå¦å®šå…³ç³»ç¬¦å’Œç®­å¤´</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\nless</code></td><td align="center">$\nless$</td><td align="center"></td><td align="center"><code>\ngtr</code></td><td align="center">$\ngtr$</td><td align="center"></td><td align="center"><code>\varsubsetneqq</code></td><td align="center">$\varsubsetneqq$</td></tr><tr><td align="center"><code>\lneq</code></td><td align="center">$\lneq$</td><td align="center"></td><td align="center"><code>\gneq</code></td><td align="center">$\gneq$</td><td align="center"></td><td align="center"><code>\varsupsetneqq</code></td><td align="center">$\varsupsetneqq$</td></tr><tr><td align="center"><code>\nleq</code></td><td align="center">$\nleq$</td><td align="center"></td><td align="center"><code>\ngeq</code></td><td align="center">$\ngeq$</td><td align="center"></td><td align="center"><code>\nsubseteqq</code></td><td align="center">$\nsubseteqq$</td></tr><tr><td align="center"><code>\nleqslant</code></td><td align="center">$\nleqslant$</td><td align="center"></td><td align="center"><code>\ngeqslant</code></td><td align="center">$\ngeqslant$</td><td align="center"></td><td align="center"><code>\nsupseteqq</code></td><td align="center">$\nsupseteqq$</td></tr><tr><td align="center">``\lneqq`</td><td align="center">$\lneqq$</td><td align="center"></td><td align="center"><code>\gneqq</code></td><td align="center">$\gneqq$</td><td align="center"></td><td align="center"><code>\nmid</code></td><td align="center">$\nmid$</td></tr><tr><td align="center"><code>\lvertneqq</code></td><td align="center">$\lvertneqq$</td><td align="center"></td><td align="center"><code>\gvertneqq</code></td><td align="center">$\gvertneqq$</td><td align="center"></td><td align="center"><code>\nparallel</code></td><td align="center">$\nparallel$</td></tr><tr><td align="center"><code>\nleqq</code></td><td align="center">$\nleqq$</td><td align="center"></td><td align="center"><code>\ngeqq</code></td><td align="center">$\ngeqq$</td><td align="center"></td><td align="center"><code>\nshortmid</code></td><td align="center">$\nshortmid$</td></tr><tr><td align="center"><code>\lnsim</code></td><td align="center">$\lnsim$</td><td align="center"></td><td align="center"><code>\gnsim</code></td><td align="center">$\gnsim$</td><td align="center"></td><td align="center"><code>\nshortparallel</code></td><td align="center">$\nshortparallel$</td></tr><tr><td align="center"><code>\lnapprox</code></td><td align="center">$\lnapprox$</td><td align="center"></td><td align="center"><code>\gnapprox</code></td><td align="center">$\gnapprox$</td><td align="center"></td><td align="center"><code>\nsim</code></td><td align="center">$\nsim$</td></tr><tr><td align="center"><code>\nprec</code></td><td align="center">$\nprec$</td><td align="center"></td><td align="center"><code>\nsucc</code></td><td align="center">$\nsucc$</td><td align="center"></td><td align="center"><code>\ncong</code></td><td align="center">$\ncong$</td></tr><tr><td align="center"><code>\npreceq</code></td><td align="center">$\npreceq$</td><td align="center"></td><td align="center"><code>\nsucceq</code></td><td align="center">$\nsucceq$</td><td align="center"></td><td align="center"><code>\nvdash</code></td><td align="center">$\nvdash$</td></tr><tr><td align="center"><code>\precneqq</code></td><td align="center">$\precneqq$</td><td align="center"></td><td align="center"><code>\succneqq</code></td><td align="center">$\succneqq$</td><td align="center"></td><td align="center"><code>\nvDash</code></td><td align="center">$\nvDash$</td></tr><tr><td align="center"><code>\precnsim</code></td><td align="center">$\precnsim$</td><td align="center"></td><td align="center"><code>\succnsim</code></td><td align="center">$\succnsim$</td><td align="center"></td><td align="center"><code>\nVdash</code></td><td align="center">$\nVdash$</td></tr><tr><td align="center"><code>\precnapprox</code></td><td align="center">$\precnapprox$</td><td align="center"></td><td align="center"><code>\succnapprox</code></td><td align="center">$\succnapprox$</td><td align="center"></td><td align="center"><code>\nVDash</code></td><td align="center">$\nVDash$</td></tr><tr><td align="center"><code>\subsetneq</code></td><td align="center">$\subsetneq$</td><td align="center"></td><td align="center"><code>\supsetneq</code></td><td align="center">$\supsetneq$</td><td align="center"></td><td align="center"><code>\ntriangleleft</code></td><td align="center">$\ntriangleleft$</td></tr><tr><td align="center"><code>\varsubsetneq</code></td><td align="center">$\varsubsetneq$</td><td align="center"></td><td align="center"><code>\varsupsetneq</code></td><td align="center">$\varsupsetneq$</td><td align="center"></td><td align="center"><code>\ntriangleright</code></td><td align="center">$\ntriangleright$</td></tr><tr><td align="center"><code>\nsubseteq</code></td><td align="center">$\nsubseteq$</td><td align="center"></td><td align="center"><code>\nsupseteq</code></td><td align="center">$\nsupseteq$</td><td align="center"></td><td align="center"><code>\ntrianglelefteq</code></td><td align="center">$\ntrianglelefteq$</td></tr><tr><td align="center"><code>\nleftarrow</code></td><td align="center">$\nleftarrow$</td><td align="center"></td><td align="center"><code>\nrightarrow</code></td><td align="center">$\nrightarrow$</td><td align="center"></td><td align="center"><code>\nleftrightarrow</code></td><td align="center">$\nleftrightarrow$</td></tr><tr><td align="center"><code>\nLeftarrow</code></td><td align="center">$\nLeftarrow$</td><td align="center"></td><td align="center"><code>\nRightarrow</code></td><td align="center">$\nRightarrow$</td><td align="center"></td><td align="center"><code>\nLeftrightarrow</code></td><td align="center">$\nLeftrightarrow$</td></tr></tbody></table><h2 id="6-AMSäºŒå…ƒè¿ç®—ç¬¦"><a href="#6-AMSäºŒå…ƒè¿ç®—ç¬¦" class="headerlink" title="6. AMSäºŒå…ƒè¿ç®—ç¬¦"></a>6. AMSäºŒå…ƒè¿ç®—ç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\dotplus</code></td><td align="center">$\dotplus$</td><td align="center"></td><td align="center"><code>\centerdot</code></td><td align="center">$\centerdot$</td><td align="center"></td><td align="center"><code>\intercal</code></td><td align="center">$\intercal$</td></tr><tr><td align="center"><code>\ltimes</code></td><td align="center">$\ltimes$</td><td align="center"></td><td align="center"><code>\rtimes</code></td><td align="center">$\rtimes$</td><td align="center"></td><td align="center"><code>\divideontimes</code></td><td align="center">$\divideontimes$</td></tr><tr><td align="center"><code>\Cup</code>, <code>\doublecup</code></td><td align="center">$\Cup$</td><td align="center"></td><td align="center"><code>\Cap</code>, <code>\doublecap</code></td><td align="center">$\Cap$</td><td align="center"></td><td align="center"><code>\smallsetminus</code></td><td align="center">$\smallsetminus$</td></tr><tr><td align="center"><code>\veebar</code></td><td align="center">$\veebar$</td><td align="center"></td><td align="center"><code>\barwedge</code></td><td align="center">$\barwedge$</td><td align="center"></td><td align="center"><code>\doublebarwedge</code></td><td align="center">$\doublebarwedge$</td></tr><tr><td align="center"><code>\boxplus</code></td><td align="center">$\boxplus$</td><td align="center"></td><td align="center"><code>\boxminus</code></td><td align="center">$\boxminus$</td><td align="center"></td><td align="center"><code>\circleddash</code></td><td align="center">$\circleddash$</td></tr><tr><td align="center"><code>\boxtimes</code></td><td align="center">$\boxtimes$</td><td align="center"></td><td align="center"><code>\boxdot</code></td><td align="center">$\boxdot$</td><td align="center"></td><td align="center"><code>\circledcirc</code></td><td align="center">$\circledcirc$</td></tr><tr><td align="center"><code>\leftthreetimes</code></td><td align="center">$\leftthreetimes$</td><td align="center"></td><td align="center"><code>\rightthreetimes</code></td><td align="center">$\rightthreetimes$</td><td align="center"></td><td align="center"><code>\circledast</code></td><td align="center">$\circledast$</td></tr><tr><td align="center"><code>\curlyvee</code></td><td align="center">$\curlyvee$</td><td align="center"></td><td align="center"><code>\curlywedge</code></td><td align="center">$\curlywedge$</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h2 id="7-AMSå…¶ä»–ç¬¦å·"><a href="#7-AMSå…¶ä»–ç¬¦å·" class="headerlink" title="7. AMSå…¶ä»–ç¬¦å·"></a>7. AMSå…¶ä»–ç¬¦å·</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\hbar</code></td><td align="center">$\hbar$</td><td align="center"></td><td align="center"><code>\hslash</code></td><td align="center">$\hslash$</td><td align="center"></td><td align="center"><code>\Bbbk</code></td><td align="center">$\Bbbk$</td></tr><tr><td align="center"><code>\square</code></td><td align="center">$\square$</td><td align="center"></td><td align="center"><code>\blacksquare</code></td><td align="center">$\blacksquare$</td><td align="center"></td><td align="center"><code>\circledS</code></td><td align="center">$\circledS$</td></tr><tr><td align="center"><code>\vartriangle</code></td><td align="center">$\vartriangle$</td><td align="center"></td><td align="center"><code>\blacktriangle</code></td><td align="center">$\blacktriangle$</td><td align="center"></td><td align="center"><code>\complement</code></td><td align="center">$\complement$</td></tr><tr><td align="center"><code>\triangledown</code></td><td align="center">$\triangledown$</td><td align="center"></td><td align="center"><code>\blacktriangledown</code></td><td align="center">$\blacktriangledown$</td><td align="center"></td><td align="center"><code>\Game</code></td><td align="center">$\Game$</td></tr><tr><td align="center"><code>\lozenge</code></td><td align="center">$\lozenge$</td><td align="center"></td><td align="center"><code>\blacklozenge</code></td><td align="center">$\blacklozenge$</td><td align="center"></td><td align="center"><code>\bigstar</code></td><td align="center">$\bigstar$</td></tr><tr><td align="center"><code>\angle</code></td><td align="center">$\angle$</td><td align="center"></td><td align="center"><code>\measuredangle</code></td><td align="center">$\measuredangle$</td><td align="center"></td><td align="center"><code>\bigstar</code></td><td align="center">$\bigstar$</td></tr><tr><td align="center"><code>\diagup</code></td><td align="center">$\diagup$</td><td align="center"></td><td align="center"><code>\diagdown</code></td><td align="center">$\diagdown$</td><td align="center"></td><td align="center"><code>\backprime</code></td><td align="center">$\backprime$</td></tr><tr><td align="center"><code>\nexists</code></td><td align="center">$\nexists$</td><td align="center"></td><td align="center"><code>\Finv</code></td><td align="center">$\Finv$</td><td align="center"></td><td align="center"><code>\varnothing</code></td><td align="center">$\varnothing$</td></tr><tr><td align="center"><code>\eth</code></td><td align="center">$\eth$</td><td align="center"></td><td align="center"><code>\mho</code></td><td align="center">$\mho$</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><p>å‚è€ƒï¼š</p><ol><li><p><a href="http://persoweb.whu.edu.cn/mathsymb.pdf">æ•°å­¦ç¬¦å·è¡¨</a></p></li><li><p><a href="https://www.egr.msu.edu/~renjian/LaTeX-Math-Symbols.pdf">LATEX Mathematical Symbols</a></p></li><li><p><a href="https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols">LaTeX:Symbols</a></p></li><li><p><a href="https://artofproblemsolving.com/wiki/index.php/LaTeX:Commands">LaTeX:Commands</a></p></li></ol><p>æœ¬æ–‡æºç ï¼š</p><pre class="language-markdown" data-language="markdown"><code class="language-markdown">æœ¬æ–‡ä¸­æ‰€æœ‰ç¬¦å·ä¸ <span class="token code-snippet code keyword">`LaTeX`</span> å‘½ä»¤å‡éœ€æ·»åŠ  <span class="token code-snippet code keyword">`amssymb`</span> å®åŒ…ã€‚<span class="token title important"><span class="token punctuation">##</span> 0. éæ•°å­¦ç¬¦å·</span>| <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |  ç¬¦å·   |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ | ç¬¦å· |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |     ç¬¦å·     || :---------: | :-----: | :--: | :---------: | :--: | :--: | :----------: | :----------: ||   <span class="token code-snippet code keyword">`\dag`</span>    | $\dag$  |      |    <span class="token code-snippet code keyword">`\S`</span>     | $\S$ |      | <span class="token code-snippet code keyword">`\copyright`</span> | $\copyright$ ||   <span class="token code-snippet code keyword">`\ddag`</span>   | $\ddag$ |      |    <span class="token code-snippet code keyword">`\P`</span>     | $\P$ |      |  <span class="token code-snippet code keyword">`\pounds`</span>   |  $\pounds$   |<span class="token title important"><span class="token punctuation">##</span> 1. AMSå®šç•Œç¬¦</span>| <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    ç¬¦å·     |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    ç¬¦å·     |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    ç¬¦å·     |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    ç¬¦å·     || :---------: | :---------: | :--: | :---------: | :---------: | :--: | :---------: | :---------: | :--: | :---------: | :---------: || <span class="token code-snippet code keyword">`\ulcorner`</span> | $\ulcorner$ |      | <span class="token code-snippet code keyword">`\urcorner`</span> | $\urcorner$ |      | <span class="token code-snippet code keyword">`\llcorner`</span> | $\llcorner$ |      | <span class="token code-snippet code keyword">`\lrcorner`</span> | $\lrcorner$ ||  <span class="token code-snippet code keyword">`\lvert`</span>   |  $\lvert$   |      |  <span class="token code-snippet code keyword">`\rvert`</span>   |  $\rvert$   |      |  <span class="token code-snippet code keyword">`\lVert`</span>   |  $\lVert$   |      |  <span class="token code-snippet code keyword">`\rVert`</span>   |  $\rVert$   |<span class="token title important"><span class="token punctuation">##</span> 2. AMSå¸Œè…Šå’Œå¸Œä¼¯æ¥å­—æ¯</span>| <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    ç¬¦å·    |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |    ç¬¦å·     |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |  ç¬¦å·   |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |   ç¬¦å·    |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |   ç¬¦å·   || :---------: | :--------: | :--: | :----------: | :---------: | :--: | :---------: | :-----: | :--: | :---------: | :-------: | :--: | :---------: | :------: || <span class="token code-snippet code keyword">`\digamma`</span>  | $\digamma$ |      | <span class="token code-snippet code keyword">`$\varkappa`</span> | $\varkappa$ |      |   <span class="token code-snippet code keyword">`\beth`</span>   | $\beth$ |      |  <span class="token code-snippet code keyword">`\daleth`</span>  | $\daleth$ |      |  <span class="token code-snippet code keyword">`\gimel`</span>   | $\gimel$ |<span class="token title important"><span class="token punctuation">##</span> 3. AMSäºŒå…ƒå…³ç³»ç¬¦</span>|   <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   | ç¬¦å· |      |    <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤    | ç¬¦å· |      |     <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤     | ç¬¦å· || :--------------: | :--: | :--: | :---------------: | :--: | :--: | :-----------------: | :--: ||     <span class="token code-snippet code keyword">`\lessdot`</span>     |     $\lessdot$     |      |      <span class="token code-snippet code keyword">`\gtrdot`</span>      |      $\gtrdot$      |      | <span class="token code-snippet code keyword">`\doteqdot`</span>, <span class="token code-snippet code keyword">`\Doteq`</span> | $\Doteq$ ||    <span class="token code-snippet code keyword">`\leqslant`</span>    |    $\leqslant$    |      |     <span class="token code-snippet code keyword">`\geqslant`</span>     |     $\geqslant$     |      |    <span class="token code-snippet code keyword">`\risingdotseq`</span>    |    $\risingdotseq$    ||   <span class="token code-snippet code keyword">`\eqslantless`</span>   |   $\eqslantless$   |      |    <span class="token code-snippet code keyword">`\eqslantgtr`</span>    |    $\eqslantgtr$    |      |   <span class="token code-snippet code keyword">`\fallingdotseq`</span>   |   $\fallingdotseq$   ||      <span class="token code-snippet code keyword">`\leqq`</span>      |      $\leqq$      |      |       <span class="token code-snippet code keyword">`\geqq`</span>       |       $\geqq$       |      |       <span class="token code-snippet code keyword">`\eqcirc`</span>       |       $\eqcirc$       || <span class="token code-snippet code keyword">`\lll`</span>, <span class="token code-snippet code keyword">`\llless`</span> |       $\lll$       |      |  <span class="token code-snippet code keyword">`\ggg`</span>, <span class="token code-snippet code keyword">`\gggtr`</span>  |  $\ggg$  |      |       <span class="token code-snippet code keyword">`\circeq`</span>       |       $\circeq$       ||     <span class="token code-snippet code keyword">`\lesssim`</span>     |     $\lesssim$     |      |      <span class="token code-snippet code keyword">`\gtrsim`</span>      |      $\gtrsim$      |      |     <span class="token code-snippet code keyword">`\triangleq`</span>     |     $\triangleq$     ||   <span class="token code-snippet code keyword">`\lessapprox`</span>   |   $\lessapprox$   |      |    <span class="token code-snippet code keyword">`\gtrapprox`</span>    |    $\gtrapprox$    |      |       <span class="token code-snippet code keyword">`\bumpeq`</span>       |       $\bumpeq$       ||     <span class="token code-snippet code keyword">`\lessgtr`</span>     |     $\lessgtr$     |      |     <span class="token code-snippet code keyword">`\gtrless`</span>     |     $\gtrless$     |      |       <span class="token code-snippet code keyword">`\Bumpeq`</span>       |       $\Bumpeq$       ||    <span class="token code-snippet code keyword">`\lesseqgtr`</span>    |    $\lesseqgtr$    |      |    <span class="token code-snippet code keyword">`\gtreqless`</span>    |    $\gtreqless$    |      |      <span class="token code-snippet code keyword">`\thicksim`</span>      |      $\thicksim$      ||   <span class="token code-snippet code keyword">`\lesseqqgtr`</span>   |   $\lesseqqgtr$   |      |    <span class="token code-snippet code keyword">`\gtreqqless`</span>    |    $\gtreqqless$    |      |    <span class="token code-snippet code keyword">`\thickapprox`</span>    |    $\thickapprox$    ||   <span class="token code-snippet code keyword">`\preccurlyeq`</span>   |   $\preccurlyeq$   |      |   <span class="token code-snippet code keyword">`\succcurlyeq`</span>   |   $\succcurlyeq$   |      |      <span class="token code-snippet code keyword">`\approxeq`</span>      |      $\approxeq$      ||   <span class="token code-snippet code keyword">`\curlyeqprec`</span>   |   $\curlyeqprec$   |      |   <span class="token code-snippet code keyword">`\curlyeqsucc`</span>   |   $\curlyeqsucc$   |      |      <span class="token code-snippet code keyword">`\backsim`</span>      |      $\backsim$      ||     <span class="token code-snippet code keyword">`\precsim`</span>     |     $\precsim$     |      |     <span class="token code-snippet code keyword">`\succsim`</span>     |     $\succsim$     |      |     <span class="token code-snippet code keyword">`\backsimeq`</span>     |     $\backsimeq$     ||   <span class="token code-snippet code keyword">`\precapprox`</span>   |   $\precapprox$   |      |    <span class="token code-snippet code keyword">`\succapprox`</span>    |    $\succapprox$    |      |       <span class="token code-snippet code keyword">`\vDash`</span>       |       $\vDash$       ||    <span class="token code-snippet code keyword">`\subseteqq`</span>    |    $\subseteqq$    |      |    <span class="token code-snippet code keyword">`\supseteqq`</span>    |    $\supseteqq$    |      |       <span class="token code-snippet code keyword">`\Vdash`</span>       |       $\Vdash$       ||     <span class="token code-snippet code keyword">`\Subset`</span>     |     $\Subset$     |      |      <span class="token code-snippet code keyword">`\Supset`</span>      |      $\Supset$      |      |       <span class="token code-snippet code keyword">`\Vvdash`</span>       |       $\Vvdash$       ||    <span class="token code-snippet code keyword">`\sqsubset`</span>    |    $\sqsubset$    |      |     <span class="token code-snippet code keyword">`\sqsupset`</span>     |     $\sqsupset$     |      |    <span class="token code-snippet code keyword">`\backepsilon`</span>    |    $\backepsilon$    ||    <span class="token code-snippet code keyword">`\therefore`</span>    |    $\therefore$    |      |     <span class="token code-snippet code keyword">`\because`</span>     |     $\because$     |      |     <span class="token code-snippet code keyword">`\varpropto`</span>     |     $\varpropto$     ||    <span class="token code-snippet code keyword">`\shortmid`</span>    |    $\shortmid$    |      |  <span class="token code-snippet code keyword">`\shortparallel`</span>  |  $\shortparallel$  |      |      <span class="token code-snippet code keyword">`\between`</span>      |      $\between$      ||   <span class="token code-snippet code keyword">`\smallsmile`</span>   |   $\smallsmile$   |      |    <span class="token code-snippet code keyword">`\smallfrown`</span>    |    $\smallfrown$    |      |     <span class="token code-snippet code keyword">`\pitchfork`</span>     |     $\pitchfork$     || <span class="token code-snippet code keyword">`\vartriangleleft`</span> | $\vartriangleleft$ |      | <span class="token code-snippet code keyword">`\vartriangleright`</span> | $\vartriangleright$ |      | <span class="token code-snippet code keyword">`\blacktriangleleft`</span> | $\blacktriangleleft$ || <span class="token code-snippet code keyword">`\trianglelefteq`</span> | $\trianglelefteq$ |      | <span class="token code-snippet code keyword">`\trianglerighteq`</span> | $\trianglerighteq$ |      | <span class="token code-snippet code keyword">`\blacktriangleright`</span> | $\blacktriangleright$ |<span class="token title important"><span class="token punctuation">##</span> 4. AMSç®­å¤´</span>|    <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤     | ç¬¦å· |      |    <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤     | ç¬¦å· |      |     <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤      | ç¬¦å· || :----------------: | :--: | :--: | :----------------: | :--: | :--: | :------------------: | :--: ||   <span class="token code-snippet code keyword">`\dashleftarrow`</span>   |   $\dashleftarrow$   |      |  <span class="token code-snippet code keyword">`\dashrightarrow`</span>  |  $\dashrightarrow$  |  |      <span class="token code-snippet code keyword">`\multimap`</span>      |      $\multimap$      ||  <span class="token code-snippet code keyword">`\leftleftarrows`</span>  |  $\leftleftarrows$  |      | <span class="token code-snippet code keyword">`\rightrightarrows`</span> | $\rightrightarrows$ |      |     <span class="token code-snippet code keyword">`\upuparrows`</span>     |     $\upuparrows$     ||  <span class="token code-snippet code keyword">`\leftrightarrows`</span>  |  $\leftrightarrows$  |      |  <span class="token code-snippet code keyword">`\rightleftarrows`</span>  |  $\rightleftarrows$  |      |   <span class="token code-snippet code keyword">`\downdownarrows`</span>   |   $\downdownarrows$   ||    <span class="token code-snippet code keyword">`\Lleftarrow`</span>    |    $\Lleftarrow$    |      |    <span class="token code-snippet code keyword">`\Rrightarrow`</span>    |    $\Rrightarrow$    |      |    <span class="token code-snippet code keyword">`\upharpoonleft`</span>    |    $\upharpoonleft$    || <span class="token code-snippet code keyword">`\twoheadleftarrow`</span> | $\twoheadleftarrow$ |      | <span class="token code-snippet code keyword">`\twoheadrightarrow`</span> | $\twoheadrightarrow$ |      |   <span class="token code-snippet code keyword">`\upharpoonright`</span>   |   $\upharpoonright$   ||   <span class="token code-snippet code keyword">`\leftarrowtail`</span>   |   $\leftarrowtail$   |      |  <span class="token code-snippet code keyword">`\rightarrowtail`</span>  |  $\rightarrowtail$  |      |   <span class="token code-snippet code keyword">`\downharpoonleft`</span>   |   $\downharpoonleft$   || <span class="token code-snippet code keyword">`\leftrightharpoons`</span> | $\leftrightharpoons$ |      | <span class="token code-snippet code keyword">`\rightleftharpoons`</span> | $\rightleftharpoons$ |      |  <span class="token code-snippet code keyword">`\downharpoonright`</span>  |  $\downharpoonright$  ||        <span class="token code-snippet code keyword">`\Lsh`</span>        |        $\Lsh$        |      |        <span class="token code-snippet code keyword">`\Rsh`</span>        |        $\Rsh$        |      |   <span class="token code-snippet code keyword">`\rightsquigarrow`</span>   |   $\rightsquigarrow$   ||   <span class="token code-snippet code keyword">`\looparrowleft`</span>   |   $\looparrowleft$   |      |  <span class="token code-snippet code keyword">`\looparrowright`</span>  |  $\looparrowright$  |      | <span class="token code-snippet code keyword">`\leftrightsquigarrow`</span> | $\leftrightsquigarrow$ ||  <span class="token code-snippet code keyword">`\curvearrowleft`</span>  |  $\curvearrowleft$  |      |  <span class="token code-snippet code keyword">`\curvearrowright`</span>  |  $\curvearrowright$  |      |                      |                      ||  <span class="token code-snippet code keyword">`\circlearrowleft`</span>  |  $\circlearrowleft$  |      | <span class="token code-snippet code keyword">`\circlearrowright`</span> | $\circlearrowright$ |      |                      |                      |<span class="token title important"><span class="token punctuation">##</span> 5. AMSäºŒå…ƒå¦å®šå…³ç³»ç¬¦å’Œç®­å¤´</span>|  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  | ç¬¦å· |      |  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  | ç¬¦å· |      |   <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤    | ç¬¦å· || :-----------: | :--: | :--: | :-----------: | :--: | :--: | :--------------: | :--: ||    <span class="token code-snippet code keyword">`\nless`</span>    |   $\nless$  ||<span class="token code-snippet code keyword">`\ngtr`</span>|$\ngtr$||<span class="token code-snippet code keyword">`\varsubsetneqq`</span>|$\varsubsetneqq$||     <span class="token code-snippet code keyword">`\lneq`</span>     | $\lneq$ ||<span class="token code-snippet code keyword">`\gneq`</span>|$\gneq$||<span class="token code-snippet code keyword">`\varsupsetneqq`</span>|$\varsupsetneqq$||     <span class="token code-snippet code keyword">`\nleq`</span>     |     $\nleq$     |      |     <span class="token code-snippet code keyword">`\ngeq`</span>     |     $\ngeq$     |      |   <span class="token code-snippet code keyword">`\nsubseteqq`</span>   |   $\nsubseteqq$   ||  <span class="token code-snippet code keyword">`\nleqslant`</span>  |  $\nleqslant$  |      |  <span class="token code-snippet code keyword">`\ngeqslant`</span>  |  $\ngeqslant$  |      |   <span class="token code-snippet code keyword">`\nsupseteqq`</span>   |   $\nsupseteqq$   ||    ``\lneqq<span class="token code-snippet code keyword">`    |    $\lneqq$    |      |    `</span>\gneqq<span class="token code-snippet code keyword">`    |    $\gneqq$    |      |      `</span>\nmid`      |      $\nmid$      ||  <span class="token code-snippet code keyword">`\lvertneqq`</span>  |  $\lvertneqq$  |      |  <span class="token code-snippet code keyword">`\gvertneqq`</span>  |  $\gvertneqq$  |      |    <span class="token code-snippet code keyword">`\nparallel`</span>    |    $\nparallel$    ||    <span class="token code-snippet code keyword">`\nleqq`</span>    |    $\nleqq$    |      |    <span class="token code-snippet code keyword">`\ngeqq`</span>    |    $\ngeqq$    |      |    <span class="token code-snippet code keyword">`\nshortmid`</span>    |    $\nshortmid$    ||    <span class="token code-snippet code keyword">`\lnsim`</span>    |    $\lnsim$    |      |    <span class="token code-snippet code keyword">`\gnsim`</span>    |    $\gnsim$    |      | <span class="token code-snippet code keyword">`\nshortparallel`</span> | $\nshortparallel$ ||   <span class="token code-snippet code keyword">`\lnapprox`</span>   |   $\lnapprox$   |      |   <span class="token code-snippet code keyword">`\gnapprox`</span>   |   $\gnapprox$   |      |      <span class="token code-snippet code keyword">`\nsim`</span>      |      $\nsim$      ||    <span class="token code-snippet code keyword">`\nprec`</span>    |    $\nprec$    |      |    <span class="token code-snippet code keyword">`\nsucc`</span>    |    $\nsucc$    |      |      <span class="token code-snippet code keyword">`\ncong`</span>      |      $\ncong$      ||   <span class="token code-snippet code keyword">`\npreceq`</span>   |   $\npreceq$   |      |   <span class="token code-snippet code keyword">`\nsucceq`</span>   |   $\nsucceq$   |      |     <span class="token code-snippet code keyword">`\nvdash`</span>     |     $\nvdash$     ||   <span class="token code-snippet code keyword">`\precneqq`</span>   |   $\precneqq$   |      |   <span class="token code-snippet code keyword">`\succneqq`</span>   |   $\succneqq$   |      |     <span class="token code-snippet code keyword">`\nvDash`</span>     |     $\nvDash$     ||   <span class="token code-snippet code keyword">`\precnsim`</span>   |   $\precnsim$   |      |   <span class="token code-snippet code keyword">`\succnsim`</span>   |   $\succnsim$   |      |     <span class="token code-snippet code keyword">`\nVdash`</span>     |     $\nVdash$     || <span class="token code-snippet code keyword">`\precnapprox`</span> | $\precnapprox$ |      | <span class="token code-snippet code keyword">`\succnapprox`</span> | $\succnapprox$ |      |     <span class="token code-snippet code keyword">`\nVDash`</span>     |     $\nVDash$     ||  <span class="token code-snippet code keyword">`\subsetneq`</span>  |  $\subsetneq$  |      |  <span class="token code-snippet code keyword">`\supsetneq`</span>  |  $\supsetneq$  |      |  <span class="token code-snippet code keyword">`\ntriangleleft`</span>  |  $\ntriangleleft$  || <span class="token code-snippet code keyword">`\varsubsetneq`</span> | $\varsubsetneq$ |      | <span class="token code-snippet code keyword">`\varsupsetneq`</span> | $\varsupsetneq$ |      | <span class="token code-snippet code keyword">`\ntriangleright`</span> | $\ntriangleright$ ||  <span class="token code-snippet code keyword">`\nsubseteq`</span>  |  $\nsubseteq$  |      |  <span class="token code-snippet code keyword">`\nsupseteq`</span>  |  $\nsupseteq$  |      | <span class="token code-snippet code keyword">`\ntrianglelefteq`</span> | $\ntrianglelefteq$ ||  <span class="token code-snippet code keyword">`\nleftarrow`</span>  |  $\nleftarrow$  |      | <span class="token code-snippet code keyword">`\nrightarrow`</span> | $\nrightarrow$ |      | <span class="token code-snippet code keyword">`\nleftrightarrow`</span> | $\nleftrightarrow$ ||  <span class="token code-snippet code keyword">`\nLeftarrow`</span>  |  $\nLeftarrow$  |      | <span class="token code-snippet code keyword">`\nRightarrow`</span> | $\nRightarrow$ |      | <span class="token code-snippet code keyword">`\nLeftrightarrow`</span> | $\nLeftrightarrow$ |<span class="token title important"><span class="token punctuation">##</span> 6. AMSäºŒå…ƒè¿ç®—ç¬¦</span>|    <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤     | ç¬¦å· |      |    <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤     | ç¬¦å· |      |   <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   | ç¬¦å· || :----------------: | :--: | :--: | :----------------: | :--: | :--: | :-------------: | :--: ||      <span class="token code-snippet code keyword">`\dotplus`</span>      |      $\dotplus$      |      |     <span class="token code-snippet code keyword">`\centerdot`</span>     |    $\centerdot$    |      |    <span class="token code-snippet code keyword">`\intercal`</span>    |    $\intercal$    ||      <span class="token code-snippet code keyword">`\ltimes`</span>      |      $\ltimes$      |      |      <span class="token code-snippet code keyword">`\rtimes`</span>      |      $\rtimes$      |      | <span class="token code-snippet code keyword">`\divideontimes`</span> | $\divideontimes$ || <span class="token code-snippet code keyword">`\Cup`</span>, <span class="token code-snippet code keyword">`\doublecup`</span> | $\Cup$ |      | <span class="token code-snippet code keyword">`\Cap`</span>, <span class="token code-snippet code keyword">`\doublecap`</span> | $\Cap$ |      | <span class="token code-snippet code keyword">`\smallsetminus`</span> | $\smallsetminus$ ||      <span class="token code-snippet code keyword">`\veebar`</span>      |      $\veebar$      |      |     <span class="token code-snippet code keyword">`\barwedge`</span>     |     $\barwedge$     |      | <span class="token code-snippet code keyword">`\doublebarwedge`</span> | $\doublebarwedge$ ||      <span class="token code-snippet code keyword">`\boxplus`</span>      |      $\boxplus$      |      |     <span class="token code-snippet code keyword">`\boxminus`</span>     |     $\boxminus$     |      |  <span class="token code-snippet code keyword">`\circleddash`</span>  |  $\circleddash$  ||     <span class="token code-snippet code keyword">`\boxtimes`</span>     |     $\boxtimes$     |      |      <span class="token code-snippet code keyword">`\boxdot`</span>      |      $\boxdot$      |      |  <span class="token code-snippet code keyword">`\circledcirc`</span>  |  $\circledcirc$  ||  <span class="token code-snippet code keyword">`\leftthreetimes`</span>  |  $\leftthreetimes$  |      |  <span class="token code-snippet code keyword">`\rightthreetimes`</span>  | $\rightthreetimes$ |      |   <span class="token code-snippet code keyword">`\circledast`</span>   |   $\circledast$   ||     <span class="token code-snippet code keyword">`\curlyvee`</span>     |     $\curlyvee$     |      |    <span class="token code-snippet code keyword">`\curlywedge`</span>    |    $\curlywedge$    |      |                 |                 |<span class="token title important"><span class="token punctuation">##</span> 7. AMSå…¶ä»–ç¬¦å·</span>|  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  | ç¬¦å· |      |    <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤     | ç¬¦å· |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ | ç¬¦å· || :-----------: | :--: | :--: | :----------------: | :--: | :--: | :---------: | :--: ||     <span class="token code-snippet code keyword">`\hbar`</span>     |     $\hbar$     |      |      <span class="token code-snippet code keyword">`\hslash`</span>      |      $\hslash$      |      |    <span class="token code-snippet code keyword">`\Bbbk`</span>    |    $\Bbbk$    ||    <span class="token code-snippet code keyword">`\square`</span>    |    $\square$    |      |    <span class="token code-snippet code keyword">`\blacksquare`</span>    |    $\blacksquare$    |      |  <span class="token code-snippet code keyword">`\circledS`</span>  |  $\circledS$  || <span class="token code-snippet code keyword">`\vartriangle`</span> | $\vartriangle$ |      |   <span class="token code-snippet code keyword">`\blacktriangle`</span>   |   $\blacktriangle$   |      | <span class="token code-snippet code keyword">`\complement`</span> | $\complement$ || <span class="token code-snippet code keyword">`\triangledown`</span> | $\triangledown$ |      | <span class="token code-snippet code keyword">`\blacktriangledown`</span> | $\blacktriangledown$ |      |    <span class="token code-snippet code keyword">`\Game`</span>    |    $\Game$    ||   <span class="token code-snippet code keyword">`\lozenge`</span>   |   $\lozenge$   |      |   <span class="token code-snippet code keyword">`\blacklozenge`</span>   |   $\blacklozenge$   |      |  <span class="token code-snippet code keyword">`\bigstar`</span>  |  $\bigstar$  ||    <span class="token code-snippet code keyword">`\angle`</span>    |    $\angle$    |      |   <span class="token code-snippet code keyword">`\measuredangle`</span>   |   $\measuredangle$   |      |  <span class="token code-snippet code keyword">`\bigstar`</span>  |  $\bigstar$  ||    <span class="token code-snippet code keyword">`\diagup`</span>    |    $\diagup$    |      |     <span class="token code-snippet code keyword">`\diagdown`</span>     |     $\diagdown$     |      | <span class="token code-snippet code keyword">`\backprime`</span> | $\backprime$ ||   <span class="token code-snippet code keyword">`\nexists`</span>   |   $\nexists$   |      |       <span class="token code-snippet code keyword">`\Finv`</span>       |       $\Finv$       |      | <span class="token code-snippet code keyword">`\varnothing`</span> | $\varnothing$ ||     <span class="token code-snippet code keyword">`\eth`</span>     |     $\eth$     |      |        <span class="token code-snippet code keyword">`\mho`</span>        |        $\mho$        |      |             |             |å‚è€ƒï¼š<span class="token list punctuation">1.</span> <span class="token url">[<span class="token content">æ•°å­¦ç¬¦å·è¡¨</span>](<span class="token url">http://persoweb.whu.edu.cn/mathsymb.pdf</span>)</span><span class="token list punctuation">2.</span> <span class="token url">[<span class="token content">LATEX Mathematical Symbols</span>](<span class="token url">https://www.egr.msu.edu/~renjian/LaTeX-Math-Symbols.pdf</span>)</span><span class="token list punctuation">3.</span> <span class="token url">[<span class="token content">LaTeX:Symbols</span>](<span class="token url">https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols</span>)</span><span class="token list punctuation">4.</span> <span class="token url">[<span class="token content">LaTeX:Commands</span>](<span class="token url">https://artofproblemsolving.com/wiki/index.php/LaTeX:Commands</span>)</span></code></pre><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> LaTeX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LaTeX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LaTeXæ•°å­¦ç¬¦å·</title>
      <link href="/2022/07/02/latex-shu-xue-fu-hao/"/>
      <url>/2022/07/02/latex-shu-xue-fu-hao/</url>
      
        <content type="html"><![CDATA[<p><font color="red"></font></p><p>ä¸¤ä¸ª LaTeX å·¥å…·ï¼ˆå…¶å®æ˜¯ä¸€ä¸ªï¼‰ï¼š<a href="https://latex.codecogs.com/">https://latex.codecogs.com/</a> å’Œ <a href="https://latex.codecogs.com/eqneditor/editor.php">https://latex.codecogs.com/eqneditor/editor.php</a></p><p>æ³¨ï¼šçº¢è‰²å‘½ä»¤éœ€è¦å¯¼å…¥å®åŒ… <code>latexsym</code></p><h2 id="1-æ•°å­¦æ¨¡å¼é‡éŸ³ç¬¦"><a href="#1-æ•°å­¦æ¨¡å¼é‡éŸ³ç¬¦" class="headerlink" title="1. æ•°å­¦æ¨¡å¼é‡éŸ³ç¬¦"></a>1. æ•°å­¦æ¨¡å¼é‡éŸ³ç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center"><strong>ç¬¦å·</strong></th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center"><strong>ç¬¦å·</strong></th></tr></thead><tbody><tr><td align="center"><code>\hat{a}</code></td><td align="center">$\hat{a}$</td><td align="center"></td><td align="center"><code>\widehat{A}</code></td><td align="center">$\widehat{A}$</td></tr><tr><td align="center"><code>\tilde{a}</code></td><td align="center">$\tilde{a}$</td><td align="center"></td><td align="center"><code>\widetilde{A}</code></td><td align="center">$\widetilde{A}$</td></tr><tr><td align="center"><code>\dot{a}</code></td><td align="center">$\dot{a}$</td><td align="center"></td><td align="center"><code>\ddot{a}</code></td><td align="center">$\ddot{a}$</td></tr><tr><td align="center"><code>\vec{a}</code></td><td align="center">$\vec{a}$</td><td align="center"></td><td align="center"><code>\breve{a}</code></td><td align="center">$\breve{a}$</td></tr><tr><td align="center"><code>\bar{a}</code></td><td align="center">$\bar{a}$</td><td align="center"></td><td align="center"><code>\acute{a}</code></td><td align="center">$\acute{a}$</td></tr><tr><td align="center"><code>\check{a}</code></td><td align="center">$\check{a}$</td><td align="center"></td><td align="center"><code>\grave{a}</code></td><td align="center">$\grave{a}$</td></tr></tbody></table><h2 id="2-å¸Œè…Šå­—æ¯"><a href="#2-å¸Œè…Šå­—æ¯" class="headerlink" title="2. å¸Œè…Šå­—æ¯"></a>2. å¸Œè…Šå­—æ¯</h2><table><thead><tr><th align="center">å¤§å†™<code>LaTeX</code>å‘½ä»¤</th><th align="center">å°å†™<code>LaTeX</code>å‘½ä»¤</th><th align="center">å¤§å†™</th><th align="center">å°å†™</th><th align="center"></th><th align="center">å¤§å†™<code>LaTeX</code>å‘½ä»¤</th><th align="center">å°å†™<code>LaTeX</code>å‘½ä»¤</th><th align="center">å¤§å†™</th><th align="center">å°å†™</th></tr></thead><tbody><tr><td align="center"><code>A</code></td><td align="center"><code>\alpha</code></td><td align="center">$A$</td><td align="center">$\alpha$</td><td align="center"></td><td align="center"><code>N</code></td><td align="center"><code>\nu</code></td><td align="center">$N$</td><td align="center">$\nu$</td></tr><tr><td align="center"><code>B</code></td><td align="center"><code>\beta</code></td><td align="center">$B$</td><td align="center">$\beta$</td><td align="center"></td><td align="center"><code>\Xi</code></td><td align="center"><code>\xi</code></td><td align="center">$\Xi$</td><td align="center">$\xi$</td></tr><tr><td align="center"><code>\Gamma</code></td><td align="center"><code>\gamma</code></td><td align="center">$\Gamma$</td><td align="center">$\gamma$</td><td align="center"></td><td align="center"><code>O</code></td><td align="center"><code>o</code></td><td align="center">$O$</td><td align="center">$o$</td></tr><tr><td align="center"><code>\Delta</code></td><td align="center"><code>\delta</code></td><td align="center">$\Delta$</td><td align="center">$\delta$</td><td align="center"></td><td align="center"><code>\Pi</code></td><td align="center"><code>\pi</code>, <code>\varpi</code></td><td align="center">$\Pi$</td><td align="center">$\pi$, $\varpi$</td></tr><tr><td align="center"><code>E</code></td><td align="center"><code>\epsilon</code>, <code>\varepsilon</code></td><td align="center">$E$</td><td align="center">$\epsilon$, $\varepsilon$</td><td align="center"></td><td align="center"><code>P</code></td><td align="center"><code>\rho</code>, <code>\varrho</code></td><td align="center">$P$</td><td align="center">$\rho$, $\varrho$</td></tr><tr><td align="center"><code>Z</code></td><td align="center"><code>\zeta</code></td><td align="center">$Z$</td><td align="center">$\zeta$</td><td align="center"></td><td align="center"><code>\Sigma</code></td><td align="center"><code>\sigma</code>, <code>\varsigma</code></td><td align="center">$\Sigma$</td><td align="center">$\sigma$, $\varsigma$</td></tr><tr><td align="center"><code>H</code></td><td align="center"><code>\eta</code></td><td align="center">$H$</td><td align="center">$\eta$</td><td align="center"></td><td align="center"><code>T</code></td><td align="center"><code>\tau</code></td><td align="center">$T$</td><td align="center">$\tau$</td></tr><tr><td align="center"><code>\Theta</code></td><td align="center"><code>\theta</code>, <code>\vartheta</code></td><td align="center">$\Theta$</td><td align="center">$\theta$, $\vartheta$</td><td align="center"></td><td align="center"><code>\Upsilon</code></td><td align="center"><code>\upsilon</code></td><td align="center">$\Upsilon$</td><td align="center">$\upsilon$</td></tr><tr><td align="center"><code>I</code></td><td align="center"><code>\iota</code></td><td align="center">$I$</td><td align="center">$\iota$</td><td align="center"></td><td align="center"><code>\Phi</code></td><td align="center"><code>\phi</code>, <code>\varphi</code></td><td align="center">$\Phi$</td><td align="center">$\phi$, $\varphi$</td></tr><tr><td align="center"><code>K</code></td><td align="center"><code>\kappa</code></td><td align="center">$K$</td><td align="center">$\kappa$</td><td align="center"></td><td align="center"><code>X</code></td><td align="center"><code>\chi</code></td><td align="center">$X$</td><td align="center">$\chi$</td></tr><tr><td align="center"><code>\Lambda</code></td><td align="center"><code>\lambda</code></td><td align="center">$\Lambda$</td><td align="center">$\lambda$</td><td align="center"></td><td align="center"><code>\Psi</code></td><td align="center"><code>\psi</code></td><td align="center">$\Psi$</td><td align="center">$\psi$</td></tr><tr><td align="center"><code>M</code></td><td align="center"><code>\mu</code></td><td align="center">$M$</td><td align="center">$\mu$</td><td align="center"></td><td align="center"><code>\Omega</code></td><td align="center"><code>\omega</code></td><td align="center">$\Omega$</td><td align="center">$\omega$</td></tr></tbody></table><h2 id="3-äºŒå…ƒå…³ç³»ç¬¦"><a href="#3-äºŒå…ƒå…³ç³»ç¬¦" class="headerlink" title="3. äºŒå…ƒå…³ç³»ç¬¦"></a>3. äºŒå…ƒå…³ç³»ç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>&lt;</code></td><td align="center">$&lt;$</td><td align="center"></td><td align="center"><code>&gt;</code></td><td align="center">$&gt;$</td><td align="center"></td><td align="center"><code>=</code></td><td align="center">$=$</td></tr><tr><td align="center"><code>\leq</code>, <code>\le</code></td><td align="center">$\le$</td><td align="center"></td><td align="center"><code>\geq</code>, <code>\ge</code></td><td align="center">$\geq$</td><td align="center"></td><td align="center"><code>\equiv</code></td><td align="center">$\equiv$</td></tr><tr><td align="center"><code>\ll</code></td><td align="center">$\ll$</td><td align="center"></td><td align="center"><code>\gg</code></td><td align="center">$\gg$</td><td align="center"></td><td align="center"><code>\doteq</code></td><td align="center">$\doteq$</td></tr><tr><td align="center"><code>\prec</code></td><td align="center">$\prec$</td><td align="center"></td><td align="center"><code>\succ</code></td><td align="center">$\succ$</td><td align="center"></td><td align="center"><code>\sim</code></td><td align="center">$\sim$</td></tr><tr><td align="center"><code>\preceq</code></td><td align="center">$\preceq$</td><td align="center"></td><td align="center"><code>\succeq</code></td><td align="center">$\succeq$</td><td align="center"></td><td align="center"><code>\simeq</code></td><td align="center">$\simeq$</td></tr><tr><td align="center"><code>\subset</code></td><td align="center">$\subset$</td><td align="center"></td><td align="center"><code>\supset</code></td><td align="center">$\supset$</td><td align="center"></td><td align="center"><code>\approx</code></td><td align="center">$\approx$</td></tr><tr><td align="center"><code>\subseteq</code></td><td align="center">$\subseteq$</td><td align="center"></td><td align="center"><code>\supseteq</code></td><td align="center">$\supseteq$</td><td align="center"></td><td align="center"><code>\cong</code></td><td align="center">$\cong$</td></tr><tr><td align="center"><font color="red"><code>\sqsubset</code></font></td><td align="center"><font color="red">$\sqsubset$</font></td><td align="center"></td><td align="center"><font color="red"><code>\sqsupset</code></font></td><td align="center"><font color="red">$\sqsupset$</font></td><td align="center"></td><td align="center"><font color="red"><code>\Join</code></font></td><td align="center"><font color="red">$\Join$</font></td></tr><tr><td align="center"><code>\sqsubseteq</code></td><td align="center">$\sqsubseteq$</td><td align="center"></td><td align="center"><code>\sqsupseteq</code></td><td align="center">$\sqsupseteq$</td><td align="center"></td><td align="center"><code>\bowtie</code></td><td align="center">$\bowtie$</td></tr><tr><td align="center"><code>\in</code></td><td align="center">$\in$</td><td align="center"></td><td align="center"><code>\ni</code>, <code>\owns</code></td><td align="center">$\ni$</td><td align="center"></td><td align="center"><code>\propto</code></td><td align="center">$\propto$</td></tr><tr><td align="center"><code>\vdash</code></td><td align="center">$\vdash$</td><td align="center"></td><td align="center"><code>\dashv</code></td><td align="center">$\dashv$</td><td align="center"></td><td align="center"><code>\models</code></td><td align="center">$\models$</td></tr><tr><td align="center"><code>\mid</code></td><td align="center">$\mid$</td><td align="center"></td><td align="center"><code>\parallel</code></td><td align="center">$\parallel$</td><td align="center"></td><td align="center"><code>\perp</code></td><td align="center">$\perp$</td></tr><tr><td align="center"><code>\smile</code></td><td align="center">$\smile$</td><td align="center"></td><td align="center"><code>\frown</code></td><td align="center">$\frown$</td><td align="center"></td><td align="center"><code>\asymp</code></td><td align="center">$\asymp$</td></tr><tr><td align="center"><code>:</code></td><td align="center">$:$</td><td align="center"></td><td align="center"><code>\notin</code></td><td align="center">$\notin$</td><td align="center"></td><td align="center"><code>\neq</code>, <code>\ne</code></td><td align="center">$\neq$</td></tr></tbody></table><h2 id="4-äºŒå…ƒè¿ç®—ç¬¦"><a href="#4-äºŒå…ƒè¿ç®—ç¬¦" class="headerlink" title="4. äºŒå…ƒè¿ç®—ç¬¦"></a>4. äºŒå…ƒè¿ç®—ç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\pm</code></td><td align="center">$\pm$</td><td align="center"></td><td align="center"><code>\mp</code></td><td align="center">$\mp$</td><td align="center"></td><td align="center"><code>\triangleleft</code></td><td align="center">$\triangleleft$</td></tr><tr><td align="center"><code>\cdot</code></td><td align="center">$\cdot$</td><td align="center"></td><td align="center"><code>\div</code></td><td align="center">$\div$</td><td align="center"></td><td align="center"><code>\triangleright</code></td><td align="center">$\triangleright$</td></tr><tr><td align="center"><code>\times</code></td><td align="center">$\times$</td><td align="center"></td><td align="center"><code>\setminus</code></td><td align="center">$\setminus$</td><td align="center"></td><td align="center"><code>\star</code></td><td align="center">$\star$</td></tr><tr><td align="center"><code>\cup</code></td><td align="center">$\cup$</td><td align="center"></td><td align="center"><code>\cap</code></td><td align="center">$\cap$</td><td align="center"></td><td align="center"><code>\ast</code></td><td align="center">$\ast$</td></tr><tr><td align="center"><code>\sqcup</code></td><td align="center">$\sqcup$</td><td align="center"></td><td align="center"><code>\sqcap</code></td><td align="center">$\sqcap$</td><td align="center"></td><td align="center"><code>\circ</code></td><td align="center">$\circ$</td></tr><tr><td align="center"><code>\vee</code>, <code>\lor</code></td><td align="center">$\vee$</td><td align="center"></td><td align="center"><code>\wedge</code>, <code>land</code></td><td align="center">$\land$</td><td align="center"></td><td align="center"><code>\bullet</code></td><td align="center">$\bullet$</td></tr><tr><td align="center"><code>\oplus</code></td><td align="center">$\oplus$</td><td align="center"></td><td align="center"><code>\ominus</code></td><td align="center">$\ominus$</td><td align="center"></td><td align="center"><code>\diamond</code></td><td align="center">$\diamond$</td></tr><tr><td align="center"><code>\odot</code></td><td align="center">$\odot$</td><td align="center"></td><td align="center"><code>\oslash</code></td><td align="center">$\oslash$</td><td align="center"></td><td align="center"><code>\uplus</code></td><td align="center">$\uplus$</td></tr><tr><td align="center"><code>\otimes</code></td><td align="center">$\otimes$</td><td align="center"></td><td align="center"><code>\bigcirc</code></td><td align="center">$\bigcirc$</td><td align="center"></td><td align="center"><code>\amalg</code></td><td align="center">$\amalg$</td></tr><tr><td align="center"><code>\bigtriangleup</code></td><td align="center">$\bigtriangleup$</td><td align="center"></td><td align="center"><code>\bigtriangledown</code></td><td align="center">$\bigtriangledown$</td><td align="center"></td><td align="center"><code>\dagger</code></td><td align="center">$\dagger$</td></tr><tr><td align="center"><font color="red"><code>\lhd</code></font></td><td align="center"><font color="red">$\lhd$</font></td><td align="center"></td><td align="center"><font color="red"><code>\rhd</code></font></td><td align="center"><font color="red">$\rhd$</font></td><td align="center"></td><td align="center"><code>\ddagger</code></td><td align="center">$\ddagger$</td></tr><tr><td align="center"><font color="red"><code>\unlhd</code></font></td><td align="center"><font color="red">$\unlhd$</font></td><td align="center"></td><td align="center"><font color="red"><code>\unrhd</code></font></td><td align="center"><font color="red">$\unrhd$</font></td><td align="center"></td><td align="center"><code>\wr</code></td><td align="center">$\wr$</td></tr></tbody></table><h2 id="5-å¤§å°ºåº¦è¿ç®—ç¬¦"><a href="#5-å¤§å°ºåº¦è¿ç®—ç¬¦" class="headerlink" title="5. å¤§å°ºåº¦è¿ç®—ç¬¦"></a>5. å¤§å°ºåº¦è¿ç®—ç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\sum</code></td><td align="center">$\sum$</td><td align="center"></td><td align="center"><code>\bigcup</code></td><td align="center">$\bigcup$</td><td align="center"></td><td align="center"><code>\bigvee</code></td><td align="center">$\bigvee$</td><td align="center"></td><td align="center"><code>\bigoplus</code></td><td align="center">$\bigoplus$</td></tr><tr><td align="center"><code>\prod</code></td><td align="center">$\prod$</td><td align="center"></td><td align="center"><code>\bigcap</code></td><td align="center">$\bigcap$</td><td align="center"></td><td align="center"><code>\bigwedge</code></td><td align="center">$\bigwedge$</td><td align="center"></td><td align="center"><code>\bigotimes</code></td><td align="center">$\bigotimes$</td></tr><tr><td align="center"><code>\coprod</code></td><td align="center">$\coprod$</td><td align="center"></td><td align="center"><code>\bigsqcup</code></td><td align="center">$\bigsqcup$</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>\bigodot</code></td><td align="center">$\bigodot$</td></tr><tr><td align="center"><code>\int</code></td><td align="center">$\int$</td><td align="center"></td><td align="center"><code>\oint</code></td><td align="center">$\oint$</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>\biguplus</code></td><td align="center">$\biguplus$</td></tr></tbody></table><h2 id="6-ç®­å¤´"><a href="#6-ç®­å¤´" class="headerlink" title="6. ç®­å¤´"></a>6. ç®­å¤´</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>+</code></td><td align="center">$+$</td><td align="center"></td><td align="center"><code>-</code></td><td align="center">$-$</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><code>\leftarrow</code>, <code>\gets</code></td><td align="center">$\gets$</td><td align="center"></td><td align="center"><code>\longleftarrow</code></td><td align="center">$\longleftarrow$</td><td align="center"></td><td align="center"><code>\uparrow</code></td><td align="center">$\uparrow$</td></tr><tr><td align="center"><code>\rightarrow</code>, <code>\to</code></td><td align="center">$\to$</td><td align="center"></td><td align="center"><code>\longrightarrow</code></td><td align="center">$\longrightarrow$</td><td align="center"></td><td align="center"><code>\downarrow</code></td><td align="center">$\downarrow$</td></tr><tr><td align="center"><code>\leftrightarrow</code></td><td align="center">$\leftrightarrow$</td><td align="center"></td><td align="center"><code>\longleftrightarrow</code></td><td align="center">$\longleftrightarrow$</td><td align="center"></td><td align="center"><code>\updownarrow</code></td><td align="center">$\updownarrow$</td></tr><tr><td align="center"><code>\Leftarrow</code></td><td align="center">$\Leftarrow$</td><td align="center"></td><td align="center"><code>\Longleftarrow</code></td><td align="center">$\Longleftarrow$</td><td align="center"></td><td align="center"><code>\Uparrow</code></td><td align="center">$\Uparrow$</td></tr><tr><td align="center"><code>\Rightarrow</code></td><td align="center">$\Rightarrow$</td><td align="center"></td><td align="center"><code>\Longrightarrow</code></td><td align="center">$\Longrightarrow$</td><td align="center"></td><td align="center"><code>\Downarrow</code></td><td align="center">$\Downarrow$</td></tr><tr><td align="center"><code>\Leftrightarrow</code></td><td align="center">$\Leftrightarrow$</td><td align="center"></td><td align="center"><code>\Longleftrightarrow</code></td><td align="center">$\Longleftrightarrow$</td><td align="center"></td><td align="center"><code>\Updownarrow</code></td><td align="center">$\Updownarrow$</td></tr><tr><td align="center"><code>\mapsto</code></td><td align="center">$\mapsto$</td><td align="center"></td><td align="center"><code>\longmapsto</code></td><td align="center">$\longmapsto$</td><td align="center"></td><td align="center"><code>\nearrow</code></td><td align="center">$\nearrow$</td></tr><tr><td align="center"><code>\hookleftarrow</code></td><td align="center">$\hookleftarrow$</td><td align="center"></td><td align="center"><code>\hookrightarrow</code></td><td align="center">$\hookrightarrow$</td><td align="center"></td><td align="center"><code>\searrow</code></td><td align="center">$\searrow$</td></tr><tr><td align="center"><code>\leftharpoonup</code></td><td align="center">$\leftharpoonup$</td><td align="center"></td><td align="center"><code>\rightharpoonup</code></td><td align="center">$\rightharpoonup$</td><td align="center"></td><td align="center"><code>\swarrow</code></td><td align="center">$\swarrow$</td></tr><tr><td align="center"><code>\leftharpoondown</code></td><td align="center">$\leftharpoondown$</td><td align="center"></td><td align="center"><code>\rightharpoondown</code></td><td align="center">$\rightharpoondown$</td><td align="center"></td><td align="center"><code>\nwarrow</code></td><td align="center">$\nwarrow$</td></tr><tr><td align="center"><code>\rightleftharpoons</code></td><td align="center">$\rightleftharpoons$</td><td align="center"></td><td align="center"><code>\iff</code></td><td align="center">$\iff$</td><td align="center"></td><td align="center"><font color="red"><code>\leadsto</code></font></td><td align="center"><font color="red">$\leadsto$</font></td></tr></tbody></table><h2 id="7-å®šç•Œç¬¦"><a href="#7-å®šç•Œç¬¦" class="headerlink" title="7. å®šç•Œç¬¦"></a>7. å®šç•Œç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>(</code></td><td align="center">$($</td><td align="center"></td><td align="center"><code>)</code></td><td align="center">$)$</td><td align="center"></td><td align="center"><code>\uparrow</code></td><td align="center">$\uparrow$</td><td align="center"></td><td align="center"><code>\Uparrow</code></td><td align="center">$\Uparrow$</td></tr><tr><td align="center"><code>[</code>, <code>\lbrack</code></td><td align="center">$[$</td><td align="center"></td><td align="center"><code>]</code>, <code>rbrack</code></td><td align="center">$]$</td><td align="center"></td><td align="center"><code>\downarrow</code></td><td align="center">$\downarrow$</td><td align="center"></td><td align="center"><code>\Downarrow</code></td><td align="center">$\Downarrow$</td></tr><tr><td align="center"><code>{</code>, <code>\lbrace</code></td><td align="center">$\lbrace$</td><td align="center"></td><td align="center"><code>}</code>, <code>\rbrace</code></td><td align="center">$\rbrace$</td><td align="center"></td><td align="center"><code>\updownarrow</code></td><td align="center">$\updownarrow$</td><td align="center"></td><td align="center"><code>\Updownarrow</code></td><td align="center">$\Updownarrow$</td></tr><tr><td align="center"><code>\langle</code></td><td align="center">$\langle$</td><td align="center"></td><td align="center"><code>\rangle</code></td><td align="center">$\rangle$</td><td align="center"></td><td align="center"><code>\vert</code></td><td align="center">$\vert$</td><td align="center"></td><td align="center"><code>\Vert</code></td><td align="center">$\Vert$</td></tr><tr><td align="center"><code>\lfloor</code></td><td align="center">$\lfloor$</td><td align="center"></td><td align="center"><code>\rfloor</code></td><td align="center">$\rfloor$</td><td align="center"></td><td align="center"><code>\lceil</code></td><td align="center">$\lceil$</td><td align="center"></td><td align="center"><code>\rceil</code></td><td align="center">$\rceil$</td></tr><tr><td align="center"><code>/</code></td><td align="center">$/$</td><td align="center"></td><td align="center"><code>\backslash</code></td><td align="center">$\backslash$</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h2 id="8-å¤§å°ºåº¦å®šç•Œç¬¦"><a href="#8-å¤§å°ºåº¦å®šç•Œç¬¦" class="headerlink" title="8. å¤§å°ºåº¦å®šç•Œç¬¦"></a>8. å¤§å°ºåº¦å®šç•Œç¬¦</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\lgroup</code></td><td align="center">$\lgroup$</td><td align="center"></td><td align="center"><code>\rgroup</code></td><td align="center">$\rgroup$</td><td align="center"></td><td align="center"><code>\lmoustache</code></td><td align="center">$\lmoustache$</td><td align="center"></td><td align="center"><code>\rmoustache</code></td><td align="center">$\rmoustache$</td></tr><tr><td align="center"><code>\arrowvert</code></td><td align="center">$\arrowvert$</td><td align="center"></td><td align="center"><code>\Arrowvert</code></td><td align="center">$\Arrowvert$</td><td align="center"></td><td align="center"><code>\bracevert</code></td><td align="center">$\bracevert$</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h2 id="9-å…¶ä»–ç¬¦å·"><a href="#9-å…¶ä»–ç¬¦å·" class="headerlink" title="9. å…¶ä»–ç¬¦å·"></a>9. å…¶ä»–ç¬¦å·</h2><table><thead><tr><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th><th align="center"></th><th align="center"><code>LaTeX</code>å‘½ä»¤</th><th align="center">ç¬¦å·</th></tr></thead><tbody><tr><td align="center"><code>\dots</code></td><td align="center">$\dots$</td><td align="center"></td><td align="center"><code>\cdots</code></td><td align="center">$\cdots$</td><td align="center"></td><td align="center"><code>\vdots</code></td><td align="center">$\vdots$</td><td align="center"></td><td align="center"><code>\ddots</code></td><td align="center">$\ddots$</td></tr><tr><td align="center"><code>\hbar</code></td><td align="center">$\hbar$</td><td align="center"></td><td align="center"><code>\imath</code></td><td align="center">$\imath$</td><td align="center"></td><td align="center"><code>\jmath</code></td><td align="center">$\jmath$</td><td align="center"></td><td align="center"><code>\ell</code></td><td align="center">$\ell$</td></tr><tr><td align="center"><code>\Re</code></td><td align="center">$\Re$</td><td align="center"></td><td align="center"><code>\Im</code></td><td align="center">$\Im$</td><td align="center"></td><td align="center"><code>\aleph</code></td><td align="center">$\aleph$</td><td align="center"></td><td align="center"><code>\wp</code></td><td align="center">$\wp$</td></tr><tr><td align="center"><code>\forall</code></td><td align="center">$\forall$</td><td align="center"></td><td align="center"><code>\exists</code></td><td align="center">$\exists$</td><td align="center"></td><td align="center"><font color="red"><code>\mho</code></font></td><td align="center"><font color="red">$\mho$</font></td><td align="center"></td><td align="center"><code>\partial</code></td><td align="center">$\partial$</td></tr><tr><td align="center"><code>â€˜</code></td><td align="center">$â€˜$</td><td align="center"></td><td align="center"><code>\prime</code></td><td align="center">$\prime$</td><td align="center"></td><td align="center"><code>\emptyset</code></td><td align="center">$\emptyset$</td><td align="center"></td><td align="center"><code>\infty</code></td><td align="center">$\infty$</td></tr><tr><td align="center"><code>\nabla</code></td><td align="center">$\nabla$</td><td align="center"></td><td align="center"><code>\triangle</code></td><td align="center">$\triangle$</td><td align="center"></td><td align="center"><font color="red"><code>\Box</code></font></td><td align="center"><font color="red">$\Box$</font></td><td align="center"></td><td align="center"><font color="red"><code>\Diamond</code></font></td><td align="center"><font color="red">$\Diamond$</font></td></tr><tr><td align="center"><code>\bot</code></td><td align="center">$\bot$</td><td align="center"></td><td align="center"><code>\top</code></td><td align="center">$\top$</td><td align="center"></td><td align="center"><code>\angle</code></td><td align="center">$\angle$</td><td align="center"></td><td align="center"><code>\surd</code></td><td align="center">$\surd$</td></tr><tr><td align="center"><code>\diamondsuit</code></td><td align="center">$\diamondsuit$</td><td align="center"></td><td align="center"><code>\heartsuit</code></td><td align="center">$\heartsuit$</td><td align="center"></td><td align="center"><code>\clubsuit</code></td><td align="center">$\clubsuit$</td><td align="center"></td><td align="center"><code>\spadesuit</code></td><td align="center">$\spadesuit$</td></tr><tr><td align="center"><code>\neg</code>, <code>lnot</code></td><td align="center">$\neg$</td><td align="center"></td><td align="center"><code>\flat</code></td><td align="center">$\flat$</td><td align="center"></td><td align="center"><code>\natural</code></td><td align="center">$\natural$</td><td align="center"></td><td align="center"><code>\sharp</code></td><td align="center">$\sharp$</td></tr></tbody></table><h2 id="10-æ•°å­—å­—æ¯"><a href="#10-æ•°å­—å­—æ¯" class="headerlink" title="10. æ•°å­—å­—æ¯"></a>10. æ•°å­—å­—æ¯</h2><table><thead><tr><th align="center">ä¾‹å­</th><th align="center">å‘½ä»¤</th><th align="center">æ‰€éœ€å®åŒ…</th></tr></thead><tbody><tr><td align="center">$\mathrm{ABCdef}$</td><td align="center"><code>\mathrm{ABCdef}</code></td><td align="center"></td></tr><tr><td align="center">$\mathit{ABCdef}$</td><td align="center"><code>\mathit{ABCdef}</code></td><td align="center"></td></tr><tr><td align="center">$\mathnormal{ABCdef}$</td><td align="center"><code>\mathnormal{ABCdef}</code></td><td align="center"></td></tr><tr><td align="center">$\mathcal{ABCdef}$</td><td align="center"><code>\mathcal{ABCdef}</code></td><td align="center"></td></tr><tr><td align="center">$\mathscr{ABCdef}$</td><td align="center"><code>\mathscr{ABCdef}</code></td><td align="center"></td></tr><tr><td align="center">$\mathfrak{ABCdef}$</td><td align="center"><code>\mathfrak{ABCdef}</code></td><td align="center"><code>eufrak</code></td></tr><tr><td align="center">$\mathbb{RZQ}$</td><td align="center"><code>\mathbb{RZQ}</code></td><td align="center"><code>amsfonts</code> or <code>amssymb</code></td></tr><tr><td align="center">$\mathbf{RZQ}$</td><td align="center"><code>\mathbf{RZQ}</code></td><td align="center"></td></tr></tbody></table><p>å‚è€ƒï¼š</p><ol><li><p><a href="http://persoweb.whu.edu.cn/mathsymb.pdf">æ•°å­¦ç¬¦å·è¡¨</a></p></li><li><p><a href="https://www.egr.msu.edu/~renjian/LaTeX-Math-Symbols.pdf">LATEX Mathematical Symbols</a></p></li><li><p><a href="https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols">LaTeX:Symbols</a></p></li><li><p><a href="https://artofproblemsolving.com/wiki/index.php/LaTeX:Commands">LaTeX:Commands</a></p></li></ol><p>æœ¬æ–‡æºç ï¼š</p><pre class="language-markdown" data-language="markdown"><code class="language-markdown">ä¸¤ä¸ª LaTeX å·¥å…·ï¼ˆå…¶å®æ˜¯ä¸€ä¸ªï¼‰ï¼š<span class="token url">[<span class="token content">https://latex.codecogs.com/</span>](<span class="token url">https://latex.codecogs.com/</span>)</span> å’Œ <span class="token url">[<span class="token content">https://latex.codecogs.com/eqneditor/editor.php</span>](<span class="token url">https://latex.codecogs.com/eqneditor/editor.php</span>)</span>æ³¨ï¼šçº¢è‰²å‘½ä»¤éœ€è¦å¯¼å…¥å®åŒ… <span class="token code-snippet code keyword">`latexsym`</span><span class="token title important"><span class="token punctuation">##</span> 1. æ•°å­¦æ¨¡å¼é‡éŸ³ç¬¦</span>| <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |  <span class="token bold"><span class="token punctuation">**</span><span class="token content">ç¬¦å·</span><span class="token punctuation">**</span></span>   |      |   <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   |    <span class="token bold"><span class="token punctuation">**</span><span class="token content">ç¬¦å·</span><span class="token punctuation">**</span></span>     || :---------: | :---------: | :--: | :-------------: | :-------------: ||  <span class="token code-snippet code keyword">`\hat{a}`</span>  |  $\hat{a}$  |      |  <span class="token code-snippet code keyword">`\widehat{A}`</span>  |  $\widehat{A}$  || <span class="token code-snippet code keyword">`\tilde{a}`</span> | $\tilde{a}$ |      | <span class="token code-snippet code keyword">`\widetilde{A}`</span> | $\widetilde{A}$ ||  <span class="token code-snippet code keyword">`\dot{a}`</span>  |  $\dot{a}$  |      |   <span class="token code-snippet code keyword">`\ddot{a}`</span>    |   $\ddot{a}$    ||  <span class="token code-snippet code keyword">`\vec{a}`</span>  |  $\vec{a}$  |      |   <span class="token code-snippet code keyword">`\breve{a}`</span>   |   $\breve{a}$   ||  <span class="token code-snippet code keyword">`\bar{a}`</span>  |  $\bar{a}$  |      |   <span class="token code-snippet code keyword">`\acute{a}`</span>   |   $\acute{a}$   || <span class="token code-snippet code keyword">`\check{a}`</span> | $\check{a}$ |      |   <span class="token code-snippet code keyword">`\grave{a}`</span>   |   $\grave{a}$   |<span class="token title important"><span class="token punctuation">##</span> 2. å¸Œè…Šå­—æ¯</span>| å¤§å†™<span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |      å°å†™<span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤      |   å¤§å†™    |           å°å†™            |      | å¤§å†™<span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    å°å†™<span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤    |    å¤§å†™    |         å°å†™          || :-------------: | :-----------------------: | :-------: | :-----------------------: | :--: | :-------------: | :-------------------: | :--------: | :-------------------: ||       <span class="token code-snippet code keyword">`A`</span>       |         <span class="token code-snippet code keyword">`\alpha`</span>          |    $A$    |         $\alpha$          |      |       <span class="token code-snippet code keyword">`N`</span>       |         <span class="token code-snippet code keyword">`\nu`</span>         |    $N$     |         $\nu$         ||       <span class="token code-snippet code keyword">`B`</span>       |          <span class="token code-snippet code keyword">`\beta`</span>          |    $B$    |          $\beta$          |      |      <span class="token code-snippet code keyword">`\Xi`</span>      |         <span class="token code-snippet code keyword">`\xi`</span>         |   $\Xi$    |         $\xi$         ||    <span class="token code-snippet code keyword">`\Gamma`</span>     |         <span class="token code-snippet code keyword">`\gamma`</span>          | $\Gamma$  |         $\gamma$          |      |       <span class="token code-snippet code keyword">`O`</span>       |          <span class="token code-snippet code keyword">`o`</span>          |    $O$     |          $o$          ||    <span class="token code-snippet code keyword">`\Delta`</span>     |         <span class="token code-snippet code keyword">`\delta`</span>          | $\Delta$  |         $\delta$          |      |      <span class="token code-snippet code keyword">`\Pi`</span>      |    <span class="token code-snippet code keyword">`\pi`</span>, <span class="token code-snippet code keyword">`\varpi`</span>    |   $\Pi$    |    $\pi$, $\varpi$    ||       <span class="token code-snippet code keyword">`E`</span>       | <span class="token code-snippet code keyword">`\epsilon`</span>, <span class="token code-snippet code keyword">`\varepsilon`</span> |    $E$    | $\epsilon$, $\varepsilon$ |      |       <span class="token code-snippet code keyword">`P`</span>       |   <span class="token code-snippet code keyword">`\rho`</span>, <span class="token code-snippet code keyword">`\varrho`</span>   |    $P$     |   $\rho$, $\varrho$   ||       <span class="token code-snippet code keyword">`Z`</span>       |          <span class="token code-snippet code keyword">`\zeta`</span>          |    $Z$    |          $\zeta$          |      |    <span class="token code-snippet code keyword">`\Sigma`</span>     | <span class="token code-snippet code keyword">`\sigma`</span>, <span class="token code-snippet code keyword">`\varsigma`</span> |  $\Sigma$  | $\sigma$, $\varsigma$ ||       <span class="token code-snippet code keyword">`H`</span>       |          <span class="token code-snippet code keyword">`\eta`</span>           |    $H$    |          $\eta$           |      |       <span class="token code-snippet code keyword">`T`</span>       |        <span class="token code-snippet code keyword">`\tau`</span>         |    $T$     |        $\tau$         ||    <span class="token code-snippet code keyword">`\Theta`</span>     |   <span class="token code-snippet code keyword">`\theta`</span>, <span class="token code-snippet code keyword">`\vartheta`</span>   | $\Theta$  |   $\theta$, $\vartheta$   |      |   <span class="token code-snippet code keyword">`\Upsilon`</span>    |      <span class="token code-snippet code keyword">`\upsilon`</span>       | $\Upsilon$ |      $\upsilon$       ||       <span class="token code-snippet code keyword">`I`</span>       |          <span class="token code-snippet code keyword">`\iota`</span>          |    $I$    |          $\iota$          |      |     <span class="token code-snippet code keyword">`\Phi`</span>      |   <span class="token code-snippet code keyword">`\phi`</span>, <span class="token code-snippet code keyword">`\varphi`</span>   |   $\Phi$   |   $\phi$, $\varphi$   ||       <span class="token code-snippet code keyword">`K`</span>       |         <span class="token code-snippet code keyword">`\kappa`</span>          |    $K$    |         $\kappa$          |      |       <span class="token code-snippet code keyword">`X`</span>       |        <span class="token code-snippet code keyword">`\chi`</span>         |    $X$     |        $\chi$         ||    <span class="token code-snippet code keyword">`\Lambda`</span>    |         <span class="token code-snippet code keyword">`\lambda`</span>         | $\Lambda$ |         $\lambda$         |      |     <span class="token code-snippet code keyword">`\Psi`</span>      |        <span class="token code-snippet code keyword">`\psi`</span>         |   $\Psi$   |        $\psi$         ||       <span class="token code-snippet code keyword">`M`</span>       |           <span class="token code-snippet code keyword">`\mu`</span>           |    $M$    |           $\mu$           |      |    <span class="token code-snippet code keyword">`\Omega`</span>     |       <span class="token code-snippet code keyword">`\omega`</span>        |  $\Omega$  |       $\omega$        |<span class="token title important"><span class="token punctuation">##</span> 3. äºŒå…ƒå…³ç³»ç¬¦</span>|             <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤              |                 ç¬¦å·                 |      |             <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤              |                 ç¬¦å·                 |      |           <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤            |               ç¬¦å·               || :----------------------------------: | :----------------------------------: | :--: | :----------------------------------: | :----------------------------------: | :--: | :------------------------------: | :------------------------------: ||                 <span class="token code-snippet code keyword">`&lt;`</span>                  |                 $&lt;$                  |      |                 <span class="token code-snippet code keyword">`&gt;`</span>                  |                 $&gt;$                  |      |               <span class="token code-snippet code keyword">`=`</span>                |               $=$                ||            <span class="token code-snippet code keyword">`\leq`</span>, <span class="token code-snippet code keyword">`\le`</span>             |                $\le$                 |      |            <span class="token code-snippet code keyword">`\geq`</span>, <span class="token code-snippet code keyword">`\ge`</span>             |                $\geq$                |      |             <span class="token code-snippet code keyword">`\equiv`</span>             |             $\equiv$             ||                <span class="token code-snippet code keyword">`\ll`</span>                 |                $\ll$                 |      |                <span class="token code-snippet code keyword">`\gg`</span>                 |                $\gg$                 |      |             <span class="token code-snippet code keyword">`\doteq`</span>             |             $\doteq$             ||               <span class="token code-snippet code keyword">`\prec`</span>                |               $\prec$                |      |               <span class="token code-snippet code keyword">`\succ`</span>                |               $\succ$                |      |              <span class="token code-snippet code keyword">`\sim`</span>              |              $\sim$              ||              <span class="token code-snippet code keyword">`\preceq`</span>               |              $\preceq$               |      |              <span class="token code-snippet code keyword">`\succeq`</span>               |              $\succeq$               |      |             <span class="token code-snippet code keyword">`\simeq`</span>             |             $\simeq$             ||              <span class="token code-snippet code keyword">`\subset`</span>               |              $\subset$               |      |              <span class="token code-snippet code keyword">`\supset`</span>               |              $\supset$               |      |            <span class="token code-snippet code keyword">`\approx`</span>             |            $\approx$             ||             <span class="token code-snippet code keyword">`\subseteq`</span>              |             $\subseteq$              |      |             <span class="token code-snippet code keyword">`\supseteq`</span>              |             $\supseteq$              |      |             <span class="token code-snippet code keyword">`\cong`</span>              |             $\cong$              || <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\sqsubset`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\sqsubset$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> |      | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\sqsupset`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\sqsupset$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> |      | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\Join`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\Join$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> ||            <span class="token code-snippet code keyword">`\sqsubseteq`</span>             |            $\sqsubseteq$             |      |            <span class="token code-snippet code keyword">`\sqsupseteq`</span>             |            $\sqsupseteq$             |      |            <span class="token code-snippet code keyword">`\bowtie`</span>             |            $\bowtie$             ||                <span class="token code-snippet code keyword">`\in`</span>                 |                $\in$                 |      |            <span class="token code-snippet code keyword">`\ni`</span>, <span class="token code-snippet code keyword">`\owns`</span>            |                $\ni$                 |      |            <span class="token code-snippet code keyword">`\propto`</span>             |            $\propto$             ||               <span class="token code-snippet code keyword">`\vdash`</span>               |               $\vdash$               |      |               <span class="token code-snippet code keyword">`\dashv`</span>               |               $\dashv$               |      |            <span class="token code-snippet code keyword">`\models`</span>             |            $\models$             ||                <span class="token code-snippet code keyword">`\mid`</span>                |                $\mid$                |      |             <span class="token code-snippet code keyword">`\parallel`</span>              |             $\parallel$              |      |             <span class="token code-snippet code keyword">`\perp`</span>              |             $\perp$              ||               <span class="token code-snippet code keyword">`\smile`</span>               |               $\smile$               |      |               <span class="token code-snippet code keyword">`\frown`</span>               |               $\frown$               |      |             <span class="token code-snippet code keyword">`\asymp`</span>             |             $\asymp$             ||                 <span class="token code-snippet code keyword">`:`</span>                  |                 $:$                  |      |               <span class="token code-snippet code keyword">`\notin`</span>               |               $\notin$               |      |          <span class="token code-snippet code keyword">`\neq`</span>, <span class="token code-snippet code keyword">`\ne`</span>           |              $\neq$              |<span class="token title important"><span class="token punctuation">##</span> 4. äºŒå…ƒè¿ç®—ç¬¦</span>|            <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤            |               ç¬¦å·                |      |            <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤            |               ç¬¦å·                |      |   <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤    |       ç¬¦å·       || :-------------------------------: | :-------------------------------: | :--: | :-------------------------------: | :-------------------------------: | :--: | :--------------: | :--------------: ||               <span class="token code-snippet code keyword">`\pm`</span>               |               $\pm$               |      |               <span class="token code-snippet code keyword">`\mp`</span>               |               $\mp$               |      | <span class="token code-snippet code keyword">`\triangleleft`</span>  | $\triangleleft$  ||              <span class="token code-snippet code keyword">`\cdot`</span>              |              $\cdot$              |      |              <span class="token code-snippet code keyword">`\div`</span>               |              $\div$               |      | <span class="token code-snippet code keyword">`\triangleright`</span> | $\triangleright$ ||             <span class="token code-snippet code keyword">`\times`</span>              |             $\times$              |      |            <span class="token code-snippet code keyword">`\setminus`</span>            |            $\setminus$            |      |     <span class="token code-snippet code keyword">`\star`</span>      |     $\star$      ||              <span class="token code-snippet code keyword">`\cup`</span>               |              $\cup$               |      |              <span class="token code-snippet code keyword">`\cap`</span>               |              $\cap$               |      |      <span class="token code-snippet code keyword">`\ast`</span>      |      $\ast$      ||             <span class="token code-snippet code keyword">`\sqcup`</span>              |             $\sqcup$              |      |             <span class="token code-snippet code keyword">`\sqcap`</span>              |             $\sqcap$              |      |     <span class="token code-snippet code keyword">`\circ`</span>      |     $\circ$      ||          <span class="token code-snippet code keyword">`\vee`</span>, <span class="token code-snippet code keyword">`\lor`</span>           |              $\vee$               |      |         <span class="token code-snippet code keyword">`\wedge`</span>, <span class="token code-snippet code keyword">`land`</span>          |              $\land$              |      |    <span class="token code-snippet code keyword">`\bullet`</span>     |    $\bullet$     ||             <span class="token code-snippet code keyword">`\oplus`</span>              |             $\oplus$              |      |             <span class="token code-snippet code keyword">`\ominus`</span>             |             $\ominus$             |      |    <span class="token code-snippet code keyword">`\diamond`</span>    |    $\diamond$    ||              <span class="token code-snippet code keyword">`\odot`</span>              |              $\odot$              |      |             <span class="token code-snippet code keyword">`\oslash`</span>             |             $\oslash$             |      |     <span class="token code-snippet code keyword">`\uplus`</span>     |     $\uplus$     ||            <span class="token code-snippet code keyword">`\otimes`</span>     |     $\otimes$     ||<span class="token code-snippet code keyword">`\bigcirc`</span>|$\bigcirc$||<span class="token code-snippet code keyword">`\amalg`</span>|$\amalg$||         <span class="token code-snippet code keyword">`\bigtriangleup`</span>          |         $\bigtriangleup$          |      |        <span class="token code-snippet code keyword">`\bigtriangledown`</span>         |        $\bigtriangledown$         |      |    <span class="token code-snippet code keyword">`\dagger`</span>     |    $\dagger$     ||  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\lhd`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span>  |  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\lhd$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span>  |      |  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\rhd`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span>  |  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\rhd$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span>  |      |    <span class="token code-snippet code keyword">`\ddagger`</span>    |    $\ddagger$    || <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\unlhd`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\unlhd$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> |      | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\unrhd`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\unrhd$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> |      |      <span class="token code-snippet code keyword">`\wr`</span>       |      $\wr$       |<span class="token title important"><span class="token punctuation">##</span> 5. å¤§å°ºåº¦è¿ç®—ç¬¦</span>| <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |   ç¬¦å·    |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    ç¬¦å·     |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤ |    ç¬¦å·     |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |     ç¬¦å·     || :---------: | :-------: | :--: | :---------: | :---------: | :--: | :---------: | :---------: | :--: | :----------: | :----------: ||   <span class="token code-snippet code keyword">`\sum`</span>    |  $\sum$   |      |  <span class="token code-snippet code keyword">`\bigcup`</span>  |  $\bigcup$  |      |  <span class="token code-snippet code keyword">`\bigvee`</span>  |  $\bigvee$  |      | <span class="token code-snippet code keyword">`\bigoplus`</span>  | $\bigoplus$  ||   <span class="token code-snippet code keyword">`\prod`</span>   |  $\prod$  |      |  <span class="token code-snippet code keyword">`\bigcap`</span>  |  $\bigcap$  |      | <span class="token code-snippet code keyword">`\bigwedge`</span> | $\bigwedge$ |      | <span class="token code-snippet code keyword">`\bigotimes`</span> | $\bigotimes$ ||  <span class="token code-snippet code keyword">`\coprod`</span>  | $\coprod$ |      | <span class="token code-snippet code keyword">`\bigsqcup`</span> | $\bigsqcup$ |      |             |             |      |  <span class="token code-snippet code keyword">`\bigodot`</span>  |  $\bigodot$  ||   <span class="token code-snippet code keyword">`\int`</span>    |  $\int$   |      |   <span class="token code-snippet code keyword">`\oint`</span>   |   $\oint$   |      |             |             |      | <span class="token code-snippet code keyword">`\biguplus`</span>  | $\biguplus$  |<span class="token title important"><span class="token punctuation">##</span> 6. ç®­å¤´</span>|      <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤      |         ç¬¦å·         |      |      <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤      |         ç¬¦å·          |      |             <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤             |                ç¬¦å·                 || :-------------------: | :------------------: | :--: | :-------------------: | :-------------------: | :--: | :---------------------------------: | :---------------------------------: ||          <span class="token code-snippet code keyword">`+`</span>          |         $+$          |      |          <span class="token code-snippet code keyword">`-`</span>          |          $-$          |      |                                     |                                     || <span class="token code-snippet code keyword">`\leftarrow`</span>, <span class="token code-snippet code keyword">`\gets`</span> |       $\gets$        |      |   <span class="token code-snippet code keyword">`\longleftarrow`</span>    |   $\longleftarrow$    |      |             <span class="token code-snippet code keyword">`\uparrow`</span>              |             $\uparrow$              || <span class="token code-snippet code keyword">`\rightarrow`</span>, <span class="token code-snippet code keyword">`\to`</span>  |         $\to$             ||<span class="token code-snippet code keyword">`\longrightarrow`</span>|$\longrightarrow$||<span class="token code-snippet code keyword">`\downarrow`</span>|$\downarrow$||   <span class="token code-snippet code keyword">`\leftrightarrow`</span>   |  $\leftrightarrow$   |      | <span class="token code-snippet code keyword">`\longleftrightarrow`</span> | $\longleftrightarrow$ |      |           <span class="token code-snippet code keyword">`\updownarrow`</span>            |           $\updownarrow$            ||     <span class="token code-snippet code keyword">`\Leftarrow`</span>      |     $\Leftarrow$     |      |   <span class="token code-snippet code keyword">`\Longleftarrow`</span>    |   $\Longleftarrow$    |      |             <span class="token code-snippet code keyword">`\Uparrow`</span>              |             $\Uparrow$              ||     <span class="token code-snippet code keyword">`\Rightarrow`</span>     |    $\Rightarrow$     |      |   <span class="token code-snippet code keyword">`\Longrightarrow`</span>   |   $\Longrightarrow$   |      |            <span class="token code-snippet code keyword">`\Downarrow`</span>             |            $\Downarrow$             ||   <span class="token code-snippet code keyword">`\Leftrightarrow`</span>   |  $\Leftrightarrow$   |      | <span class="token code-snippet code keyword">`\Longleftrightarrow`</span> | $\Longleftrightarrow$ |      |           <span class="token code-snippet code keyword">`\Updownarrow`</span>            |           $\Updownarrow$            ||       <span class="token code-snippet code keyword">`\mapsto`</span>       |      $\mapsto$       |      |     <span class="token code-snippet code keyword">`\longmapsto`</span>     |     $\longmapsto$     |      |             <span class="token code-snippet code keyword">`\nearrow`</span>              |             $\nearrow$              ||   <span class="token code-snippet code keyword">`\hookleftarrow`</span>    |   $\hookleftarrow$   |      |   <span class="token code-snippet code keyword">`\hookrightarrow`</span>   |   $\hookrightarrow$   |      |             <span class="token code-snippet code keyword">`\searrow`</span>              |             $\searrow$              ||   <span class="token code-snippet code keyword">`\leftharpoonup`</span>    |   $\leftharpoonup$   |      |   <span class="token code-snippet code keyword">`\rightharpoonup`</span>   |   $\rightharpoonup$   |      |             <span class="token code-snippet code keyword">`\swarrow`</span>              |             $\swarrow$              ||  <span class="token code-snippet code keyword">`\leftharpoondown`</span>   |  $\leftharpoondown$  |      |  <span class="token code-snippet code keyword">`\rightharpoondown`</span>  |  $\rightharpoondown$  |      |             <span class="token code-snippet code keyword">`\nwarrow`</span>              |             $\nwarrow$              || <span class="token code-snippet code keyword">`\rightleftharpoons`</span>  | $\rightleftharpoons$ |      |        <span class="token code-snippet code keyword">`\iff`</span>         |        $\iff$         |      | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\leadsto`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\leadsto$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> |<span class="token title important"><span class="token punctuation">##</span> 7. å®šç•Œç¬¦</span>|  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   |   ç¬¦å·    |      |  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   |     ç¬¦å·     |      |  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   |      ç¬¦å·      |      |  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   |      ç¬¦å·      || :------------: | :-------: | :--: | :------------: | :----------: | :--: | :------------: | :------------: | :--: | :------------: | :------------: ||      <span class="token code-snippet code keyword">`(`</span>       |    $($    |      |      <span class="token code-snippet code keyword">`)`</span>       |     $)$      |      |   <span class="token code-snippet code keyword">`\uparrow`</span>   |   $\uparrow$   |      |   <span class="token code-snippet code keyword">`\Uparrow`</span>   |   $\Uparrow$   || <span class="token code-snippet code keyword">`[`</span>, <span class="token code-snippet code keyword">`\lbrack`</span> |    $[$    |      | <span class="token code-snippet code keyword">`]`</span>, <span class="token code-snippet code keyword">`rbrack`</span>  |     $]$      |      |  <span class="token code-snippet code keyword">`\downarrow`</span>  |  $\downarrow$  |      |  <span class="token code-snippet code keyword">`\Downarrow`</span>  |  $\Downarrow$  || <span class="token code-snippet code keyword">`{`</span>, <span class="token code-snippet code keyword">`\lbrace`</span> | $\lbrace$ |      | <span class="token code-snippet code keyword">`}`</span>, <span class="token code-snippet code keyword">`\rbrace`</span> |  $\rbrace$   |      | <span class="token code-snippet code keyword">`\updownarrow`</span> | $\updownarrow$ |      | <span class="token code-snippet code keyword">`\Updownarrow`</span> | $\Updownarrow$ ||   <span class="token code-snippet code keyword">`\langle`</span>    | $\langle$ |      |   <span class="token code-snippet code keyword">`\rangle`</span>    |  $\rangle$   |      |    <span class="token code-snippet code keyword">`\vert`</span>     |    $\vert$     |      |    <span class="token code-snippet code keyword">`\Vert`</span>     |    $\Vert$     ||   <span class="token code-snippet code keyword">`\lfloor`</span>    | $\lfloor$ |      |   <span class="token code-snippet code keyword">`\rfloor`</span>    |  $\rfloor$   |      |    <span class="token code-snippet code keyword">`\lceil`</span>    |    $\lceil$    |      |    <span class="token code-snippet code keyword">`\rceil`</span>    |    $\rceil$    ||      <span class="token code-snippet code keyword">`/`</span>       |    $/$    |      |  <span class="token code-snippet code keyword">`\backslash`</span>  | $\backslash$ |      |                |                |      |                |                |<span class="token title important"><span class="token punctuation">##</span> 8. å¤§å°ºåº¦å®šç•Œç¬¦</span>| <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |     ç¬¦å·     |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |     ç¬¦å·     |      |  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |     ç¬¦å·      |      |  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |     ç¬¦å·      || :----------: | :----------: | :--: | :----------: | :----------: | :--: | :-----------: | :-----------: | :--: | :-----------: | :-----------: ||  <span class="token code-snippet code keyword">`\lgroup`</span>   |  $\lgroup$   |      |  <span class="token code-snippet code keyword">`\rgroup`</span>   |  $\rgroup$   |      | <span class="token code-snippet code keyword">`\lmoustache`</span> | $\lmoustache$ |      | <span class="token code-snippet code keyword">`\rmoustache`</span> | $\rmoustache$ || <span class="token code-snippet code keyword">`\arrowvert`</span> | $\arrowvert$ |      | <span class="token code-snippet code keyword">`\Arrowvert`</span> | $\Arrowvert$ |      | <span class="token code-snippet code keyword">`\bracevert`</span>  | $\bracevert$  |      |               |               |<span class="token title important"><span class="token punctuation">##</span> 9. å…¶ä»–ç¬¦å·</span>|  <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤   |      ç¬¦å·      |      | <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤  |     ç¬¦å·     |      |           <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤           |              ç¬¦å·               |      |             <span class="token code-snippet code keyword">`LaTeX`</span>å‘½ä»¤             |                ç¬¦å·                 || :------------: | :------------: | :--: | :----------: | :----------: | :--: | :-----------------------------: | :-----------------------------: | :--: | :---------------------------------: | :---------------------------------: ||    <span class="token code-snippet code keyword">`\dots`</span>     |    $\dots$     |      |   <span class="token code-snippet code keyword">`\cdots`</span>   |   $\cdots$   |      |            <span class="token code-snippet code keyword">`\vdots`</span>             |            $\vdots$             |      |              <span class="token code-snippet code keyword">`\ddots`</span>               |              $\ddots$               ||    <span class="token code-snippet code keyword">`\hbar`</span>     |    $\hbar$     |      |   <span class="token code-snippet code keyword">`\imath`</span>   |   $\imath$   |      |            <span class="token code-snippet code keyword">`\jmath`</span>             |            $\jmath$             |      |               <span class="token code-snippet code keyword">`\ell`</span>                |               $\ell$                ||     <span class="token code-snippet code keyword">`\Re`</span>      |     $\Re$      |      |    <span class="token code-snippet code keyword">`\Im`</span>     |    $\Im$     |      |            <span class="token code-snippet code keyword">`\aleph`</span>             |            $\aleph$             |      |                <span class="token code-snippet code keyword">`\wp`</span>                |                $\wp$                ||   <span class="token code-snippet code keyword">`\forall`</span>    |   $\forall$    |      |  <span class="token code-snippet code keyword">`\exists`</span>   |  $\exists$   |      | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\mho`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\mho$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> |      |             <span class="token code-snippet code keyword">`\partial`</span>              |             $\partial$              ||      <span class="token code-snippet code keyword">`â€˜`</span>       |      $â€˜$       |      |   <span class="token code-snippet code keyword">`\prime`</span>   |   $\prime$   |      |           <span class="token code-snippet code keyword">`\emptyset`</span>           |           $\emptyset$           |      |              <span class="token code-snippet code keyword">`\infty`</span>               |              $\infty$               ||    <span class="token code-snippet code keyword">`\nabla`</span>    |    $\nabla$    |      | <span class="token code-snippet code keyword">`\triangle`</span>  | $\triangle$  |      | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\Box`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\Box$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> |      | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token code-snippet code keyword">`\Diamond`</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> | <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>$\Diamond$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">&gt;</span></span> ||     <span class="token code-snippet code keyword">`\bot`</span>     |     $\bot$     |      |    <span class="token code-snippet code keyword">`\top`</span>    |    $\top$    |      |            <span class="token code-snippet code keyword">`\angle`</span>             |            $\angle$             |      |               <span class="token code-snippet code keyword">`\surd`</span>               |               $\surd$               || <span class="token code-snippet code keyword">`\diamondsuit`</span> | $\diamondsuit$ |      | <span class="token code-snippet code keyword">`\heartsuit`</span> | $\heartsuit$ |      |           <span class="token code-snippet code keyword">`\clubsuit`</span>           |           $\clubsuit$           |      |            <span class="token code-snippet code keyword">`\spadesuit`</span>             |            $\spadesuit$             || <span class="token code-snippet code keyword">`\neg`</span>, <span class="token code-snippet code keyword">`lnot`</span> |     $\neg$     |      |   <span class="token code-snippet code keyword">`\flat`</span>    |   $\flat$    |      |           <span class="token code-snippet code keyword">`\natural`</span>            |           $\natural$            |      |              <span class="token code-snippet code keyword">`\sharp`</span>               |              $\sharp$               |<span class="token title important"><span class="token punctuation">##</span> 10. æ•°å­—å­—æ¯</span><span class="token table"><span class="token table-header-row"><span class="token punctuation">|</span><span class="token table-header important">         ä¾‹å­          </span><span class="token punctuation">|</span><span class="token table-header important">         å‘½ä»¤          </span><span class="token punctuation">|</span><span class="token table-header important">        æ‰€éœ€å®åŒ…         </span><span class="token punctuation">|</span></span><span class="token table-line"><span class="token punctuation">|</span> <span class="token punctuation">:-------------------:</span> <span class="token punctuation">|</span> <span class="token punctuation">:-------------------:</span> <span class="token punctuation">|</span> <span class="token punctuation">:---------------------:</span> <span class="token punctuation">|</span></span><span class="token table-data-rows"><span class="token punctuation">|</span><span class="token table-data">   $\mathrm{ABCdef}$   </span><span class="token punctuation">|</span><span class="token table-data">   <span class="token code-snippet code keyword">`\mathrm{ABCdef}`</span>   </span><span class="token punctuation">|</span><span class="token table-data">                         </span><span class="token punctuation">|</span><span class="token punctuation">|</span><span class="token table-data">   $\mathit{ABCdef}$   </span><span class="token punctuation">|</span><span class="token table-data">   <span class="token code-snippet code keyword">`\mathit{ABCdef}`</span>   </span><span class="token punctuation">|</span><span class="token table-data">                         </span><span class="token punctuation">|</span><span class="token punctuation">|</span><span class="token table-data"> $\mathnormal{ABCdef}$ </span><span class="token punctuation">|</span><span class="token table-data"> <span class="token code-snippet code keyword">`\mathnormal{ABCdef}`</span> </span><span class="token punctuation">|</span><span class="token table-data">                         </span><span class="token punctuation">|</span><span class="token punctuation">|</span><span class="token table-data">  $\mathcal{ABCdef}$   </span><span class="token punctuation">|</span><span class="token table-data">  <span class="token code-snippet code keyword">`\mathcal{ABCdef}`</span>   </span><span class="token punctuation">|</span><span class="token table-data">                         </span><span class="token punctuation">|</span><span class="token punctuation">|</span><span class="token table-data">  $\mathscr{ABCdef}$   </span><span class="token punctuation">|</span><span class="token table-data">  <span class="token code-snippet code keyword">`\mathscr{ABCdef}`</span>   </span><span class="token punctuation">|</span><span class="token table-data">                         </span><span class="token punctuation">|</span><span class="token punctuation">|</span><span class="token table-data">  $\mathfrak{ABCdef}$  </span><span class="token punctuation">|</span><span class="token table-data">  <span class="token code-snippet code keyword">`\mathfrak{ABCdef}`</span>  </span><span class="token punctuation">|</span><span class="token table-data">        <span class="token code-snippet code keyword">`eufrak`</span>         </span><span class="token punctuation">|</span><span class="token punctuation">|</span><span class="token table-data">    $\mathbb{RZQ}$     </span><span class="token punctuation">|</span><span class="token table-data">    <span class="token code-snippet code keyword">`\mathbb{RZQ}`</span>     </span><span class="token punctuation">|</span><span class="token table-data"> <span class="token code-snippet code keyword">`amsfonts`</span> or <span class="token code-snippet code keyword">`amssymb`</span> </span><span class="token punctuation">|</span><span class="token punctuation">|</span><span class="token table-data">    $\mathbf{RZQ}$     </span><span class="token punctuation">|</span><span class="token table-data">    <span class="token code-snippet code keyword">`\mathbf{RZQ}`</span>     </span><span class="token punctuation">|</span><span class="token table-data">                         </span><span class="token punctuation">|</span></span></span>å‚è€ƒï¼š<span class="token list punctuation">1.</span> <span class="token url">[<span class="token content">æ•°å­¦ç¬¦å·è¡¨</span>](<span class="token url">http://persoweb.whu.edu.cn/mathsymb.pdf</span>)</span><span class="token list punctuation">2.</span> <span class="token url">[<span class="token content">LATEX Mathematical Symbols</span>](<span class="token url">https://www.egr.msu.edu/~renjian/LaTeX-Math-Symbols.pdf</span>)</span><span class="token list punctuation">3.</span> <span class="token url">[<span class="token content">LaTeX:Symbols</span>](<span class="token url">https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols</span>)</span><span class="token list punctuation">4.</span> <span class="token url">[<span class="token content">LaTeX:Commands</span>](<span class="token url">https://artofproblemsolving.com/wiki/index.php/LaTeX:Commands</span>)</span></code></pre><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> LaTeX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LaTeX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬5ç« -é›†æˆè¿ç®—æ”¾å¤§å™¨åŠå…¶åº”ç”¨</title>
      <link href="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/"/>
      <url>/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬5ç« -é›†æˆè¿ç®—æ”¾å¤§å™¨åŠå…¶åº”ç”¨"><a href="#ç¬¬5ç« -é›†æˆè¿ç®—æ”¾å¤§å™¨åŠå…¶åº”ç”¨" class="headerlink" title="ç¬¬5ç« -é›†æˆè¿ç®—æ”¾å¤§å™¨åŠå…¶åº”ç”¨"></a>ç¬¬5ç« -é›†æˆè¿ç®—æ”¾å¤§å™¨åŠå…¶åº”ç”¨</h1><p>[toc]</p><p>é›†æˆè¿æ”¾ï¼šï¼ˆè´Ÿåé¦ˆçš„ç¼ºç‚¹ï¼šâ‘ å¢ç›Šä¸‹é™â‘¡å¯èƒ½äº§ç”Ÿè‡ªæ¿€ï¼‰<br>ã€€ã€€çº¿æ€§ç‰¹ç‚¹ï¼š$\begin{cases}be ~ (gsã€+-)\ è™šçŸ­ã€è™šæ–­\end{cases}$ è´Ÿåé¦ˆ<br>ã€€ã€€éçº¿æ€§ç‰¹ç‚¹ï¼š$\begin{cases}è™šæ–­\ è¾“å‡ºåªæœ‰ä¸¤ç§ 0 æˆ– 1ï¼ˆç”µå‹æ¯”è¾ƒå™¨ï¼‰\end{cases}$ å¼€ç¯æ­£åé¦ˆ</p><p>å¹³è¡¡ç”µé˜»ï¼ˆè¡¥å¿ç”µé˜»ï¼‰ï¼š<strong>æé«˜è¿ç®—ç²¾åº¦</strong></p><h2 id="5-1-ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨çº¿æ€§å·¥ä½œç‰¹æ€§"><a href="#5-1-ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨çº¿æ€§å·¥ä½œç‰¹æ€§" class="headerlink" title="5.1 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨çº¿æ€§å·¥ä½œç‰¹æ€§"></a>5.1 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨çº¿æ€§å·¥ä½œç‰¹æ€§</h2><p>é›†æˆè¿æ”¾ï¼š<br>ã€€ã€€è¾“å‡ºç«¯ $u_o$<br>ã€€ã€€åç›¸è¾“å…¥ç«¯ $u_-$<br>ã€€ã€€åŒç›¸è¾“å…¥ç«¯ $u_+$<br>ã€€ã€€å¼€ç¯å·®æ¨¡å¢ç›Š $A_{od}$<br>ã€€ã€€çº¿æ€§å·¥ä½œåŒº $u_o = A_{od}(u_+ - u_-)$ï¼Œ$u_+ - u_-$ å¾ˆå°</p><p>é€šå¸¸ï¼Œå› ä¸ºå·¥ç¨‹ä¸Šè®¤ä¸º $A_{od} \to \infin$ï¼Œ<strong>ç”µå‹ä¼ è¾“ç‰¹æ€§æ›²çº¿</strong> è¿‘ä¼¼ä¸º<strong>ç¬¦å·å‡½æ•°</strong></p><p>å¦‚ä½•ä¿è¯é›†æˆè¿æ”¾å·¥ä½œåœ¨çº¿æ€§åŒºï¼šå¼•å…¥è´Ÿåé¦ˆ</p><p>ç†æƒ³é›†æˆè¿æ”¾å·¥ä½œåœ¨çº¿æ€§åŒº<strong>ç‰¹ç‚¹</strong>ï¼š<br>ã€€ã€€è™šçŸ­ï¼šä¸æ˜¯çŸ­è·¯ï¼Œåªæ˜¯åŒåå‘ç”µå‹è¿‘ä¼¼ç›¸ç­‰ $u_+ \to u_-$<br>ã€€ã€€è™šæ–­ï¼šä¸æ˜¯å¼€è·¯ï¼Œåªæ˜¯ç”µæµå°åˆ°å¯ä»¥å¿½ç•¥ä¸è®¡ $i_+ = i_- \to 0$</p><hr><h2 id="5-2-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯"><a href="#5-2-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯" class="headerlink" title="5.2 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯"></a>5.2 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯</h2><p>ç”µè·¯ç»“æ„ç‰¹ç‚¹ï¼š<br>ã€€ã€€â‘ è¾“å…¥ä¿¡å·ä»<strong>åç›¸è¾“å…¥ç«¯</strong>è¾“å…¥<br>ã€€ã€€â‘¡å¼•å…¥è´Ÿåé¦ˆï¼ˆè™šæ–­ã€è™šçŸ­ï¼‰</p><p>åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯ï¼š${\large u_o \approx \textcolor{red}{-} \frac{R_f}{R_1}u_i}$</p><p><strong>è¡¥å¿ç”µé˜»</strong>ï¼š$R_2 = R_1 // R_f$ï¼Œç”¨äºä¿è¯é›†æˆè¿æ”¾è¾“å…¥ç«¯çš„å¯¹ç§°æ€§</p><details><summary>å±•å¼€è¯´è¯´</summary><p>ç”µè·¯ï¼š</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.2 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯.png"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.2 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.2 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯2.jpg"></details><hr><h2 id="5-3-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯"><a href="#5-3-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯" class="headerlink" title="5.3 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯"></a>5.3 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯</h2><p>ç”µè·¯ç»“æ„ç‰¹ç‚¹ï¼š<br>ã€€ã€€â‘ è¾“å…¥ä¿¡å·ä»<strong>åŒç›¸è¾“å…¥ç«¯</strong>è¾“å…¥<br>ã€€ã€€â‘¡å¼•å…¥è´Ÿåé¦ˆï¼ˆè™šæ–­ã€è™šçŸ­ï¼‰</p><p>åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯ï¼š${\large u_o \approx (1 + \frac{R_f}{R_1})u_i}$</p><p><strong>è¡¥å¿ç”µé˜»</strong>ï¼š$R_2 = R_1 // R_f$ï¼Œç”¨äºä¿è¯é›†æˆè¿æ”¾è¾“å…¥ç«¯çš„å¯¹ç§°æ€§</p><details><summary>å±•å¼€è¯´è¯´</summary><p>ç”µè·¯ï¼š</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.3 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯.png"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.3 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.3 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯2.jpg"></details><hr><h2 id="5-4-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹ç”µå‹è·Ÿéšå™¨"><a href="#5-4-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹ç”µå‹è·Ÿéšå™¨" class="headerlink" title="5.4 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹ç”µå‹è·Ÿéšå™¨"></a>5.4 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹ç”µå‹è·Ÿéšå™¨</h2><p>åŸºäº<strong>åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯</strong>å¯ä»¥å®ç°<strong>ç”µå‹è·Ÿéšå™¨</strong></p><p>ç”±åŒç›¸æ¯”ä¾‹è¿ç®—ç”µè·¯ ${\large u_o \approx (1 + \frac{R_f}{R_1})u_i}$ å¯çŸ¥â€”â€”ä»¤ $R_1 = \infin$ æˆ–è€… $R_f = 0$ å¯ä»¥å®ç°ç”µå‹è·Ÿéšå™¨ã€‚<br>é€šå¸¸ï¼Œå®é™…ä¸­ï¼ŒåŒæ—¶ä»¤ $R_1 = \infin <del>,</del> R_f = 0$ æ¥å®ç°ç”µå‹è·Ÿéšå™¨ $u_o = u_i$</p><details><summary>å±•å¼€è¯´è¯´</summary><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.4 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹ç”µå‹è·Ÿéšå™¨1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.4 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹ç”µå‹è·Ÿéšå™¨2.jpg"></details><hr><h2 id="5-5-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯"><a href="#5-5-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯" class="headerlink" title="5.5 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯"></a>5.5 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯</h2><p>å‡è®¾ç”µé˜»åŠç”µæºå‡ä¸ºçº¿æ€§å…ƒä»¶ï¼Œç”±äºé›†æˆè¿æ”¾å·¥ä½œåœ¨çº¿æ€§åŒºï¼Œäº¦ä¸ºçº¿æ€§å…ƒä»¶ï¼Œå› æ­¤è¯¥ç”µè·¯ä¸º<strong>çº¿æ€§ç”µè·¯</strong>ï¼Œæ»¡è¶³<strong>å åŠ å®šç†</strong>æ¡ä»¶ã€‚</p><p>ç”µè·¯ç»“æ„ç‰¹ç‚¹ï¼š<br>ã€€ã€€â‘ è¾“å…¥ä¿¡å·<strong>å‡</strong>ä»<strong>åç›¸è¾“å…¥ç«¯</strong>è¾“å…¥<br>ã€€ã€€â‘¡å¼•å…¥è´Ÿåé¦ˆï¼šä¸ºäº†ä¿è¯è¿æ”¾å·¥ä½œåœ¨<strong>çº¿æ€§åŒº</strong>ï¼ˆè™šæ–­ã€è™šçŸ­ï¼‰</p><p>åç›¸åŠ æ³•è¿ç®—ç”µè·¯ï¼š${\large u_o \approx - \left( \frac{R_f}{R_1} u_{i1} + \frac{R_f}{R_2} u_{i2} \right)}$ï¼ˆä½¿ç”¨<strong>å åŠ å®šç†</strong>è¿›è¡Œåˆ†æï¼ï¼‰</p><p><strong>è¡¥å¿ç”µé˜»</strong>ï¼š$R_3 = R_1 // R_2 //R_f$ï¼Œç”¨äºä¿è¯é›†æˆè¿æ”¾è¾“å…¥ç«¯çš„å¯¹ç§°æ€§</p><details><summary>å±•å¼€è¯´è¯´</summary><p>ç”µè·¯ï¼š</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.5 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯.png"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.5 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.5 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.5 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åç›¸åŠ æ³•è¿ç®—ç”µè·¯3.jpg"></details><hr><h2 id="5-6-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯"><a href="#5-6-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯" class="headerlink" title="5.6 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯"></a>5.6 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯</h2><p>å‡è®¾ç”µé˜»åŠç”µæºå‡ä¸ºçº¿æ€§å…ƒä»¶ï¼Œç”±äºé›†æˆè¿æ”¾å·¥ä½œåœ¨çº¿æ€§åŒºï¼Œäº¦ä¸ºçº¿æ€§å…ƒä»¶ï¼Œå› æ­¤è¯¥ç”µè·¯ä¸º<strong>çº¿æ€§ç”µè·¯</strong>ï¼Œæ»¡è¶³<strong>å åŠ å®šç†</strong>æ¡ä»¶ã€‚</p><p>ç”µè·¯ç»“æ„ç‰¹ç‚¹ï¼š<br>ã€€ã€€â‘ è¾“å…¥ä¿¡å·<strong>å‡</strong>ä»<strong>åŒç›¸è¾“å…¥ç«¯</strong>è¾“å…¥<br>ã€€ã€€â‘¡å¼•å…¥è´Ÿåé¦ˆï¼šä¸ºäº†ä¿è¯è¿æ”¾å·¥ä½œåœ¨<strong>çº¿æ€§åŒº</strong>ï¼ˆè™šæ–­ã€è™šçŸ­ï¼‰</p><p>åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯ï¼š${\large u_o \approx \left( 1 + \frac{R_f}{R_3} \right) \left( \frac{R_2}{R_1 + R_2} u_{i1} + \frac{R_1}{R_1 + R_2} u_{i2} \right)}$ï¼ˆä½¿ç”¨<strong>å åŠ å®šç†</strong>è¿›è¡Œåˆ†æï¼ï¼‰</p><details><summary>å±•å¼€è¯´è¯´</summary><p>ç”µè·¯ï¼š</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.6 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯.png"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.6 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.6 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.6 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹åŒç›¸åŠ æ³•è¿ç®—ç”µè·¯3.jpg"></details><hr><h2 id="5-7-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯"><a href="#5-7-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯" class="headerlink" title="5.7 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯"></a>5.7 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯</h2><p>å‡è®¾ç”µé˜»åŠç”µæºå‡ä¸ºçº¿æ€§å…ƒä»¶ï¼Œç”±äºé›†æˆè¿æ”¾å·¥ä½œåœ¨çº¿æ€§åŒºï¼Œäº¦ä¸ºçº¿æ€§å…ƒä»¶ï¼Œå› æ­¤è¯¥ç”µè·¯ä¸º<strong>çº¿æ€§ç”µè·¯</strong>ï¼Œæ»¡è¶³<strong>å åŠ å®šç†</strong>æ¡ä»¶ã€‚</p><p>ç”µè·¯ç»“æ„ç‰¹ç‚¹ï¼š<br>ã€€ã€€â‘ è¾“å…¥ä¿¡å·ä»<strong>ä¸åŒè¾“å…¥ç«¯</strong>è¾“å…¥<br>ã€€ã€€â‘¡å¼•å…¥è´Ÿåé¦ˆï¼šä¸ºäº†ä¿è¯è¿æ”¾å·¥ä½œåœ¨<strong>çº¿æ€§åŒº</strong>ï¼ˆè™šæ–­ã€è™šçŸ­ï¼‰</p><p>å‡æ³•è¿ç®—ç”µè·¯ï¼š${\large u_o \approx \left( 1 + \frac{R_f}{R_1} \right) \left( \frac{R_3}{R_2 + R_3} u_{i2} - \frac{R_f}{R_1 + R_f} u_{i1} \right)}$ï¼ˆä½¿ç”¨<strong>å åŠ å®šç†</strong>è¿›è¡Œåˆ†æï¼ï¼‰</p><details><summary>å±•å¼€è¯´è¯´</summary><p>ç”µè·¯ï¼š</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.7 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯.png"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.7 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.7 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.7 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å‡æ³•è¿ç®—ç”µè·¯3.jpg"></details><hr><h2 id="5-8-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å¾®ç§¯åˆ†è¿ç®—ç”µè·¯"><a href="#5-8-ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å¾®ç§¯åˆ†è¿ç®—ç”µè·¯" class="headerlink" title="5.8 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å¾®ç§¯åˆ†è¿ç®—ç”µè·¯"></a>5.8 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å¾®ç§¯åˆ†è¿ç®—ç”µè·¯</h2><p>${\large q = Cu_c <del>,</del> i_c = \frac{dq}{dt} <del>,</del> i_c = C \frac{du_c}{dt} <del>,</del> u_c = - \frac1C \int i_c dt}$</p><p>ç§¯åˆ†è¿ç®—ç”µè·¯ï¼š${\large u_o = -\frac{1}{RC}\int u_i dt}$<br>å¾®åˆ†è¿ç®—ç”µè·¯ï¼š${\large u_o = -RC \frac{du_i}{dt}}$</p><details><summary>å±•å¼€è¯´è¯´</summary><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.8 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å¾®ç§¯åˆ†è¿ç®—ç”µè·¯1.jpg"><p><font color="red" size="5">æ³¨ï¼šç”µå®¹ã€ç”µé˜»äº’æ¢å³å¯ï¼ï¼ˆè¿™é‡Œ PPT åšäº†åŠ¨ç”»ï¼Œæ‰€ä»¥æ²¡æœ‰æ˜¾ç¤ºï¼‰</font></p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.8 ä¿¡å·è¿ç®—ç”µè·¯ä¹‹å¾®ç§¯åˆ†è¿ç®—ç”µè·¯2.jpg"></details><hr><h2 id="5-9-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°"><a href="#5-9-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°" class="headerlink" title="5.9 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°"></a>5.9 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°</h2><p>æˆªæ­¢é¢‘ç‡ f_p</p><p>å…¨é€šæ»¤æ³¢å™¨ï¼šåˆ©ç”¨å…¶ç›¸é¢‘ç‰¹æ€§æ¥è¿‘<strong>çº¿æ€§</strong>ï¼Œå®ç°<strong>å»¶æ—¶</strong>åŠŸèƒ½</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.9 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.9 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.9 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°3.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.9 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°4.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.9 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æœ‰æºæ»¤æ³¢å™¨æ¦‚è¿°5.jpg"><hr><h2 id="5-10-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨"><a href="#5-10-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨" class="headerlink" title="5.10 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨"></a>5.10 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨</h2><p>é¢‘ç‡ f çš„æœ€é«˜æ¬¡é¡¹ä¸º 1 æ¬¡ï¼Œæ•…ä¸º<strong>ä¸€é˜¶</strong>æ»¤æ³¢å™¨</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.10 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.10 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.10 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨3.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.10 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹ä¸€é˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨4.jpg"><hr><h2 id="5-11-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹äºŒé˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨"><a href="#5-11-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹äºŒé˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨" class="headerlink" title="5.11 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹äºŒé˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨"></a>5.11 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹äºŒé˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨</h2><p>å®é™…æ»¤æ³¢å™¨è®¾è®¡ä¸­ï¼Œéœ€è¦æˆªæ­¢é¢‘ç‡ $f_p$ ç­‰äºç‰¹å¾é¢‘ç‡ f_0$</p><p>Q ä¸ºæ»¤æ³¢å™¨çš„å“è´¨å› æ•°</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.11 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹äºŒé˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.11 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹äºŒé˜¶ä½é€šæœ‰æºæ»¤æ³¢å™¨2.jpg"><hr><h2 id="5-12-ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§"><a href="#5-12-ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§" class="headerlink" title="5.12 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§"></a>5.12 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§</h2><p>é›†æˆè¿æ”¾<strong>ä¸å¼•å…¥</strong>è´Ÿåé¦ˆï¼Œåˆ™å·¥ä½œåœ¨<strong>éçº¿æ€§åŒº</strong>ï¼š$\begin{cases}å¼€ç¯\æ­£åé¦ˆ\end{cases}$</p><p>éçº¿æ€§å·¥ä½œç‰¹æ€§ï¼š$\begin{cases}è™šæ–­\è¾“å‡ºåªæœ‰ä¸¤ç§å¯èƒ½\end{cases}$</p><details><summary>å±•å¼€è¯´è¯´</summary><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.12 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.12 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.12 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§3.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.12 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§4.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.12 ç†æƒ³é›†æˆè¿ç®—æ”¾å¤§å™¨éçº¿æ€§å·¥ä½œç‰¹æ€§5.jpg"></details><hr><h2 id="5-13-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹è¿‡é›¶æ¯”è¾ƒå™¨"><a href="#5-13-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹è¿‡é›¶æ¯”è¾ƒå™¨" class="headerlink" title="5.13 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹è¿‡é›¶æ¯”è¾ƒå™¨"></a>5.13 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹è¿‡é›¶æ¯”è¾ƒå™¨</h2><p>ç”µå‹æ¯”è¾ƒå™¨ï¼šç”¨æ¥æ¯”è¾ƒè¾“å…¥ç”µå‹å’Œå‚è€ƒç”µå‹çš„å¤§å°</p><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.13 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹è¿‡é›¶æ¯”è¾ƒå™¨1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.13 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹è¿‡é›¶æ¯”è¾ƒå™¨2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.13 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹è¿‡é›¶æ¯”è¾ƒå™¨3.jpg"><hr><h2 id="5-14-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹å•é™æ¯”è¾ƒå™¨"><a href="#5-14-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹å•é™æ¯”è¾ƒå™¨" class="headerlink" title="5.14 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹å•é™æ¯”è¾ƒå™¨"></a>5.14 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹å•é™æ¯”è¾ƒå™¨</h2><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.14 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹å•é™æ¯”è¾ƒå™¨1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.14 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹å•é™æ¯”è¾ƒå™¨2.jpg"><hr><h2 id="5-15-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æ»å›æ¯”è¾ƒå™¨"><a href="#5-15-ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æ»å›æ¯”è¾ƒå™¨" class="headerlink" title="5.15 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æ»å›æ¯”è¾ƒå™¨"></a>5.15 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æ»å›æ¯”è¾ƒå™¨</h2><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.15 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æ»å›æ¯”è¾ƒå™¨1.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.15 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æ»å›æ¯”è¾ƒå™¨2.jpg"><img src="/2022/06/29/di-5-zhang-ji-cheng-yun-suan-fang-da-qi-ji-qi-ying-yong/5.15 ä¿¡å·å¤„ç†ç”µè·¯ä¹‹æ»å›æ¯”è¾ƒå™¨3.jpg"><hr><hr><ul><li>åœ¨ç†æƒ³è¿ç®—æ”¾å¤§å™¨ä¸­ï¼Œå¸¸ç”¨â€œè™šæ–­â€çš„æ¦‚å¿µè¿›è¡Œç”µè·¯åˆ†æï¼Œæ˜¯å› ä¸ºå…¶ï¼ˆ<strong>è¾“å…¥ç”µé˜»æ— ç©·å¤§</strong>ï¼‰</li></ul><p>ç”µå‹è·Ÿéšå™¨è¦æ±‚ï¼šè¾“å…¥é˜»æŠ—è¶Šå¤§è¶Šå¥½ï¼Œè¾“å‡ºé˜»æŠ—è¶Šå°è¶Šå¥½</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ¨¡ç”µç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¨¡ç”µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬4ç« -åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨</title>
      <link href="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/"/>
      <url>/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬4ç« -åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨"><a href="#ç¬¬4ç« -åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨" class="headerlink" title="ç¬¬4ç« -åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨"></a>ç¬¬4ç« -åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨</h1><p>[toc]</p><h2 id="4-1-åé¦ˆçš„åŸºæœ¬æ¦‚å¿µ"><a href="#4-1-åé¦ˆçš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="4.1 åé¦ˆçš„åŸºæœ¬æ¦‚å¿µ"></a>4.1 åé¦ˆçš„åŸºæœ¬æ¦‚å¿µ</h2><p>å‡€è¾“å…¥ä¿¡å· $\dot{X}â€™<em>{i}$ $=$ è¾“å…¥ä¿¡å· $\dot{X}</em>{if}$ $+$ åé¦ˆä¿¡å· $\dot{X}_f$</p><p>è¾“å…¥è¾“å‡ºå›è·¯å­˜åœ¨<strong>è”ç³»</strong>ï¼Œåˆ™å­˜åœ¨<strong>åé¦ˆ</strong>ã€‚</p><p>å¤šçº§æ”¾å¤§ç”µè·¯ä¸­ï¼š<br>ã€€ã€€å±€éƒ¨åé¦ˆï¼šåªå¯¹æœ¬çº§èµ·ä½œç”¨çš„åé¦ˆ<br>ã€€ã€€çº§é—´åé¦ˆï¼šåé¦ˆè·¨çº§èµ·ä½œç”¨ï¼ˆå¸¸è§ï¼šä»æ•´ä¸ªç”µè·¯çš„è¾“å‡ºç«¯å¼•å›åˆ°è¾“å…¥ç«¯ï¼‰</p><hr><h2 id="4-2-æ­£åé¦ˆå’Œè´Ÿåé¦ˆ"><a href="#4-2-æ­£åé¦ˆå’Œè´Ÿåé¦ˆ" class="headerlink" title="4.2 æ­£åé¦ˆå’Œè´Ÿåé¦ˆ"></a>4.2 æ­£åé¦ˆå’Œè´Ÿåé¦ˆ</h2><p>åˆ¤æ–­ï¼š<font color="red" size="5">ï¼ˆå•æåŒ–ä¼ è¾“æ¡ä»¶ï¼šå…ˆæ”¾å¤§ï¼Œååé¦ˆï¼‰</font><br>ã€€ã€€åŒç«¯å¼‚å· -&gt; è´Ÿåé¦ˆ<br>ã€€ã€€åŒç«¯åŒå· -&gt; æ­£åé¦ˆ<br>ã€€ã€€å¼‚ç«¯å¼‚å· -&gt; æ­£åé¦ˆ<br>ã€€ã€€å¼‚ç«¯åŒå· -&gt; è´Ÿåé¦ˆ</p><hr><h2 id="4-3-ç”µå‹åé¦ˆå’Œç”µæµåé¦ˆ"><a href="#4-3-ç”µå‹åé¦ˆå’Œç”µæµåé¦ˆ" class="headerlink" title="4.3 ç”µå‹åé¦ˆå’Œç”µæµåé¦ˆ"></a>4.3 ç”µå‹åé¦ˆå’Œç”µæµåé¦ˆ</h2><p><strong>è¾“å‡º</strong>ç«¯çŸ­è·¯æ³•ï¼š<br>ã€€ã€€çŸ­è·¯ä¹‹ååé¦ˆä¸å­˜åœ¨ï¼šç”µå‹åé¦ˆ<br>ã€€ã€€çŸ­è·¯ä¹‹ååé¦ˆå­˜åœ¨ï¼šç”µæµåé¦ˆ</p><hr><h2 id="4-4-ä¸²è”åé¦ˆå’Œå¹¶è”åé¦ˆ"><a href="#4-4-ä¸²è”åé¦ˆå’Œå¹¶è”åé¦ˆ" class="headerlink" title="4.4 ä¸²è”åé¦ˆå’Œå¹¶è”åé¦ˆ"></a>4.4 ä¸²è”åé¦ˆå’Œå¹¶è”åé¦ˆ</h2><p><strong>è¾“å…¥</strong>ç«¯ï¼š<br>ã€€ã€€å¹¶è”åé¦ˆï¼šåé¦ˆä¿¡å·å’Œè¾“å…¥ä¿¡å·æ¥äºåŸºæœ¬æ”¾å¤§ç”µè·¯çš„<strong>åŒä¸€</strong>è¾“å…¥ç«¯<br>ã€€ã€€ä¸²è”åé¦ˆï¼šåé¦ˆä¿¡å·å’Œè¾“å…¥ä¿¡å·æ¥äºåŸºæœ¬æ”¾å¤§ç”µè·¯çš„<strong>ä¸åŒ</strong>è¾“å…¥ç«¯</p><hr><h2 id="4-5-åé¦ˆæ”¾å¤§ç”µè·¯çš„ä¸€èˆ¬è¡¨è¾¾å¼"><a href="#4-5-åé¦ˆæ”¾å¤§ç”µè·¯çš„ä¸€èˆ¬è¡¨è¾¾å¼" class="headerlink" title="4.5 åé¦ˆæ”¾å¤§ç”µè·¯çš„ä¸€èˆ¬è¡¨è¾¾å¼"></a>4.5 åé¦ˆæ”¾å¤§ç”µè·¯çš„ä¸€èˆ¬è¡¨è¾¾å¼</h2><p>$x_iâ€™ = x_{if} - x_f$</p><p>è¾“å…¥ï¼ˆè¾“å…¥ä¿¡å·ï¼‰ï¼š$x_{if}$<br>åŸºæœ¬æ”¾å¤§å™¨è¾“å…¥ï¼ˆå‡€è¾“å…¥ï¼‰ï¼š$x_iâ€™$<br>åé¦ˆç½‘ç»œè¾“å‡ºï¼š$x_f$</p><p>åŸºæœ¬æ”¾å¤§å™¨æ”¾å¤§å€æ•°ï¼ˆ<strong>å¼€ç¯å¢ç›Š</strong>ï¼‰ï¼š$\textcolor{red}{\large Aâ€™ = \frac{x_oâ€™}{x_iâ€™}}$<br>åŸºæœ¬æ”¾å¤§å™¨è¾“å‡ºï¼š$x_oâ€™$<br>åŸºæœ¬æ”¾å¤§å™¨è¾“å…¥ï¼ˆå‡€è¾“å…¥ï¼‰ï¼š$x_iâ€™$</p><p>åé¦ˆç½‘ç»œ<strong>åé¦ˆç³»æ•°</strong>ï¼š$\textcolor{red}{\large k_f = \frac{x_f}{x_{of}}}$<br>åé¦ˆç½‘ç»œè¾“å‡ºï¼š$x_f$<br>åé¦ˆç½‘ç»œè¾“å…¥ï¼š$x_{of}$</p><p>åŸºæœ¬æ”¾å¤§å™¨è¾“å‡ºå°±æ˜¯åé¦ˆç½‘ç»œè¾“å…¥ï¼š$x_oâ€™ = x_{of}$</p><p>ç¯è·¯å¢ç›Šï¼ˆ<strong>é—­ç¯å¢ç›Š</strong>ï¼‰ï¼š$\textcolor{red}{\large A_f = \frac{x_{of}}{x_{if}} = \frac{Aâ€™}{1 + Aâ€™k_f}}$</p><p><strong>é—­ç¯å¢ç›Š</strong>æ ¹æ®<strong>åé¦ˆç»„æ€</strong>ä¸åŒè€Œä¸åŒï¼</p><hr><h2 id="4-6-æ·±åº¦è´Ÿåé¦ˆçš„è¿‘ä¼¼è®¡ç®—"><a href="#4-6-æ·±åº¦è´Ÿåé¦ˆçš„è¿‘ä¼¼è®¡ç®—" class="headerlink" title="4.6 æ·±åº¦è´Ÿåé¦ˆçš„è¿‘ä¼¼è®¡ç®—"></a>4.6 æ·±åº¦è´Ÿåé¦ˆçš„è¿‘ä¼¼è®¡ç®—</h2><p>åé¦ˆæ·±åº¦ï¼š$1 + Aâ€™k_f$</p><p>è´Ÿåé¦ˆï¼š$|1 + Ak_f| &gt; 1 \Rightarrow |A_f| &lt; |A|$<br>æ·±åº¦è´Ÿåé¦ˆï¼š$|1 + Ak_f| \gg 1$<br>ã€€ã€€$A_f \approx \frac{1}{k_f}$<br>ã€€ã€€$x_{if} \approx x_f, x_iâ€™ \to 0$<br>æ­£åé¦ˆï¼š$|1 + Ak_f| &lt; 1 \Rightarrow |A_f| &gt; |A|$<br>æ·±åº¦æ­£åé¦ˆï¼š$|1 + Ak_f| \ll 1$<br>ã€€ã€€$A_f \approx \frac{x_{of}}{x_{if}} \to \infin $<br>ã€€ã€€æŒ¯è¡å™¨ã€ä¿¡å·å‘ç”Ÿå™¨</p><p>æ·±åº¦è´Ÿåé¦ˆç‰¹ç‚¹ï¼š<strong>è™šæ–­ã€è™šæ–­</strong><br>${\large A_f = \frac{x_{of}}{x_{if}} \approx \frac{1}{k_f} = \frac{x_{f}}{x_{x_{of}}}}$<br>$x_{if} \approx x_{f}$<br>$x_iâ€™ = x_{if} - x_f \to 0$</p><details><summary>ä¾‹1.</summary><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4. åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨/4.6 æ·±åº¦è´Ÿåé¦ˆçš„è¿‘ä¼¼è®¡ç®—1.jpg"></details><details><summary>ä¾‹2.</summary><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4. åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨/4.6 æ·±åº¦è´Ÿåé¦ˆçš„è¿‘ä¼¼è®¡ç®—2.jpg"></details><details><summary>ä¾‹3.</summary><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4. åé¦ˆæ”¾å¤§ç»“æ„ä¸åº”ç”¨/4.6 æ·±åº¦è´Ÿåé¦ˆçš„è¿‘ä¼¼è®¡ç®—3.jpg"></details><hr><h2 id="4-7-è´Ÿåé¦ˆæé«˜å¢ç›Šçš„ç¨³å®šæ€§"><a href="#4-7-è´Ÿåé¦ˆæé«˜å¢ç›Šçš„ç¨³å®šæ€§" class="headerlink" title="4.7 è´Ÿåé¦ˆæé«˜å¢ç›Šçš„ç¨³å®šæ€§"></a>4.7 è´Ÿåé¦ˆæé«˜å¢ç›Šçš„ç¨³å®šæ€§</h2><p>$\frac{\Delta A_f}{A_f} = \frac{1}{1 + A k_f} \frac{\Delta A}{A}$</p><p>$\frac{\Delta A_f}{A_f}$ï¼šé—­ç¯å¢ç›Šç›¸å¯¹å˜åŒ–é‡<br>$\frac{\Delta A}{A}$ï¼šå¼€ç¯å¢ç›Šç›¸å¯¹å˜åŒ–é‡</p><p>çµæ•åº¦é™ä½ï¼Œç¨³å®šæ€§æé«˜ã€‚</p><p>æ·±åº¦è´Ÿåé¦ˆä¸‹ï¼Œ<strong>é—­ç¯å¢ç›Š</strong>åªå–å†³äºåé¦ˆç½‘ç»œï¼š<br>ã€€ã€€ç”µå‹ä¸²è”è´Ÿåé¦ˆåªèƒ½ç¨³å®šç”µå‹å¢ç›Š<br>ã€€ã€€ç”µå‹å¹¶è”è´Ÿåé¦ˆåªèƒ½ç¨³å®šäº’é˜»å¢ç›Š<br>ã€€ã€€ç”µæµä¸²è”è´Ÿåé¦ˆåªèƒ½ç¨³å®šäº’å¯¼å¢ç›Š<br>ã€€ã€€ç”µæµå¹¶è”è´Ÿåé¦ˆåªèƒ½ç¨³å®šç”µæµå¢ç›Š</p><hr><h2 id="4-8-è´Ÿåé¦ˆå‡å°éçº¿æ€§å¤±çœŸ"><a href="#4-8-è´Ÿåé¦ˆå‡å°éçº¿æ€§å¤±çœŸ" class="headerlink" title="4.8 è´Ÿåé¦ˆå‡å°éçº¿æ€§å¤±çœŸ"></a>4.8 è´Ÿåé¦ˆå‡å°éçº¿æ€§å¤±çœŸ</h2><p>è´Ÿåé¦ˆåªèƒ½å‡å°åé¦ˆç¯å†…äº§ç”Ÿçš„å¤±çœŸï¼Œ<br>ä¸èƒ½å‡å°è¾“å…¥ä¿¡å·çš„å¤±çœŸã€‚</p><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.8 è´Ÿåé¦ˆå‡å°éçº¿æ€§å¤±çœŸ.jpg"><hr><h2 id="4-9-è´Ÿåé¦ˆå±•å®½é€šé¢‘å¸¦"><a href="#4-9-è´Ÿåé¦ˆå±•å®½é€šé¢‘å¸¦" class="headerlink" title="4.9 è´Ÿåé¦ˆå±•å®½é€šé¢‘å¸¦"></a>4.9 è´Ÿåé¦ˆå±•å®½é€šé¢‘å¸¦</h2><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.9 è´Ÿåé¦ˆå±•å®½é€šé¢‘å¸¦1.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.9 è´Ÿåé¦ˆå±•å®½é€šé¢‘å¸¦2.jpg"><p>å¼•å…¥è´Ÿåé¦ˆåï¼Œæ”¾å¤§ç”µè·¯çš„ä¸Šé™é¢‘ç‡æé«˜åˆ°åŸæ¥çš„ $1 + A_fk_f$ å€ï¼Œä¸‹é™é¢‘ç‡é™ä½åˆ°åŸæ¥çš„ $\frac{1}{1 + A_fk_f}$ å€ï¼Œ<strong>æ€»é€šé¢‘å¸¦å±•å®½</strong>ã€‚</p><p>å¼•å…¥è´Ÿåé¦ˆå‰åï¼Œæ”¾å¤§ç”µè·¯çš„å¢ç›Šå¸¦å®½ç§¯ï¼ˆ$=$ é€šå¸¦å¢ç›Š $*$ é€šé¢‘å¸¦ï¼‰å‡ ä¹ä¸å˜ã€‚</p><hr><h2 id="4-10-è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“"><a href="#4-10-è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“" class="headerlink" title="4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“"></a>4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“</h2><p>ä¸»è¦å–å†³äº<strong>ä¸²è”åé¦ˆ</strong>è¿˜æ˜¯<strong>å¹¶è”åé¦ˆ</strong>ã€‚</p><p>å¼•å…¥ä¸²è”è´Ÿåé¦ˆï¼Œå¢å¤§è¾“å…¥ç”µé˜»ï¼ˆåˆ°åŸæ¥ $1 + A k_f$ å€ï¼‰ï¼›<br>å¼•å…¥å¹¶è”è´Ÿåé¦ˆï¼Œå‡å°è¾“å…¥ç”µé˜»ï¼ˆåˆ°åŸæ¥ ${\large \frac{1}{1 + A k_f}}$ å€ï¼‰</p><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“1.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“2.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“3.jpg"><hr><h2 id="4-11-è´Ÿåé¦ˆå¯¹è¾“å‡ºç”µé˜»çš„å½±å“"><a href="#4-11-è´Ÿåé¦ˆå¯¹è¾“å‡ºç”µé˜»çš„å½±å“" class="headerlink" title="4.11 è´Ÿåé¦ˆå¯¹è¾“å‡ºç”µé˜»çš„å½±å“"></a>4.11 è´Ÿåé¦ˆå¯¹è¾“å‡ºç”µé˜»çš„å½±å“</h2><p>ä¸»è¦å–å†³äº<strong>ç”µå‹åé¦ˆ</strong>è¿˜æ˜¯<strong>ç”µæµåé¦ˆ</strong>ã€‚</p><p>å¼•å…¥ç”µå‹è´Ÿåé¦ˆï¼Œ<strong>å‡å°</strong>è¾“å‡ºç”µé˜»åˆ°åŸæ¥ ${\large \frac{1}{1 + A_o k_f}}$ å€ï¼ˆç¨³å®šè¾“å‡ºç”µå‹ï¼‰ï¼›<br>å¼•å…¥ç”µæµè´Ÿåé¦ˆï¼Œ<strong>å¢å¤§</strong>è¾“å‡ºç”µé˜»åˆ°åŸæ¥ $1 + A_s k_f$ å€ï¼ˆç¨³å®šè¾“å‡ºç”µæµï¼‰</p><p>$R_o$ æ˜¯è€ƒè™‘äº†åé¦ˆç½‘ç»œè´Ÿè½½æ•ˆåº”çš„åŸºæœ¬æ”¾å¤§ç”µè·¯çš„è¾“å‡ºç”µé˜»<br>$A_o$ ä¸ºåŸºæœ¬æ”¾å¤§ç”µè·¯çš„å¼€ç¯å¢ç›Š<br>$A_s$ ä¸ºåŸºæœ¬æ”¾å¤§ç”µè·¯çš„çŸ­è·¯å¢ç›Š</p><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“1.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“2.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.10 è´Ÿåé¦ˆå¯¹è¾“å…¥ç”µé˜»çš„å½±å“3.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.11 è´Ÿåé¦ˆå¯¹è¾“å‡ºç”µé˜»çš„å½±å“4.jpg"><hr><h2 id="4-12-è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„è‡ªæ¿€æŒ¯è¡ç°è±¡"><a href="#4-12-è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„è‡ªæ¿€æŒ¯è¡ç°è±¡" class="headerlink" title="4.12 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„è‡ªæ¿€æŒ¯è¡ç°è±¡"></a>4.12 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„è‡ªæ¿€æŒ¯è¡ç°è±¡</h2><p>è´Ÿåé¦ˆä¸€èˆ¬åœ¨ä¸­é¢‘åŒºï¼Œåœ¨é«˜é¢‘/ä½é¢‘åŒºï¼Œå› ä¸ºç”µè·¯çš„é™„åŠ ç›¸ç§»ï¼Œç”µè·¯åœ¨æŸä¸ªé¢‘ç‡ç”µå˜æˆ<strong>æ­£åé¦ˆ</strong>ï¼Œç”šè‡³äº§ç”Ÿ<strong>è‡ªæ¿€æŒ¯è¡</strong>ï¼ˆç”µè·¯è‡ªå·±æ¿€åŠ±è‡ªå·±äº§ç”Ÿéœ‡è¡ï¼šè¾“å…¥ä¿¡å·ä¸ºé›¶ï¼Œæ”¾å¤§ç”µè·¯ä»æœ‰è¾“å‡ºä¿¡å·ï¼‰ã€‚</p><p>è€¦åˆç”µå®¹ã€æ—è·¯ç”µå®¹ã€çº§é—´ç”µå®¹ã€æ‚æ•£ç”µå®¹ç­‰å½±å“ç›¸ä½ã€‚</p><p>è‡ªæ¿€æŒ¯è¡çš„å¥½åï¼š<br>ã€€ã€€æ”¾å¤§ç”µè·¯ä¸­ï¼Œä¸ºäº†ç”µè·¯çš„ç¨³å®šæ€§ï¼Œéœ€è¦é¿å…äº§ç”Ÿè‡ªæ¿€æŒ¯è¡<br>ã€€ã€€æ­£å¼¦æ³¢æŒ¯è¡å™¨ä¸­ï¼Œéœ€è¦é€šè¿‡ç”µè·¯è‡ªæ¿€æŒ¯è¡äº§ç”Ÿæ­£å¼¦æ³¢</p><p>è‡ªæ¿€æŒ¯è¡çš„å¹³è¡¡æ¡ä»¶ï¼šå¹…å€¼ã€ç›¸ä½å¹³è¡¡æ¡ä»¶</p><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.12 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„è‡ªæ¿€æŒ¯è¡ç°è±¡.jpg"><hr><h2 id="4-13-è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿"><a href="#4-13-è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿" class="headerlink" title="4.13 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿"></a>4.13 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿</h2><p>ç›¸ä½è¡¥å¿åŸç†ï¼š</p><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.13 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿1.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.13 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿2.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.13 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿3.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.13 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿4.jpg"><img src="/2022/06/29/di-4-zhang-fan-kui-fang-da-jie-gou-yu-ying-yong/4.13 è´Ÿåé¦ˆæ”¾å¤§ç”µè·¯çš„ç¨³å®šæ€§åˆ†æåŠç›¸ä½è¡¥å¿5.jpg"><p>ç¨³å®šè£•åº¦ï¼š<br>ã€€ã€€å¢ç›Šè£•é‡ï¼šä¸€èˆ¬è´Ÿåé¦ˆç”µè·¯è¦æ±‚ï¼š$G_m \le -10dB$ï¼Œ$G_m$ è¶Šè´Ÿè¶Šç¨³å®š<br>ã€€ã€€ç›¸ä½è£•é‡ï¼šä¸€èˆ¬è´Ÿåé¦ˆç”µè·¯è¦æ±‚ï¼š$\varphi_m \ge 45Â°$ï¼Œ$\varphi_m$ è¶Šå¤§è¶Šç¨³å®š</p><p>æ»åè¡¥å¿æ³•æ¶ˆé™¤è‡ªæ¿€æŒ¯è¡ï¼šä»£ä»·â€”â€”é€šé¢‘å¸¦å˜çª„</p><hr><hr><p>äº¤æµï¼š${\large \frac{v_o}{v_i} = -\frac{R_1}{R_f}}$</p><p>åé¦ˆä¹‹è·¯ï¼š<br>ã€€ã€€è¾“å…¥å›è·¯ï¼šåŒ…å« be (gs, +-) çš„å›è·¯<br>ã€€ã€€è¾“å‡ºå›è·¯ï¼šåŒ…å«æœ€åä¸€ä¸ªæ™¶ä½“ç®¡çš„å›è·¯</p><p>åˆ¤æ–­åé¦ˆç±»å‹ï¼ˆæ³•1ï¼‰ï¼šç¦»æ™¶ä½“ç®¡æœ€è¿‘å¤„çŸ­è·¯<br>ã€€ã€€ä»¤$<br>\begin{cases}<br>v_0 = 0<br>    \begin{cases}<br>    è¾“å‡ºå›è·¯ä¸å­˜åœ¨ &amp; ç”µå‹åé¦ˆ\<br>    è¾“å‡ºå›è·¯å­˜åœ¨ &amp; ç”µæµåé¦ˆ\<br>    \end{cases}\<br>v_i = 0<br>    \begin{cases}<br>    è¾“å…¥å›è·¯ä¸å­˜åœ¨ &amp; å¹¶è”åé¦ˆ\<br>    è¾“å…¥å›è·¯å­˜åœ¨ &amp; ä¸²è”åé¦ˆ\<br>    \end{cases}\<br>\end{cases}<br>$</p><p>åˆ¤æ–­åé¦ˆç±»å‹ï¼ˆæ³•2ï¼‰ï¼š<br>æ¡ä»¶ï¼šâ‘ ä¿¡å·æºä¸è´Ÿè½½<strong>æœ‰å…¬å…±æ¥åœ°ç«¯</strong>â‘¡åé¦ˆç½‘ç»œ<strong>æ— æ™¶ä½“ç®¡</strong><br>ã€€ã€€åé¦ˆç½‘ç»œé€šè¿‡æ™¶ä½“ç®¡ä¸<strong>è¾“å‡º</strong>ç›¸è¿ï¼š$\begin{cases}æ˜¯ &amp; ç”µæµåé¦ˆ\ å¦ &amp; ç”µå‹åé¦ˆ\end{cases}$<br>ã€€ã€€åé¦ˆç½‘ç»œé€šè¿‡æ™¶ä½“ç®¡ä¸<strong>è¾“å…¥</strong>ç›¸è¿ï¼š$\begin{cases}æ˜¯ &amp; ä¸²è”åé¦ˆ\ å¦ &amp; å¹¶è”åé¦ˆ\end{cases}$</p><p>ç”µå‹æ”¾å¤§å™¨ï¼šè¾“å‡ºç”µå‹ç¨³å®š<br>è¾“å…¥ç”µé˜»å¤§ï¼š$R_i \to \infin$<br>è¾“å‡ºç”µé˜»å°ï¼š$R_o \to 0$</p><p>ç”µæµæ”¾å¤§å™¨ï¼šè¾“å‡ºç”µæµç¨³å®š<br>è¾“å…¥ç”µé˜»å°ï¼š$R_i \to 0$<br>è¾“å‡ºç”µé˜»å¤§ï¼š$R_o \to \infin$</p><p>æ·±åº¦è´Ÿåé¦ˆï¼š<br>ç”µå‹è´Ÿåé¦ˆç¨³å®šè¾“å‡ºç”µå‹<br>ç”µåŠ›è´Ÿåé¦ˆç¨³å®šè¾“å‡ºç”µæµ<br>ä¸è¾“å‡ºç”µé˜»æ— å…³</p><p>è™šçŸ­è™šæ–­ï¼šç¦»æ™¶ä½“ä¸‰æç®¡æœ€è¿‘å¤„ be (gx, +-)<br>$A_f = \frac{1}{k_f}$<br>$x_{if} \approx x_f, x_iâ€™ \to 0$</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ¨¡ç”µç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¨¡ç”µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬3ç« -æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§åŸºç¡€</title>
      <link href="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/"/>
      <url>/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬3ç« -æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§åŸºç¡€"><a href="#ç¬¬3ç« -æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§åŸºç¡€" class="headerlink" title="ç¬¬3ç« -æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§åŸºç¡€"></a>ç¬¬3ç« -æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§åŸºç¡€</h1><p>[toc]</p><h2 id="3-1-æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§çš„åŸºæœ¬æ¦‚å¿µ"><a href="#3-1-æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="3.1 æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§çš„åŸºæœ¬æ¦‚å¿µ"></a>3.1 æ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§çš„åŸºæœ¬æ¦‚å¿µ</h2><p>ä¸€èˆ¬ï¼Œæ”¾å¤§å™¨ä¸­å«æœ‰ç”µæŠ—å…ƒä»¶ã€‚åœ¨å¤šé¢‘ç‡çš„æ¨¡æ‹Ÿä¿¡å·æ¿€åŠ±ä¸‹ï¼Œå› é¢‘ç‡ä¸åŒï¼Œæ”¾å¤§å™¨çš„å¢ç›Šä¼šéšä¹‹æ”¹å˜ï¼Œå› æ­¤ï¼Œåœ¨æ­£å¼¦ç¨³æ€æƒ…å†µä¸‹ï¼Œå¢ç›Šå¿…é¡»é‡‡ç”¨å¤æ•°è¡¨ç¤ºï¼Œå³<strong>å¤å¢ç›Š</strong>ï¼š</p><p><strong>å¤å¢ç›Š</strong>ï¼š${\large A(j\omega)=A(\omega)e^{j\phi_A(\omega)}}$<br>å¹…é¢‘ç‰¹æ€§ï¼š${\large A(\omega)}$ï¼›ç›¸é¢‘ç‰¹æ€§ï¼š${\large \phi_A(\omega)}$</p><p>æˆ–è€…</p><p><strong>å¤å¢ç›Š</strong>ï¼š${\large A(jf)=A(f)e^{j\phi_A(f)}}$<br>å¹…é¢‘ç‰¹æ€§ï¼š${\large A(f)}$ï¼›ç›¸é¢‘ç‰¹æ€§ï¼š${\large \phi_A(f)}$</p><p>ç›¸åº”çš„ï¼Œå¯ä»¥ç”»å‡ºå¹…é¢‘ç‰¹æ€§æ›²çº¿å’Œç›¸é¢‘ç‰¹æ€§æ›²çº¿ã€‚</p><p>å¤§çš„è€¦åˆç”µå®¹è®¤ä¸ºçŸ­è·¯ï¼Œå°çš„æé—´ç”µå®¹è®¤ä¸ºå¼€è·¯ã€‚è€¦åˆç”µå®¹æ˜¯é«˜é€šï¼Œæé—´ç”µå®¹æ˜¯ä½é€šï¼›æ‰€ä»¥é«˜é¢‘è¦è€ƒè™‘æé—´ç”µå®¹ï¼Œä½é¢‘è€ƒè™‘è€¦åˆç”µå®¹ã€‚</p><p>æˆ‘ä»¬è®¤ä¸ºï¼Œå½“æ”¾å¤§å™¨å¢ç›Šä¸‹é™åˆ°æœ€å¤§å¢ç›Šçš„ $\frac{1}{\sqrt{2}}$ æ—¶ï¼Œå¯¹åº”äº†ä¸¤ä¸ªé¢‘ç‡ï¼Œåˆ†åˆ«ä¸ºä¸Šé™æˆªæ­¢é¢‘ç‡ $f_H$ å’Œ ä¸‹é™æˆªæ­¢é¢‘ç‡ $f_L$ï¼Œè¿™ä¸¤ä¸ªé¢‘ç‡ä¹‹é—´çš„é¢‘ç‡å°±æ˜¯æ”¾å¤§å™¨çš„<strong>é€šé¢‘å¸¦</strong>ï¼Œåœ¨è¿™ä¸ªé¢‘ç‡èŒƒå›´å†…ï¼Œæˆ‘ä»¬è¿‘ä¼¼è®¤ä¸ºæ”¾å¤§å™¨çš„å¢ç›Šæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå³é€šé¢‘å¸¦ä»¥å†…ï¼Œæ”¾å¤§å™¨çš„å¢ç›Šæ— å¤±çœŸã€‚</p><p>åœ¨é¢‘ç‡å¾ˆé«˜å’Œé¢‘ç‡å¾ˆä½çš„æ—¶å€™å‡ºç°çš„å¤±çœŸæ˜¯ç”±äº<strong>çº¿æ€§ç”µæŠ—å…ƒä»¶</strong>å¼•èµ·çš„ï¼Œç§°ä¹‹ä¸º<strong>çº¿æ€§å¤±çœŸ</strong>ï¼ˆ<strong>é¢‘ç‡å¤±çœŸ</strong>ï¼‰ã€‚</p><p>é¢‘ç‡å¤±çœŸåŒ…æ‹¬<strong>å¹…é¢‘å¤±çœŸ</strong>å’Œ<strong>ç›¸é¢‘å¤±çœŸ</strong>ï¼Œçº¿æ€§å¤±çœŸçš„<strong>ç‰¹ç‚¹</strong>ï¼šä¸äº§ç”Ÿæ–°çš„é¢‘ç‡æˆåˆ†ã€‚</p><p>éçº¿æ€§å¤±çœŸï¼šåŠŸç‡æ”¾å¤§å™¨çš„<strong>äº¤è¶Šå¤±çœŸ</strong>ã€æ”¾å¤§å™¨çš„<strong>é¥±å’Œå¤±çœŸå’Œæˆªæ­¢å¤±çœŸ</strong></p><hr><h2 id="3-2-é¢‘ç‡ç‰¹æ€§çš„ç¨³æ€æè¿°æ–¹æ³•åŠæ³¢ç‰¹å›¾åæ ‡ç³»"><a href="#3-2-é¢‘ç‡ç‰¹æ€§çš„ç¨³æ€æè¿°æ–¹æ³•åŠæ³¢ç‰¹å›¾åæ ‡ç³»" class="headerlink" title="3.2 é¢‘ç‡ç‰¹æ€§çš„ç¨³æ€æè¿°æ–¹æ³•åŠæ³¢ç‰¹å›¾åæ ‡ç³»"></a>3.2 é¢‘ç‡ç‰¹æ€§çš„ç¨³æ€æè¿°æ–¹æ³•åŠæ³¢ç‰¹å›¾åæ ‡ç³»</h2><p><strong>æ³¢ç‰¹å›¾</strong>ï¼Œå³å¹…é¢‘ç‰¹æ€§æ›²çº¿å’Œç›¸é¢‘ç‰¹æ€§æ›²çº¿</p><p>å¹…é¢‘å’Œç›¸é¢‘ç‰¹æ€§æ³¢ç‰¹å›¾çš„<strong>æ¨ªåæ ‡</strong>å‡é‡‡ç”¨<strong>å¯¹æ•°åæ ‡</strong>ï¼ˆæ¨ªåæ ‡æ²¡æœ‰ $0$ï¼‰</p><p><strong>ç›¸é¢‘</strong>ç‰¹æ€§æ›²çº¿çš„<strong>çºµåæ ‡</strong> $\varphi_H(f)$ é‡‡ç”¨ä¼ ç»Ÿçš„<strong>æ¯”ä¾‹åæ ‡</strong></p><p><strong>å¹…é¢‘</strong>ç‰¹æ€§æ›²çº¿çš„<strong>çºµåæ ‡</strong> $A_v(f)(dB)$ é‡‡ç”¨<strong>å¯¹æ•°åæ ‡</strong>ï¼Œ$A_v(f)(dB) = 20lgA_v(f) = 20lg|A_v(jf)|$</p><hr><h2 id="3-3-ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾"><a href="#3-3-ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾" class="headerlink" title="3.3 ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾"></a>3.3 ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾</h2><p>ä»€ä¹ˆæ˜¯ä¸€é˜¶ï¼Ÿï¼š<strong>ä¸€ä¸ªç‹¬ç«‹</strong>åŠ¨æ€å…ƒä»¶</p><ul><li>ä¸€é˜¶ä½é€š RC æ»¤æ³¢å™¨</li></ul><p>${\large A_v(j\omega) = \frac{1}{1 + j\frac{\omega}{\omega_H}}},~ \omega_H = \frac{1}{RC}$</p><p>å¹…å€¼ï¼š$A_v(j\omega)|_{dB} = -20log\sqrt{(1 + (\frac{\omega}{\omega_H})^2)}$<br>ç›¸è§’ï¼š$\varphi_A(\omega) = -arctan\frac{\omega}{\omega_H}$</p><p>æ³¢ç‰¹å›¾ï¼š<br>å¹…é¢‘æ¸è¿›æ³¢ç‰¹å›¾ï¼šä» $\omega_H$ å¼€å§‹ï¼Œ-20dB/10å€é¢‘<br>ç›¸é¢‘æ¸è¿›æ³¢ç‰¹å›¾ï¼šä» $0.1\omega_H$ å¼€å§‹ï¼Œ-45Â°/10å€é¢‘</p><!-- <details><summary>å±•å¼€è¯´è¯´</summary> --><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.3 ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾1.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.3 ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾2.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.3 ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾3.jpg"><!-- </details> --><ul><li>ä¸€é˜¶é«˜é€š RC æ»¤æ³¢å™¨</li></ul><p>${\large A_v(j\omega) = \frac{1}{1 - j\frac{\omega_L}{\omega}}},~ \omega = \frac{1}{RC}$</p><p>å¹…å€¼ï¼š$A_v(j\omega)|_{dB} = -20log\sqrt{(1 + (\frac{\omega_L}{\omega})^2)}$<br>ç›¸è§’ï¼š$\varphi_A(\omega) = arctan\frac{\omega_L}{\omega}$</p><p>æ³¢ç‰¹å›¾ï¼š<br>å¹…é¢‘æ¸è¿›æ³¢ç‰¹å›¾ï¼šä» $\omega_L$ ä¹‹å‰ï¼Œ20dB/10å€é¢‘<br>ç›¸é¢‘æ¸è¿›æ³¢ç‰¹å›¾ï¼šä» $0.1\omega_L$ å¼€å§‹ï¼Œ-45Â°/10å€é¢‘</p><!-- <details><summary>å±•å¼€è¯´è¯´</summary> --><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.3 ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾4.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.3 ä¸€é˜¶ä½é€šå’Œé«˜é€šRCæ»¤æ³¢å™¨çš„æ¸è¿‘æ³¢ç‰¹å›¾5.jpg"><!-- </details> --><hr><h2 id="3-4-å¤šå› å­å¢ç›Šçš„æ¸è¿‘æ³¢ç‰¹å›¾ç”»æ³•"><a href="#3-4-å¤šå› å­å¢ç›Šçš„æ¸è¿‘æ³¢ç‰¹å›¾ç”»æ³•" class="headerlink" title="3.4 å¤šå› å­å¢ç›Šçš„æ¸è¿‘æ³¢ç‰¹å›¾ç”»æ³•"></a>3.4 å¤šå› å­å¢ç›Šçš„æ¸è¿‘æ³¢ç‰¹å›¾ç”»æ³•</h2><ul><li>RC é«˜é€šç”µè·¯æ³¢ç‰¹å›¾çš„<strong>å¦è§£</strong></li></ul><p>å·²çŸ¥ï¼š${\large A_v(j\omega) = (j\frac{\omega}{\omega_H})(\frac{1}{1 + j\frac{\omega}{\omega_H}})}$</p><p>å¹…å€¼ï¼š${\large A_v(\omega)|_{dB} = [20lg\frac{\omega}{\omega_H}] + [20lg\sqrt{\frac{1}{1 + (\frac{\omega}{\omega_H})^2}}]}$<br>ç›¸è§’ï¼š${\large \varphi_A(\omega) = [90Â°] + [-arctan\frac{\omega}{\omega_H}]}$</p><p>å› æ­¤ï¼Œæ³¢ç‰¹å›¾å¯ä»¥ç”±å„ä¸ªä½é€š/é«˜é€šå› å­<strong>å åŠ </strong>å½¢æˆã€‚</p><ul><li>ä¾‹ï¼š${\large A_v(j\omega) = \frac{1000}{(1 + j\frac{\omega}{\omega_{H1}})(1 + j\frac{\omega}{\omega_{H2}})}}$</li></ul><p>å¹…é¢‘ï¼šï¼ˆ1ï¼‰$20lg1000 = 60dB$ï¼ˆ2ï¼‰$20lg\frac{1}{\sqrt{1 + (\frac{\omega}{\omega_{H1}})^2}}$ï¼ˆ3ï¼‰$20lg\frac{1}{\sqrt{1 + (\frac{\omega}{\omega_{H2}})^2}}$<br>ç›¸è§’ï¼šï¼ˆ1ï¼‰$0Â°$ï¼ˆ2ï¼‰$-arctan\frac{\omega}{\omega_{H1}}$ï¼ˆ3ï¼‰$-arctan\frac{\omega}{\omega_{H2}}$</p><ol><li>è€¦åˆå¤§ç”µå®¹ã€æ—è·¯å¤§ç”µå®¹æ˜¯<strong>é«˜é€šå› å­</strong></li><li>PN ç»“ç»“ç”µå®¹ $C_{bâ€™e}$ å’Œ $C_{bâ€™c}$ æ˜¯<strong>ä½é€šå› å­</strong><ul><li>$C_{bâ€™c}$ åŠ¿å’ç”µå®¹</li><li>$C_{bâ€™e}$ æ‰©æ•£ç”µå®¹ï¼š$C_{bâ€™e} \gg C_{bâ€™c}$</li></ul></li></ol><p>å¢ç›Šï¼š${\large A_v(jf) \approx = \frac{A_{vm}}{(1 - j\frac{f_{L1}}{f})\cdots(1 - j\frac{f_{Ln}}{f})(1 + j\frac{f}{f_{H1}})\cdots(1 + j\frac{f}{f_{Hm}})}}$</p><p>$n$ ä¸ºç‹¬ç«‹è€¦åˆã€æ—è·¯å¤§ç”µå®¹ä¸ªæ•°ï¼Œ$m$ ä¸º PN ç»“ç»“ç”µå®¹ä¸ªæ•°ã€‚</p><p>ä¸Šé™æˆªæ­¢é¢‘ç‡ï¼š$f_H \approx 1 / (\frac{1}{f_{H1}} + \cdots + \frac{1}{f_{Hm}}) = 1 / (2 \pi (\tau_{1} + \cdots + \tau_{m}))$<br>ä¸‹é™æˆªæ­¢é¢‘ç‡ï¼š$f_L \approx f_{L1} + \cdots + f_{Ln}$</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ”¾å¤§å™¨çº§æ•°è¶Šå¤šï¼Œå…¶ä¸­çš„ç”µå®¹è¶Šå¤šï¼Œé€šé¢‘å¸¦è¶Š<strong>çª„</strong>ã€‚</p><hr><h2 id="3-5-æ™¶ä½“ç®¡çš„é«˜é¢‘å°ä¿¡å·ç”µè·¯æ¨¡å‹å’Œé¢‘ç‡ç‰¹æ€§å‚æ•°"><a href="#3-5-æ™¶ä½“ç®¡çš„é«˜é¢‘å°ä¿¡å·ç”µè·¯æ¨¡å‹å’Œé¢‘ç‡ç‰¹æ€§å‚æ•°" class="headerlink" title="3.5 æ™¶ä½“ç®¡çš„é«˜é¢‘å°ä¿¡å·ç”µè·¯æ¨¡å‹å’Œé¢‘ç‡ç‰¹æ€§å‚æ•°"></a>3.5 æ™¶ä½“ç®¡çš„é«˜é¢‘å°ä¿¡å·ç”µè·¯æ¨¡å‹å’Œé¢‘ç‡ç‰¹æ€§å‚æ•°</h2><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.5 æ™¶ä½“ç®¡çš„é«˜é¢‘å°ä¿¡å·ç”µè·¯æ¨¡å‹å’Œé¢‘ç‡ç‰¹æ€§å‚æ•°1.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.5 æ™¶ä½“ç®¡çš„é«˜é¢‘å°ä¿¡å·ç”µè·¯æ¨¡å‹å’Œé¢‘ç‡ç‰¹æ€§å‚æ•°2.jpg"><p>å…±å‘å°„ç”µè·¯ï¼š</p><p>æˆªæ­¢è§’é¢‘ç‡ï¼š$\omega_\beta = \frac{1}{rC} = \frac{1}{r_{bâ€™e}(C_{bâ€™e} + C_{bâ€™c})}$<br>å…¶ä¸­ï¼ŒåŠ¿å’ç”µå®¹ï¼ˆæ‰‹å†Œæœ‰ï¼‰ï¼š$C_{bâ€™c}$<br>æ”¾å¤§å€æ•°ï¼ˆå¤æ•°ï¼‰ï¼š$\beta(j\omega) = \frac{I_c(j\omega)}{I_b(j\omega)}|<em>{</em>{V_{ce}=0}} \approx \frac{\beta}{1+j\frac{\omega}{\omega_\beta}}$<br>æ•…ï¼Œæ”¾å¤§å€æ•°ï¼š$\beta(\omega) = \beta / \sqrt{1 + (\omega_T / \omega_\beta)^2}$<br>ç‰¹å¾è§’é¢‘ç‡ï¼š$\omega_T = \beta \omega_\beta \approx g_m r_{bâ€™e}\frac{1}{r_{bâ€™e}C_{bâ€™e}} = \frac{g_m}{C_{bâ€™e}}$<br>ç‰¹å¾é¢‘ç‡ï¼ˆæ‰‹å†Œæœ‰ï¼‰ï¼š$f_T = \omega / 2 \pi = \frac{g_m}{2 \pi C_{bâ€™e}}$<br>æ•…ï¼Œæ‰©æ•£ç”µå®¹ï¼š$C_{bâ€™e} \approx \frac{g_m}{2 \pi f_T}$</p><details><summary>åœºæ•ˆåº”ç®¡çš„é¢‘ç‡ç‰¹æ€§æè¿°</summary><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.5 æ™¶ä½“ç®¡çš„é«˜é¢‘å°ä¿¡å·ç”µè·¯æ¨¡å‹å’Œé¢‘ç‡ç‰¹æ€§å‚æ•°3.jpg"></details><hr><h2 id="3-6-å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰"><a href="#3-6-å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰" class="headerlink" title="3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰"></a>3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰</h2><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰1.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰2.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰3.jpg"><p>å¯†å‹’å®šç†ï¼š<br>    $C_1 = C[1 - A(j\omega)]$<br>    $C_2 = C[1 - {\large \frac{1}{A(j\omega)}}]$</p><p>å¯†å‹’å®šç†ï¼š<br>    â‘ ç”µå®¹æ¨¡æ‹Ÿç”µæ„Ÿ<br>    â‘¡å°ç”µå®¹æ¨¡æ‹Ÿå¤§ç”µå®¹</p><p>å…±å‘å°„ææ”¾å¤§ç”µè·¯ï¼š<br>å¢ç›Šï¼š$A(j\omega) \approx -g_mR_Lâ€™$</p><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰4.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰5.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.6 å…±å‘å°„ææ”¾å¤§å™¨é«˜é¢‘é¢‘ç‡ç‰¹æ€§åˆ†æï¼ˆå¯†å‹’ç­‰æ•ˆï¼‰6.jpg"><p>æœ‰ä¸€é¡¹ï¼š$R_tg_mR_Lâ€™C_{bâ€™c}$ï¼Œè¿œå¤§äºå…¶ä»–é¡¹ï¼Œè¯´æ˜ $C_{bâ€™c}$ å¯¹ä¸Šé™æˆªæ­¢é¢‘ç‡æ›´å¤§ä¸€äº›ã€‚</p><hr><h2 id="3-7-å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ"><a href="#3-7-å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ" class="headerlink" title="3.7 å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ"></a>3.7 å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ</h2><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.7 å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ1.jpg"><font color="red"><p><strong>å·¥ç¨‹è¿‘ä¼¼</strong>ï¼š<br>ã€€ã€€ä½é¢‘ï¼šæ±‚å…¶ä»–ç”µå®¹<strong>çŸ­è·¯</strong>æˆ´ç»´å—ç­‰æ•ˆç”µé˜» $R_n$<br>ã€€ã€€é«˜é¢‘ï¼šæ±‚å…¶ä»–ç”µå®¹<strong>å¼€è·¯</strong>æˆ´ç»´å—ç­‰æ•ˆç”µé˜» $R_m$</p></font><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.7 å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ2.jpg"><p>é«˜é¢‘ï¼š$f_H \approx 1 / [2 \pi (R_tC_{bâ€™e} + R_{bâ€™c}C_{bâ€™c})]$<br>$R_t = [(R_S // R_B) + r_{bbâ€™}] // r_{bâ€™e}$<br>$R_{bâ€™c} = R_t + (1 + g_mR_t)R_Lâ€™$</p><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.7 å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ3.jpg"><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.7 å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ4.jpg"><p>ä½é¢‘ï¼š$f_L \approx f_{L1} + f_{L2} + f_{L3} \approx f_{L3}$<br>$f_{L3} \gg f_{L1} + f_{L2}$</p><p><strong>æ—è·¯</strong>ç”µå®¹ $C_E$ å¯¹æ”¾å¤§å™¨çš„<strong>ä½é¢‘</strong>ç‰¹æ€§å½±å“æœ€å¤§</p><img src="/2022/06/29/di-3-zhang-fang-da-qi-pin-lu-te-xing-ji-chu/3.7 å…±å‘å°„ææ”¾å¤§å™¨é¢‘ç‡ç‰¹æ€§å·¥ç¨‹è¿‘ä¼¼åˆ†æ5.jpg"><p>å¢ç›Šå¸¦å®½ç§¯å’Œæ”¾å¤§å™¨çš„å¢ç›Šæ²¡æœ‰å¤ªå¤§å…³ç³»ï¼Œå³åœ¨å…±å‘å°„ææ”¾å¤§å™¨é‡Œé¢ï¼Œä¿¡å·æºå’Œæ™¶ä½“ç®¡ç¡®å®šä¹‹åï¼Œå¢ç›Šå¸¦å®½ç§¯è¿‘ä¼¼ä¸ºä¸€ä¸ªå¸¸æ•°ã€‚</p><p>æé«˜å¢ç›Šå¸¦å®½ç§¯ï¼šä½¿ç”¨å¥½çš„ä¿¡å·æºï¼ˆç†æƒ³ç”µå‹æºï¼šä¿¡å·æºå†…é˜»å°ï¼‰ã€å¥½çš„æ™¶ä½“ç®¡ï¼ˆ$r_{bbâ€™} å°ã€C_{bâ€™c} å°ã€f_T é«˜$ï¼‰</p><hr><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ¨¡ç”µç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¨¡ç”µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬2ç« -æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯</title>
      <link href="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/"/>
      <url>/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬2ç« -æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯"><a href="#ç¬¬2ç« -æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯" class="headerlink" title="ç¬¬2ç« -æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯"></a>ç¬¬2ç« -æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯</h1><p>[toc]</p><h2 id="2-1-æ”¾å¤§çš„æ¦‚å¿µ"><a href="#2-1-æ”¾å¤§çš„æ¦‚å¿µ" class="headerlink" title="2.1 æ”¾å¤§çš„æ¦‚å¿µ"></a>2.1 æ”¾å¤§çš„æ¦‚å¿µ</h2><p>æ”¾å¤§çš„æœ¬è´¨æ˜¯èƒ½é‡æ”¾å¤§&amp;èƒ½é‡è½¬æ¢</p><p>è€¦åˆç”µè·¯ï¼šå¢åŠ ç”µå®¹</p><hr><h2 id="2-2-æ”¾å¤§ç”µè·¯çš„ç›´æµå·¥ä½œå¹³å°"><a href="#2-2-æ”¾å¤§ç”µè·¯çš„ç›´æµå·¥ä½œå¹³å°" class="headerlink" title="2.2 æ”¾å¤§ç”µè·¯çš„ç›´æµå·¥ä½œå¹³å°"></a>2.2 æ”¾å¤§ç”µè·¯çš„ç›´æµå·¥ä½œå¹³å°</h2><ul><li>æ”¾å¤§ç”µè·¯ä¸­ç›´æµç”µæºçš„ä½œç”¨ï¼š<ol><li>æä¾›æ”¾å¤§åŠŸç‡</li><li>ä¿è¯æ”¾å¤§æœŸé—´å…·æœ‰æ­£å‘å—æ§ä½œç”¨</li></ol></li></ul><p>æ”¾å¤§ç”µè·¯çš„æ”¾å¤§æ˜¯å»ºç«‹åœ¨ç›´æµå·¥ä½œå¹³å°åŸºç¡€ä¸Šçš„ä¿¡å·æ”¾å¤§ã€‚</p><hr><h2 id="2-3-ç›´æµé€šè·¯å’Œäº¤æµé€šè·¯"><a href="#2-3-ç›´æµé€šè·¯å’Œäº¤æµé€šè·¯" class="headerlink" title="2.3 ç›´æµé€šè·¯å’Œäº¤æµé€šè·¯"></a>2.3 ç›´æµé€šè·¯å’Œäº¤æµé€šè·¯</h2><ul><li><p>ç›´æµé€šè·¯ï¼š</p><ul><li>äº¤æµä¿¡å·ç½®é›¶</li><li>ç”µå®¹å¼€è·¯</li><li>ç”µæ„ŸçŸ­è·¯</li></ul></li><li><p>äº¤æµé€šè·¯ï¼š</p><ul><li>ç›´æµä¿¡å·ç½®é›¶</li><li>ç”µå®¹çŸ­è·¯</li><li>ç”µæ„Ÿå¼€è·¯</li></ul></li></ul><hr><h2 id="2-4-é™æ€å·¥ä½œç‚¹çš„ç¨³å®š"><a href="#2-4-é™æ€å·¥ä½œç‚¹çš„ç¨³å®š" class="headerlink" title="2.4 é™æ€å·¥ä½œç‚¹çš„ç¨³å®š"></a>2.4 é™æ€å·¥ä½œç‚¹çš„ç¨³å®š</h2><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.4 ä¸‰æç®¡å…±å‘å°„ææ”¾å¤§ç”µè·¯1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.4 ä¸‰æç®¡å…±å‘å°„ææ”¾å¤§ç”µè·¯2-è®¡ç®—.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.4 ä¸‰æç®¡å…±å‘å°„ææ”¾å¤§ç”µè·¯3-é™æ€å·¥ä½œç‚¹çš„ç¨³å®š.jpg" width="800px"><hr><h2 id="2-5-æ”¾å¤§ç”µè·¯çš„æ€§èƒ½æŒ‡æ ‡"><a href="#2-5-æ”¾å¤§ç”µè·¯çš„æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="2.5 æ”¾å¤§ç”µè·¯çš„æ€§èƒ½æŒ‡æ ‡"></a>2.5 æ”¾å¤§ç”µè·¯çš„æ€§èƒ½æŒ‡æ ‡</h2><ul><li>æ€§èƒ½æŒ‡æ ‡<ul><li>å¢ç›Šï¼ˆæ”¾å¤§å€æ•°ï¼‰ï¼šè¾“å‡ºä¸è¾“å…¥ä¹‹æ¯”<ol><li>ç”µå‹å¢ç›Š ${\large A_u = \frac{\dot{U_o}}{\dot{U_i}}}$</li><li>ç”µæµå¢ç›Š ${\large A_i = \frac{\dot{I_o}}{\dot{I_i}}}$</li><li>äº’é˜»å¢ç›Š ${\large A_r = \frac{\dot{U_o}}{\dot{I_i}}}$</li><li>äº’å¯¼å¢ç›Š ${\large A_g = \frac{\dot{I_o}}{\dot{U_i}}}$</li></ol></li><li>è¾“å…¥é˜»æŠ—ï¼š${\large Z_i = \frac{\dot{U_i}}{\dot{I_i}}}$</li><li>è¾“å‡ºé˜»æŠ—ï¼š${\large Z_o = \frac{\dot{U_o}}{\dot{I_o}}|_{R_L = \infin <del>,</del> \dot{U}_S = 0}}$</li></ul></li></ul><p>**æ”¾å¤§å€æ•°ã€$R_i$ã€$R_o$**ã€é€šé¢‘å¸¦ã€éçº¿æ€§å¤±çœŸã€æœ€å¤§ä¸å¤±çœŸè¾“å‡ºç”µå‹ã€æœ€å¤§è¾“å‡ºåŠŸç‡ä¸é¢‘ç‡</p><hr><h2 id="2-6-æ™¶ä½“ç®¡çš„Hå‚æ•°ç­‰æ•ˆæ¨¡å‹"><a href="#2-6-æ™¶ä½“ç®¡çš„Hå‚æ•°ç­‰æ•ˆæ¨¡å‹" class="headerlink" title="2.6 æ™¶ä½“ç®¡çš„Hå‚æ•°ç­‰æ•ˆæ¨¡å‹"></a>2.6 æ™¶ä½“ç®¡çš„Hå‚æ•°ç­‰æ•ˆæ¨¡å‹</h2><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.6 æ™¶ä½“ç®¡çš„Hå‚æ•°ç­‰æ•ˆæ¨¡å‹1-å¾®å˜ç­‰æ•ˆæ¨¡å‹.jpg" width="800px"><ul><li>ä¸‰æç®¡çš„ä¸‰ç§ç»„æ€çš„å¾®å˜ç­‰æ•ˆæ¨¡å‹</li></ul><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.6 æ™¶ä½“ç®¡çš„Hå‚æ•°ç­‰æ•ˆæ¨¡å‹2-ä¸‰ç§ç»„æ€çš„å¾®å˜ç­‰æ•ˆæ¨¡å‹.jpg" width="800px"><hr><h2 id="2-7-å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ"><a href="#2-7-å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ" class="headerlink" title="2.7 å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ"></a>2.7 å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ</h2><!-- - å¢ç›Š  - æ—  $R_E$ï¼š$A_u = - \frac{R_L'\beta I_b}{r_{be}I_b} = - \frac{R_L'\beta}{r_{be}}$ å¢åŠ æ”¾å¤§å¢ç›Š  - æœ‰ $R_E$ï¼š$A_u = - \frac{R_L'\beta I_b}{r_{be}I_b + I_eR_E} = - \frac{R_L'\beta}{r_{be} + (1 + \beta)R_E}$ ç¨³å®šæ”¾å¤§å¢ç›Š --><details><summary><b>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</b>ï¼šå¢ç›Šã€è¾“å…¥é˜»æŠ—ã€è¾“å‡ºé˜»æŠ—</summary><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.7 å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.7 å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.7 å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ3.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.7 å…±å‘å°„ææ”¾å¤§ç”µè·¯çš„åŠ¨æ€åˆ†æ4.jpg" width="800px"></details><hr><h2 id="2-8-å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ"><a href="#2-8-å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ" class="headerlink" title="2.8 å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ"></a>2.8 å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ</h2><p><strong>(å‘å°„æ)æ—è·¯ç”µå®¹</strong>èƒ½æé«˜æ”¾å¤§å¢ç›Šï¼šå½“æ— è¿™ç”µå®¹æ—¶å€™ï¼Œå…±å‘å°„æ”¾å¤§ç”µè·¯ç”±äºå‘å°„ææœ‰ç”µé˜»ï¼Œè¿™ä¸ªç”µé˜»ç°æˆ<strong>è´Ÿåé¦ˆ</strong>ï¼Œä½¿å¾—æ”¾å¤§ç”µè·¯çš„<strong>å¢ç›Šé™ä½</strong>ï¼›å½“å¹¶è”äº†æ—è·¯ç”µå®¹åï¼Œäº¤æµç­‰æ•ˆçŸ­è·¯è¿™ä¸ªç”µé˜»ï¼Œé‚£ä¹ˆæå¤§çš„<strong>å‡å°‘è´Ÿåé¦ˆé‡</strong>ï¼Œè¿™æ ·å¯ä»¥<strong>æé«˜</strong>æœ¬çº§çš„æ”¾å¤§é‡ï¼Œå³å¢ç›Šã€‚</p><details><summary><b>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</b>ï¼šå¢ç›Šã€è¾“å…¥é˜»æŠ—ã€è¾“å‡ºé˜»æŠ—</summary><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.8 å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.8 å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.8 å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ3.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.8 å¢ç›Šç¨³å®šçš„å…±å‘å°„ææ”¾å¤§ç”µè·¯åŠ¨æ€ç”µè·¯åˆ†æ4.jpg" width="800px"></details><hr><h2 id="2-9-å…±é›†ç”µææ”¾å¤§ç”µè·¯"><a href="#2-9-å…±é›†ç”µææ”¾å¤§ç”µè·¯" class="headerlink" title="2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯"></a>2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯</h2><details><summary><b>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</b>ï¼šå¢ç›Šã€è¾“å…¥é˜»æŠ—ã€è¾“å‡ºé˜»æŠ—</summary><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯3.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯4.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯5.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯6.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.9 å…±é›†ç”µææ”¾å¤§ç”µè·¯7.jpg" width="800px"></details><hr><h2 id="2-10-å…±åŸºææ”¾å¤§ç”µè·¯"><a href="#2-10-å…±åŸºææ”¾å¤§ç”µè·¯" class="headerlink" title="2.10 å…±åŸºææ”¾å¤§ç”µè·¯"></a>2.10 å…±åŸºææ”¾å¤§ç”µè·¯</h2><details><summary><b>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</b>ï¼šå¢ç›Šã€è¾“å…¥é˜»æŠ—ã€è¾“å‡ºé˜»æŠ—</summary><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.10 å…±åŸºææ”¾å¤§ç”µè·¯1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.10 å…±åŸºææ”¾å¤§ç”µè·¯2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.10 å…±åŸºææ”¾å¤§ç”µè·¯3.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.10 å…±åŸºææ”¾å¤§ç”µè·¯4.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.10 å…±åŸºææ”¾å¤§ç”µè·¯5.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.10 å…±åŸºææ”¾å¤§ç”µè·¯6.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.10 å…±åŸºææ”¾å¤§ç”µè·¯7.jpg" width="800px"></details><hr><h2 id="2-11-æ™¶ä½“ç®¡åŸºæœ¬æ”¾å¤§ç”µè·¯ä¸‰ç§æ¥æ³•çš„æ¯”è¾ƒ"><a href="#2-11-æ™¶ä½“ç®¡åŸºæœ¬æ”¾å¤§ç”µè·¯ä¸‰ç§æ¥æ³•çš„æ¯”è¾ƒ" class="headerlink" title="2.11 æ™¶ä½“ç®¡åŸºæœ¬æ”¾å¤§ç”µè·¯ä¸‰ç§æ¥æ³•çš„æ¯”è¾ƒ"></a>2.11 æ™¶ä½“ç®¡åŸºæœ¬æ”¾å¤§ç”µè·¯ä¸‰ç§æ¥æ³•çš„æ¯”è¾ƒ</h2><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.11 æ™¶ä½“ç®¡åŸºæœ¬æ”¾å¤§ç”µè·¯ä¸‰ç§æ¥æ³•çš„æ¯”è¾ƒ.jpg" width="800px"><ul><li><font color="red">ä¸‰ç§åŸºæœ¬æ”¾å¤§å•å…ƒç”µè·¯æ€§èƒ½</font></li></ul><table><thead><tr><th align="center"></th><th align="center">ç”µå‹å¢ç›Š $A_u$</th><th align="center">ç”µæµå¢ç›Š $A_i$</th><th align="center">è¾“å…¥ç”µé˜» $R_i$</th><th align="center">è¾“å‡ºç”µé˜» $R_o$</th></tr></thead><tbody><tr><td align="center">å…±å‘å°„æ CE</td><td align="center">$- \frac{\beta R_L}{r_{be}}$</td><td align="center">$\beta$</td><td align="center">$r_{be}$</td><td align="center">$\infin$</td></tr><tr><td align="center">å…±åŸºæ CB</td><td align="center">$\frac{\beta R_L}{r_{be}}$</td><td align="center">$-1$</td><td align="center">$\frac{r_{be}}{1 + \beta}$</td><td align="center">$\infin$</td></tr><tr><td align="center">å…±é›†ç”µæ CC</td><td align="center">$- \frac{(1 + \beta) R_L}{r_{be} + (1 + \beta) R_L}$</td><td align="center">$- (1 + \beta)$</td><td align="center">$r_{be} + (1 + \beta)R_L$</td><td align="center">$\frac{r_{be} + R_S}{1 + \beta}$</td></tr></tbody></table><p><strong>æ¥å£ç”µè·¯</strong>ï¼šå…±é›†ç”µææ”¾å¤§ç”µè·¯</p><hr><h2 id="æ´¾ç”Ÿç”µè·¯"><a href="#æ´¾ç”Ÿç”µè·¯" class="headerlink" title="æ´¾ç”Ÿç”µè·¯"></a>æ´¾ç”Ÿç”µè·¯</h2><ul><li>å¤åˆç®¡</li></ul><p>å°åŠŸç‡ç®¡å­($\beta$ å¤§)åœ¨å‰çº§ï¼Œå¤§åŠŸç‡ç®¡å­($\beta$ å°)çš„åçº§ã€‚</p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/å¤åˆç®¡æ–¹å‘.png"><ul><li><p>å…±å°„-å…±é›†æ”¾å¤§ç”µè·¯</p></li><li><p>å…±é›†-å…±é›†æ”¾å¤§ç”µè·¯</p></li></ul><h2 id="æ™¶ä½“ç®¡æ’æµæº"><a href="#æ™¶ä½“ç®¡æ’æµæº" class="headerlink" title="æ™¶ä½“ç®¡æ’æµæº"></a>æ™¶ä½“ç®¡æ’æµæº</h2><ul><li><p><strong>1. é•œåƒæ’æµæº</strong></p></li><li><p><strong>2. éå¯¹ç§°æ’æµæº</strong></p></li></ul><hr><h2 id="2-12-å…±æºææ”¾å¤§ç”µè·¯"><a href="#2-12-å…±æºææ”¾å¤§ç”µè·¯" class="headerlink" title="2.12 å…±æºææ”¾å¤§ç”µè·¯"></a>2.12 å…±æºææ”¾å¤§ç”µè·¯</h2><details><summary><b>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</b>ï¼šå¢ç›Šã€è¾“å…¥é˜»æŠ—ã€è¾“å‡ºé˜»æŠ—</summary><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.12 å…±æºææ”¾å¤§ç”µè·¯1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.12 å…±æºææ”¾å¤§ç”µè·¯2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.12 å…±æºææ”¾å¤§ç”µè·¯3.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.12 å…±æºææ”¾å¤§ç”µè·¯4.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.12 å…±æºææ”¾å¤§ç”µè·¯5.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.12 å…±æºææ”¾å¤§ç”µè·¯6.jpg" width="800px"></details><hr><h2 id="2-13-å¤šçº§æ”¾å¤§ç”µè·¯"><a href="#2-13-å¤šçº§æ”¾å¤§ç”µè·¯" class="headerlink" title="2.13 å¤šçº§æ”¾å¤§ç”µè·¯"></a>2.13 å¤šçº§æ”¾å¤§ç”µè·¯</h2><ul><li><p>ç”µè·¯ä¸­å„çº§åŸºæœ¬æ”¾å¤§ç”µè·¯çš„è¿æ¥æ–¹å¼</p><ul><li>å¤šçº§æ”¾å¤§ç”µè·¯å¸¸é‡‡ç”¨ä¸¤ç§è€¦åˆæ–¹å¼ï¼š<ul><li>é—´æ¥è€¦åˆï¼ˆéš”ç›´æµï¼‰<ul><li>é˜»å®¹è€¦åˆâ€”â€”é€šè¿‡ç”µå®¹è¿æ¥</li><li>å˜å‹å™¨è€¦åˆâ€”â€”é€šè¿‡å˜å‹å™¨è¿æ¥</li></ul></li><li>ç›´æ¥è€¦åˆâ€”â€”ä¸é€šè¿‡ä»»ä½•å™¨ä»¶è¿æ¥</li></ul></li></ul></li><li><p>å„ä¸ªçš„ä¼˜ç¼ºç‚¹</p><ul><li>é˜»å®¹è€¦åˆ<ul><li>ä¼˜ç‚¹ï¼šå„çº§é™æ€å·¥ä½œç‚¹ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“</li><li>ç¼ºç‚¹ï¼šâ‘ ä½é¢‘ç‰¹æ€§å·®ï¼Œä¸åˆ©äºä¼ é€’ç¼“æ…¢å˜åŒ–çš„ä¿¡å·â‘¡ç”µå®¹ä½“ç§¯å¤§ï¼Œä¸æ˜“é›†æˆ</li></ul></li><li>å˜å‹å™¨è€¦åˆ<ul><li>ä¼˜ç‚¹ï¼šâ‘ å„çº§é™æ€å·¥ä½œç‚¹<strong>ç›¸äº’ç‹¬ç«‹</strong>ï¼Œäº’ä¸å½±å“â‘¡åœ¨ä¼ é€’äº¤æµä¿¡å·çš„åŒæ—¶å®ç°<strong>é˜»æŠ—å˜æ¢</strong></li><li>ç¼ºç‚¹ï¼šâ‘ ä½é¢‘ç‰¹æ€§å·®ï¼Œä¸åˆ©äºä¼ é€’ç¼“æ…¢å˜åŒ–çš„ä¿¡å·â‘¡å˜å‹å™¨ç¬¨é‡ï¼Œæ— æ³•é›†æˆ</li></ul></li><li>ç›´æ¥è€¦åˆ<ul><li>ä¼˜ç‚¹ï¼šâ‘ åˆ©ç”¨é›†æˆâ‘¡ä½é¢‘ç‰¹æ€§å¥½</li><li>ç¼ºç‚¹ï¼šâ‘ å‰åé™æ€å·¥ä½œç‚¹ç›¸äº’å½±å“â‘¡é›¶ç‚¹æ¼‚ç§»</li></ul></li></ul></li><li><p>é›¶ç‚¹æ¼‚ç§»ï¼ˆå¯ä»¥å‚è€ƒï¼š<a href="http://www.jdzj.com/diangong/article/2018-2-3/96884-1.htm">ç›´æ¥è€¦åˆå¤šçº§æ”¾å¤§ç”µè·¯çš„é›¶ç‚¹æ¼‚ç§»</a>ï¼‰</p><ul><li>å½“è¾“å…¥ä¿¡å·ç”µå‹ä¸ºé›¶æ—¶ï¼Œè¾“å‡ºç”µå‹å‘ç”Ÿç¼“æ…¢æ— è§„åˆ™å˜åŒ–çš„ç°è±¡</li><li>äº§ç”Ÿçš„åŸå› ï¼š<strong>â‘ æ¸©åº¦å˜åŒ–ï¼ˆä¸»è¦ï¼‰</strong>â‘¡ç›´æµç”µæºæ³¢åŠ¨â‘¢å…ƒä»¶è€åŒ–â€¦â€¦</li><li>è§£å†³æ–¹æ³•ï¼š<strong>å·®åˆ†æ”¾å¤§ç”µè·¯</strong></li></ul></li></ul><hr><h2 id="2-14-å¤šçº§æ”¾å¤§ç”µè·¯æ€§èƒ½æŒ‡æ ‡åˆ†æ"><a href="#2-14-å¤šçº§æ”¾å¤§ç”µè·¯æ€§èƒ½æŒ‡æ ‡åˆ†æ" class="headerlink" title="2.14 å¤šçº§æ”¾å¤§ç”µè·¯æ€§èƒ½æŒ‡æ ‡åˆ†æ"></a>2.14 å¤šçº§æ”¾å¤§ç”µè·¯æ€§èƒ½æŒ‡æ ‡åˆ†æ</h2><p>æ€»ç”µå‹å¢ç›Šç­‰äºå„çº§ç”µå‹å¢ç›Šä¹‹ç§¯</p><p>å¤šçº§æ”¾å¤§ç”µè·¯çš„<strong>è¾“å…¥é˜»æŠ—</strong> = ç¬¬ä¸€çº§ï¼ˆè¾“å…¥çº§ï¼‰çš„è¾“å…¥é˜»æŠ—<font color="grey">ï¼ˆä½†æ˜¯è¿™ä¸æ„å‘³ç€ä¸åçº§æ— å…³ï¼‰</font></p><p>å‰çº§çš„<strong>è´Ÿè½½é˜»æŠ—</strong>å¯ä»¥çœ‹ä½œåçº§çš„<strong>è¾“å…¥é˜»æŠ—</strong>ã€‚</p><p>å‰çº§çš„<strong>è¾“å‡ºé˜»æŠ—</strong>å¯ä»¥çœ‹ä½œåçº§çš„<strong>ä¿¡å·æºå†…é˜»æŠ—</strong>ã€‚</p><p>å¤šçº§æ”¾å¤§ç”µè·¯çš„<strong>è¾“å‡ºé˜»æŠ—</strong> = æœ€åä¸€çº§ï¼ˆè¾“å‡ºçº§ï¼‰çš„è¾“å‡ºé˜»æŠ—<font color="grey">ï¼ˆä½†æ˜¯è¿™ä¸æ„å‘³ç€ä¸å‰çº§æ— å…³ï¼‰</font></p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.14 å¤šçº§æ”¾å¤§ç”µè·¯æ€§èƒ½æŒ‡æ ‡åˆ†æï¼šå¤šçº§æ”¾å¤§ç”µè·¯çš„è¾“å…¥è¾“å‡ºé˜»æŠ—.jpg" width="800px"><hr><h2 id="2-15-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†"><a href="#2-15-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†" class="headerlink" title="2.15 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†"></a>2.15 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†</h2><ul><li>æ¸©åº¦æ¼‚ç§»è§£å†³æ–¹æ¡ˆ<ul><li>ç›´æµè´Ÿåé¦ˆ</li><li>æ¸©åº¦è¡¥å¿</li><li>å¯»æ‰¾ç”µè·¯å¯¹ç§°ç»“æ„â€”â€”å·®åˆ†æ”¾å¤§ç”µè·¯</li></ul></li></ul><p>å·®åˆ†æ”¾å¤§ç”µè·¯ï¼šé™æ€å·¥ä½œç‚¹ + å°ä¿¡å·çš„æ”¾å¤§ç”µè·¯</p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.15 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.15 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†2.jpg" width="800px"><p>$R_L$ ä¸¤ç«¯ç”µå‹ç›¸ç­‰ï¼Œå¯è§†ä¸ºå¼€è·¯ã€‚</p><hr><h2 id="2-16-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯çš„ä¿¡å·é€‰æ‹©æ€§"><a href="#2-16-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯çš„ä¿¡å·é€‰æ‹©æ€§" class="headerlink" title="2.16 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯çš„ä¿¡å·é€‰æ‹©æ€§"></a>2.16 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯çš„ä¿¡å·é€‰æ‹©æ€§</h2><p>å·®åˆ†æ”¾å¤§ç”µè·¯å¯¹ä¿¡å·æœ‰<strong>é€‰æ‹©æ€§</strong></p><p>${\large i_o = \frac{R_C}{2R_C + R_L}(i_{c2} - i_{c1})}\<br>{\large u_o = \frac{R_LR_C}{2R_C + R_L}(i_{c2} - i_{c1})}$</p><p>$è¾“å…¥ä¿¡å· = å…±æ¨¡ä¿¡å· \pm å·®æ¨¡ä¿¡å·$</p><p>å·®åˆ†æ”¾å¤§ç”µè·¯<strong>æŠ‘åˆ¶å…±æ¨¡ä¿¡å·ï¼Œæ”¾å¤§å·®æ¨¡ä¿¡å·</strong></p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.16 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯çš„ä¿¡å·é€‰æ‹©æ€§1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.16 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯çš„ä¿¡å·é€‰æ‹©æ€§2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.16 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯çš„ä¿¡å·é€‰æ‹©æ€§3.jpg" width="800px"><hr><h2 id="2-17-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ"><a href="#2-17-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ" class="headerlink" title="2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ"></a>2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ</h2><details><summary><b>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</b>ï¼šå¢ç›Šã€è¾“å…¥é˜»æŠ—ã€è¾“å‡ºé˜»æŠ—</summary><ul><li><p>ç”µè·¯åˆ†æ</p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ3.jpg" width="800px"></li><li><p>åŒç«¯è¾“å‡º<br>å…±æ¨¡ä¿¡å·</p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ4.jpg" width="800px">å·®æ¨¡ä¿¡å·<img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ5.jpg" width="800px">å·®æ¨¡ä¿¡å·çš„ç”µå‹å¢ç›Šã€è¾“å…¥ç”µé˜»å’Œè¾“å‡ºç”µé˜»<img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ6.jpg" width="800px"></li><li><p>å•ç«¯è¾“å‡º<br>å…±æ¨¡ä¿¡å·</p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ7.jpg" width="800px">å·®æ¨¡ä¿¡å·çš„ç”µå‹å¢ç›Šã€è¾“å…¥ç”µé˜»å’Œè¾“å‡ºç”µé˜»<img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ8.jpg" width="800px"></li><li><p>å…±æ¨¡ä¿¡å·å’Œå·®æ¨¡ä¿¡å·çš„å¾®å˜ç­‰æ•ˆç”µè·¯åŠç”µå‹å¢ç›Š</p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.17 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹å·®åˆ†æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ9.jpg" width="800px"></li></ul></details><p>å·®åˆ†æ”¾å¤§å™¨å¯ä»¥æŠ‘åˆ¶å…±æ¨¡ä¿¡å·çš„åŸå› ï¼š</p><pre><code>1. ç”µè·¯ç»“æ„å¯¹ç§°2. å…±æ¨¡æŠ‘åˆ¶ç”µé˜» $R_{EE}$</code></pre><p>å…±æ¨¡æŠ‘åˆ¶æ¯”ï¼š${\large K_{CMR} = |\frac{A_{ud}}{A_{uc}}|}$ï¼Œ<strong>å…±æ¨¡æŠ‘åˆ¶æ¯”è¶Šå¤§æ€§èƒ½è¶Šå¥½</strong>ã€‚</p><hr><h2 id="2-18-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†"><a href="#2-18-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†" class="headerlink" title="2.18 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†"></a>2.18 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†</h2><p>åŠŸæ”¾ï¼šé€šå¸¸ä½œä¸ºå¤šçº§æ”¾å¤§ç”µè·¯çš„<strong>è¾“å‡ºçº§</strong>ï¼Œä¸»è¦åŠŸèƒ½ï¼šä¸ºäº†æ¨åŠ¨è´Ÿè½½å·¥ä½œï¼Œå¦‚ï¼šä½¿æ‰¬å£°å™¨å‘å£°ï¼Œç»§ç”µå™¨åŠ¨ä½œï¼Œä»ªè¡¨æŒ‡é’ˆåè½¬ç­‰</p><ul><li><p>åŠŸæ”¾<strong>è®¾è®¡éœ€æ±‚</strong></p><ul><li>ï¼ˆ1ï¼‰åœ¨ä¸å¤±çœŸå‰æä¸‹å°½å¯èƒ½çš„è¾“å‡ºè¾ƒå¤§åŠŸç‡</li><li>ï¼ˆ2ï¼‰å…·æœ‰è¾ƒé«˜çš„æ•ˆç‡ï¼ˆå‰é¢å­¦ä¹ çš„<strong>å°ä¿¡å·æ”¾å¤§ç”µè·¯æ•ˆç‡è¾ƒä½</strong>ï¼‰</li></ul></li><li><p>å°ä¿¡å·æ”¾å¤§ç”µè·¯æ•ˆç‡è¾ƒä½çš„åŸå› <br>åœ¨æ”¾å¤§é™æ€å·¥ä½œçŠ¶æ€æ—¶ä¼š<strong>æ¶ˆè€—åŠŸç‡</strong>ï¼Œå¯¼è‡´æ•ˆç‡è¾ƒä½ï¼ˆ<strong>ç”²ç±»å·¥ä½œçŠ¶æ€</strong>ï¼‰ï¼›åœ¨æˆªæ­¢é™æ€å·¥ä½œçŠ¶æ€æ—¶ï¼Œè™½ç„¶ä¸ä¼šæ¶ˆè€—åŠŸç‡è€Œä¸”è¾“å…¥äº¤æµä¿¡å·çš„åŠ¨æ€èŒƒå›´æå‡ï¼Œä½†æ˜¯äº§ç”Ÿäº†<strong>ä¸¥é‡çš„å¤±çœŸ</strong>ï¼Œæ™¶ä½“ç®¡åªåœ¨åŠä¸ªå‘¨æœŸå†…å¤„äºå¯¼é€šçŠ¶æ€ï¼ˆ<strong>ä¹™ç±»å·¥ä½œçŠ¶æ€</strong>ï¼‰ã€‚</p></li></ul><p>ä¼ ç»ŸåŠŸæ”¾å¸¸é‡‡ç”¨å˜å‹å™¨è€¦åˆæ–¹å¼ï¼ˆæ— æ³•é›†æˆï¼Œå½±å“ä½é¢‘æ€§èƒ½ï¼‰</p><p><strong>OTL</strong>(Output Transformerlessï¼Œæ— è¾“å‡ºå˜å‹å™¨)<strong>äº’è¡¥å¯¹ç§°åŠŸæ”¾</strong></p><ul><li>æ™¶ä½“ç®¡çš„ä¸¤ç±»å·¥ä½œçŠ¶æ€</li></ul><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.18 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†1.jpg" width="800px"><ul><li>é™æ€å·¥ä½œç‚¹ç”µå‹</li></ul><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.18 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†2.jpg" width="800px"><ul><li>ä¸¤æ™¶ä½“ç®¡åœ¨ä¸€ä¸ªå‘¨æœŸå†…è½®æµäº¤æ›¿å¯¼é€šï¼Œæ¯ä¸ªæ™¶ä½“ç®¡åœ¨åŠä¸ªå‘¨æœŸå†…å·¥ä½œï¼Œå¤„äº<strong>ä¹™ç±»å·¥ä½œçŠ¶æ€</strong>ï¼Œå‡ä¸ºå…±é›†ç”µææ”¾å¤§ç”µè·¯</li></ul><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.18 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯å·¥ä½œåŸç†3.jpg" width="800px"><hr><h2 id="2-19-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OCLåŠŸç‡æ”¾å¤§ç”µè·¯"><a href="#2-19-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OCLåŠŸç‡æ”¾å¤§ç”µè·¯" class="headerlink" title="2.19 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OCLåŠŸç‡æ”¾å¤§ç”µè·¯"></a>2.19 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OCLåŠŸç‡æ”¾å¤§ç”µè·¯</h2><p><strong>OTL</strong> ç”µè·¯è™½ç„¶çœå»äº†è¾“å‡ºå˜å‹å™¨ï¼Œä½†æ˜¯è¾“å‡ºè¿˜å­˜åœ¨å¤§å®¹é‡ç”µå®¹ï¼Œè¯¥ç”µå®¹æ— æ³•<strong>é›†æˆ</strong>ï¼Œå¹¶ä¸”è¿˜å½±å“ä½é¢‘æ€§èƒ½ã€‚</p><p><font color="red">ç”µå®¹ $C_2$ åœ¨ç”µè·¯ä¸­çš„ä½œç”¨ï¼šâ‘ ä¿è¯ä¸‰æç®¡ $T_2$ å¯¼é€š â‘¡ä¸ºä¿¡å·æ”¾å¤§æä¾›èƒ½é‡</font></p><p>æ— æ³•ç›´æ¥å»æ‰ç”µå®¹ï¼Œè§£å†³åŠæ³•ï¼šæ·»åŠ ä¸€ä¸ªè´Ÿç”µæºä»£æ›¿è¯¥ç”µå®¹çš„åŠŸèƒ½â€”â€”ç”µè·¯é‡‡ç”¨æ­£è´ŸåŒç”µæºä¾›ç”µï¼Œå¾—åˆ°â€”â€”<strong>OCL</strong>(Ouput Capacitorlessï¼Œæ— è¾“å‡ºç”µå®¹)<strong>ä¹™ç±»äº’è¡¥å¯¹ç§°åŠŸæ”¾</strong></p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.19 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OCLåŠŸç‡æ”¾å¤§ç”µè·¯.jpg" width="800px"><hr><h2 id="2-20-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯çš„äº¤è¶Šå¤±çœŸ"><a href="#2-20-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯çš„äº¤è¶Šå¤±çœŸ" class="headerlink" title="2.20 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯çš„äº¤è¶Šå¤±çœŸ"></a>2.20 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯çš„äº¤è¶Šå¤±çœŸ</h2><p>ä¸‰æç®¡åŠ ä¸Šä¸€ä¸ªæ­£å‘ç”µå‹ï¼Œè¯¥ç”µå‹ä¸€å®šè¦å¤§äº<strong>å¼€å¯ç”µå‹</strong>ï¼Œä¸‰æç®¡æ‰å¼€å§‹å¯¼é€šã€‚å½“ä¿¡å·åœ¨é›¶é™„è¿‘æ—¶ï¼Œä¸¤ä¸ªä¸‰æç®¡éƒ½å¤„äºæˆªæ­¢çŠ¶æ€ï¼Œè¿™æ ·ï¼Œä¿¡å·åœ¨è¿‡é›¶ç‚¹é™„è¿‘å°±ä¼šäº§ç”Ÿå¤±çœŸâ€”â€”äº¤è¶Šå¤±çœŸã€‚</p><ul><li><strong>äº¤è¶Šå¤±çœŸ</strong></li></ul><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.20 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯çš„äº¤è¶Šå¤±çœŸ1.jpg" width="800px"><ul><li>å¯¹OCLä¹™ç±»äº’è¡¥å¯¹ç§°åŠŸæ”¾åšå‡º<strong>æ”¹è¿›</strong></li></ul><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.20 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯çš„äº¤è¶Šå¤±çœŸ2.jpg" width="800px"><p><strong>OCLç”²ä¹™ç±»äº’è¡¥å¯¹ç§°åŠŸç‡æ”¾å¤§ç”µè·¯</strong>ï¼ˆå·¥ä½œçŠ¶æ€ä»‹äºç”²ç±»å’Œä¹™ç±»ä¹‹é—´ï¼Œæ›´æ¥è¿‘äºä¹™ç±»ï¼‰</p><hr><h2 id="2-21-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ"><a href="#2-21-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ" class="headerlink" title="2.21 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ"></a>2.21 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ</h2><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.21 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.21 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ2.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.21 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ3.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.21 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ4.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.21 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹åŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ5.jpg" width="800px"><hr><h2 id="2-22-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OTLåŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ"><a href="#2-22-å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OTLåŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ" class="headerlink" title="2.22 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OTLåŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ"></a>2.22 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OTLåŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ</h2><p>OTLç”µè·¯ä¸­çš„ç”µå®¹ä½œç”¨â€”â€”åšç”µæº</p><p>å› ä¸ºOTLç”µè·¯ä¸­ $V_B = \frac{Vcc}{2}$ï¼Œæ‰€ä»¥å¯ä»¥çœ‹ä½œæ˜¯ OCLç‚¹è·¯ä¸­çš„ $Vcc$ æ¢æˆ $\frac{Vcc}{2}$ï¼Œæ•ˆæœä¸€æ ·ã€‚</p><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2.22 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OTLåŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ1.jpg" width="800px"><img src="/2022/06/29/di-2-zhang-fang-da-dan-yuan-yu-ji-ben-zu-cheng-dian-lu/2. æ”¾å¤§å•å…ƒä¸åŸºæœ¬ç»„æˆç”µè·¯/2.22 å¯¹ç§°ç»“æ„å•å…ƒæ”¾å¤§ç”µè·¯ä¹‹OTLåŠŸç‡æ”¾å¤§ç”µè·¯æŒ‡æ ‡åˆ†æ2.jpg" width="800px"><hr><hr><p>å°„æè¾“å‡ºå™¨ï¼ˆå°„æè·Ÿéšå™¨ï¼‰æ˜¯ä¸‰æç®¡<strong>å…±é›†ç”µæ</strong>ç»„æˆçš„æ”¾å¤§å™¨ã€‚å› ä¸ºè¾“å‡ºåœ¨å°„æç”µé˜» RE ä¸¤ç«¯,æ•…åå°„æè¾“å‡ºå™¨ã€‚</p><p>å…±æ …ææ”¾å¤§ç”µè·¯ç§°ä¸ºç”µæµæ¥ç»­å™¨ï¼›<br>å…±æ¼ææ”¾å¤§ç”µè·¯ç§°ä¸ºç”µå‹è·Ÿéšå™¨</p><p>æºç”µå‹å¢ç›Šï¼š${\large A_{vs} = \frac{v_o}{v_s} = \frac{v_i}{v_s} \cdot \frac{v_o}{v_i} = \frac{R_i}{R_i + R_s}A_v}$</p><p>æ—è·¯ç”µå®¹ï¼šæé«˜å¢ç›Š</p><p>é•¿å°¾ç”µé˜» -&gt; ç†æƒ³ç”µæµæºï¼šæé«˜å…±æ¨¡æŠ‘åˆ¶æ¯”ï¼ˆä½¿å¾—å•ç«¯è¾“å‡ºå…·æœ‰åŒç«¯è¾“å‡ºçš„å…±æ¨¡æŠ‘åˆ¶æ¯”ï¼‰</p><p>æ¨¡ç”µï¼šç¬¬ä¸€çº§è¾“å…¥Rå¤§ï¼Œä¸­é—´çº§æ”¾å¤§å€æ•°å¤§ï¼Œæœ€åä¸€çº§è¾“å‡ºRå°</p><p>å·®åˆ†æ”¾å¤§å™¨åŒç«¯è¾“å‡ºæŠ‘åˆ¶æ•ˆæœæœ€å¥½</p><p>å¦‚ä½•ç†è§£å¯¹ç§°ï¼šç›´æµæ—¶ï¼ŒåŒ…å«Bã€Eçš„å›è·¯å¯¹ç§°</p><p>é•¿å°¾ç”µé˜»ï¼šREE â€“ã€‹ç”µæµæº IEEï¼šæé«˜å…±æ¨¡æŠ‘åˆ¶æ¯”</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ¨¡ç”µç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¨¡ç”µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬1ç« -åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯</title>
      <link href="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/"/>
      <url>/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬1ç« -åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯"><a href="#ç¬¬1ç« -åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯" class="headerlink" title="ç¬¬1ç« -åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯"></a>ç¬¬1ç« -åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯</h1><p>[toc]</p><p>$å¤§_{å¤§} V_Dï¼šç›´æµé‡ï¼Œå¸¸æ•°ï¼ˆæ‰‹å†Œæœ‰ï¼‰$</p><p>$å°_{å°} i_dï¼šäº¤æµé‡$</p><p>$å¤§_{å°} V_{im}ï¼šäº¤æµæœ‰æ•ˆå€¼ å¹…å€¼$</p><p>$å°_{å¤§}ï¼šäº¤æµç›´æµä¹‹å’Œçš„ç¬æ—¶æ€»é‡ï¼Œï¼ˆæ—¢æœ‰ç›´æµåˆæœ‰äº¤æµï¼‰$</p><h2 id="1-1-æœ¬å¾åŠå¯¼ä½“"><a href="#1-1-æœ¬å¾åŠå¯¼ä½“" class="headerlink" title="1.1 æœ¬å¾åŠå¯¼ä½“"></a>1.1 æœ¬å¾åŠå¯¼ä½“</h2><p>åŠå¯¼ä½“ï¼šå¯¼ç”µèƒ½åŠ›ä»‹äºå¯¼ä½“å’Œç»ç¼˜ä½“ä¹‹é—´çš„ä¸€ç§ç‰©è´¨ã€‚ï¼ˆå¸¸è§åŠå¯¼ä½“ææ–™ï¼šç¡…æ™¶ä½“ã€é”—æ™¶ä½“ã€ç ·åŒ–é•“åŒ–åˆç‰©ç­‰ï¼‰</p><p>ä¸€ä¸ªç¡…åŸå­ä¼šä¸å››ä¸ªç›¸é‚»çš„ç¡…åŸå­å½¢æˆå…±ä»·é”®ç»“æ„ã€‚</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç¡…åŸå­.png"><p>æœ¬å¾åŠå¯¼ä½“ï¼šçº¯å‡€çš„ã€ä¸å«æ‚è´¨(çº¯åº¦$99.9999999%$)çš„åŠå¯¼ä½“</p><p>å…±ä»·é”®çš„æŸç¼šåŠ›å¾ˆå¼ºï¼Œå½“çƒ­åŠ›å­¦æ¸©åº¦ä¸ºé›¶åº¦ï¼Œè€Œä¸”æ²¡æœ‰å…¶ä»–å¤–ç•Œèƒ½é‡æ¿€å‘çš„æ—¶å€™ï¼Œä»·ç”µå­å…¨éƒ¨ä¼šæŸç¼šåœ¨å…±ä»·é”®ä¸­ï¼Œæ™¶æ ¼ä¸­æ²¡æœ‰è‡ªç”±ç§»åŠ¨çš„è½½æµå­ï¼Œæ‰€ä»¥æ­¤æ—¶çš„åŠå¯¼ä½“ä¸å¯¼ç”µï¼Œç›¸å½“äºç»ç¼˜ä½“ã€‚</p><p><strong>æœ¬å¾æ¿€å‘</strong>ï¼šå½“æ¸©åº¦å‡é«˜/å…‰ç…§åŠ å¼ºæ—¶ï¼Œä¼šäº§ç”Ÿè‡ªç”±ç”µå­ç©ºç©´å¯¹è¿™ç§ç°è±¡ã€‚</p><p>è‡ªç”±ç”µå­ï¼ˆçƒ­æ¿€å‘äº§ç”Ÿï¼‰å’Œç©ºç©´ï¼ˆä»·ç”µå­æŒ£è„±æŸç¼šåç•™ä¸‹çš„ç©ºä½ï¼‰æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œç§°ä¸ºè‡ªç”±ç”µå­ç©ºç©´å¯¹ã€‚</p><p>è‡ªç”±ç”µå­å¸¦è´Ÿç”µè·ï¼Œå¯è‡ªç”±ç§»åŠ¨ï¼›ç©ºç©´å¸¦ä¸ç”µå­ç­‰é‡çš„æ­£ç”µè·ï¼Œä¹Ÿå¯ç§»åŠ¨ã€‚</p><p>ç©ºç©´çš„ç§»åŠ¨åæ˜ äº†ä»·ç”µå­çš„ç§»åŠ¨ï¼Œä»·ç”µå­ç§»åŠ¨æ–¹å‘ä¸ç©ºç©´ç§»åŠ¨åå‘ç›¸åã€‚å³ï¼Œç©ºç©´èƒ½è‡ªç”±ç§»åŠ¨è€Œå‚ä¸å¯¼ç”µã€‚è¿™æ ·ï¼Œå¯ä»¥ç”¨ç©ºç©´ç§»åŠ¨äº§ç”Ÿçš„ç”µæµä»£è¡¨ä»·ç”µå­ç§»åŠ¨äº§ç”Ÿçš„ç”µæµã€‚<strong>å¯ä»¥æŠŠç©ºç©´çœ‹æˆä¸€ç§å¯ç§»åŠ¨çš„å¸¦ç”µç²’å­ã€‚</strong></p><p>è½½æµå­ï¼šå‚ä¸å¯¼ç”µçš„ç²’å­ã€‚åŠå¯¼ä½“ä¸­æœ‰ä¸¤ç§è½½æµå­ï¼šè‡ªç”±ç”µå­å’Œç©ºç©´ã€‚</p><p>å¤åˆï¼šè‡ªç”±ç”µå­å’Œç©ºç©´ç›¸é‡è€ŒåŒæ—¶æ¶ˆå¤±ã€‚å¤–éƒ¨æ¡ä»¶ä¸å˜æ—¶ï¼Œè½½æµå­çš„äº§ç”Ÿå’Œå¤åˆå¤„äºåŠ¨æ€å¹³è¡¡ä¹‹ä¸­ã€‚</p><hr><h2 id="1-2-æ‚è´¨åŠå¯¼ä½“"><a href="#1-2-æ‚è´¨åŠå¯¼ä½“" class="headerlink" title="1.2 æ‚è´¨åŠå¯¼ä½“"></a>1.2 æ‚è´¨åŠå¯¼ä½“</h2><p>åŠå¯¼ä½“ä¸­çš„çƒ­æ•æ€§ã€å…‰æ•æ€§ã€å‚æ‚æ€§</p><p>çƒ­æ•æ€§ï¼šæ¸©åº¦å‡é«˜ï¼Œå¯¼ç”µèƒ½åŠ›æ˜¾è‘—æé«˜<br>å…‰æ•æ€§ï¼šå…‰ç…§åŠ å¼ºï¼Œå¯¼ç”µèƒ½åŠ›æ˜¾è‘—å˜åŒ–<br>å‚æ‚æ€§ï¼šæœ¬å¾åŠå¯¼ä½“åŠ å…¥æ‚è´¨ï¼Œå¯¼ç”µèƒ½åŠ›æ˜¾è‘—æé«˜</p><p>æœ¬å¾åŠå¯¼ä½“ â€“åŠ æ‚è´¨å…ƒç´ â€“&gt; æ‚è´¨åŠå¯¼ä½“</p><p>æºå…¥å°‘é‡æ‚è´¨å…ƒç´ äº§ç”Ÿçš„ç©ºç©´/è‡ªç”±ç”µå­æ•°ç›®è¿œå¤§äºæœ¬å¾æ¿€å‘äº§ç”Ÿçš„è½½æµå­æ•°ç›®</p><p>æ·»åŠ çš„æ‚è´¨ä¸»è¦æ˜¯ä¸‰ä»·/äº”ä»·å…ƒç´ ï¼šç¡¼ Bã€ç£· P ç­‰</p><ul><li>På‹åŠå¯¼ä½“ï¼ˆ+3ä»·æ‚è´¨ï¼Œå¦‚ Bï¼‰</li></ul><p>ä¸‰ä»·æ‚è´¨æ¥æ”¶ç”µå­ -&gt; å—ä¸»æ‚è´¨</p><p>æ‚è´¨å…ƒç´  â€“å¸¸æ¸©ç”µç¦»â€“&gt; $\begin{cases}ç©ºç©´ï¼ˆå¯ä»¥è‡ªç”±ç§»åŠ¨ï¼Œå‚ä¸å¯¼ç”µï¼‰\\ è´Ÿç¦»å­ï¼ˆä¸èƒ½è‡ªç”±ç§»åŠ¨ï¼Œä¸å‚ä¸å¯¼ç”µï¼‰\end{cases}$</p><p>På‹åŠå¯¼ä½“ï¼ˆç©ºç©´åŠå¯¼ä½“ï¼‰$\begin{cases}å¤šå­â€”â€”ç©ºç©´ï¼ˆäº§ç”Ÿï¼šæ‚è´¨ç”µç¦»(ä¸»è¦) + æœ¬å¾æ¿€å‘ï¼‰\\ å°‘å­â€”â€”è‡ªç”±ç”µå­ï¼ˆäº§ç”Ÿï¼šæœ¬å¾æ¿€å‘ï¼‰\end{cases}$</p><p>PåŠå¯¼ä½“ç®€åŒ–æ¨¡å‹è¡¨ç¤ºï¼š</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/På‹åŠå¯¼ä½“ç®€åŒ–æ¨¡å‹.png"><ul><li>Nå‹åŠå¯¼ä½“ï¼ˆ+5ä»·æ‚è´¨ï¼Œå¦‚ Pï¼‰</li></ul><p>äº”ä»·æ‚è´¨æ¥æ”¶ç”µå­ -&gt; æ–½ä¸»æ‚è´¨</p><p>æ‚è´¨å…ƒç´  â€“å¸¸æ¸©ç”µç¦»â€“&gt; $\begin{cases}è‡ªç”±ç”µå­ï¼ˆå¯ä»¥è‡ªç”±ç§»åŠ¨ï¼Œå‚ä¸å¯¼ç”µï¼‰\\ æ­£ç¦»å­ï¼ˆä¸èƒ½è‡ªç”±ç§»åŠ¨ï¼Œä¸å‚ä¸å¯¼ç”µï¼‰\end{cases}$</p><p>Nå‹åŠå¯¼ä½“ï¼ˆç”µå­åŠå¯¼ä½“ï¼‰$\begin{cases}å¤šå­â€”â€”è‡ªç”±ç”µå­ï¼ˆäº§ç”Ÿï¼šæ‚è´¨ç”µç¦»(ä¸»è¦) + æœ¬å¾æ¿€å‘ï¼‰\\ å°‘å­â€”â€”ç©ºç©´ï¼ˆäº§ç”Ÿï¼šæœ¬å¾æ¿€å‘ï¼‰\end{cases}$</p><p>NåŠå¯¼ä½“ç®€åŒ–æ¨¡å‹è¡¨ç¤ºï¼š</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/Nå‹åŠå¯¼ä½“ç®€åŒ–æ¨¡å‹.png"><p>æ‚è´¨åŠå¯¼ä½“å‘ˆç”µä¸­æ€§$\begin{cases}å¤šå­æµ“åº¦ä¸»è¦å–å†³äºå‚æ‚æµ“åº¦\\ å°‘å­æµ“åº¦å–å†³äºæœ¬å¾æ¿€å‘\end{cases}$</p><hr><h2 id="1-3-PNç»“åŠå…¶å•å‘å¯¼ç”µæ€§"><a href="#1-3-PNç»“åŠå…¶å•å‘å¯¼ç”µæ€§" class="headerlink" title="1.3 PNç»“åŠå…¶å•å‘å¯¼ç”µæ€§"></a>1.3 PNç»“åŠå…¶å•å‘å¯¼ç”µæ€§</h2><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/PNç»“.png"><ul><li>PNç»“<strong>æ­£å</strong>ç‰¹æ€§ï¼š<strong>æ­£å‘å¯¼é€š</strong></li></ul><p>å‘ˆå°ç”µé˜»ç‰¹æ€§ï¼Œç†æƒ³æƒ…å†µä¸‹ç›¸å½“äºå¼€å…³é—­åˆï¼Œå¤„äºå¯¼é€šçŠ¶æ€ã€‚</p><p>å¤–ç”µåœºä¸å†…ç”µåœºæ–¹å‘ç›¸åï¼Œå†…å»ºç”µåœºå‡å¼± -&gt; å¤šå­æ‰©æ•£ -&gt; å¤šå­å‘PNç»“ç§»åŠ¨ï¼Œä¸­å’Œéƒ¨åˆ†ç¦»å­ -&gt; é˜»æŒ¡å±‚(è€—å°½å±‚)å˜çª„ -&gt; å¤šå­æ‰©æ•£å½¢æˆæ‰©æ•£ç”µæµ -&gt; PNç»“å¯¼é€š</p><p>ç”µå‹ $V_D$ ç•¥å¾®å‡é«˜ï¼Œç”µæµ $i_D$ æ˜¾è‘—å‡é«˜</p><p>å¯¼é€šç”µå‹ï¼š$V_{D(on)} \approx \begin{cases}0.7V &amp; (Si)\ 0.2V &amp; (Ge)\end{cases}$</p><ul><li>PNç»“<strong>åå</strong>ç‰¹æ€§ï¼š<strong>åå‘æˆªæ­¢</strong></li></ul><p>å‘ˆå¤§ç”µé˜»ç‰¹æ€§ï¼Œç†æƒ³æƒ…å†µä¸‹ç›¸å½“äºå¼€å…³æ–­å¼€ï¼Œå¤„äºæˆªæ­¢çŠ¶æ€ã€‚</p><p>å¤–ç”µåœºä¸å†…ç”µåœºæ–¹å‘ç›¸åŒï¼Œå†…å»ºç”µåœºå¢å¼º -&gt; å°‘å­æ¼‚ç§» -&gt; å¤šå­èƒŒç¦»PNç»“ç§»åŠ¨ï¼Œä¸­å’Œéƒ¨åˆ†ç¦»å­ -&gt; é˜»æŒ¡å±‚å˜å®½ -&gt; å°‘å­æ¼‚ç§»å½¢æˆæ‰©æ•£ç”µæµ -&gt; PNç»“æˆªæ­¢</p><ul><li>PNç»“å•å‘å¯¼ç”µçš„<strong>ä¼å®‰ç‰¹æ€§</strong></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/PNç»“çš„ä¼å®‰ç‰¹æ€§æ›²çº¿.png"><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/PNç»“çš„ä¼å®‰ç‰¹æ€§æ–¹ç¨‹.png"><hr><h2 id="1-4-äºŒæç®¡ç®€ä»‹"><a href="#1-4-äºŒæç®¡ç®€ä»‹" class="headerlink" title="1.4 äºŒæç®¡ç®€ä»‹"></a>1.4 äºŒæç®¡ç®€ä»‹</h2><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡çš„ç»“æ„ç¤ºæ„å›¾å’Œç”µè·¯ç¬¦å·.png"><p>å¸¸è§å°è£…å½¢å¼çš„äºŒæç®¡ï¼šæœ‰ç‰¹æ®Šè‰²ç¯/è‰²å¸¦å¯¹åº”çš„ç”µææ˜¯é˜´æ</p><ul><li>äºŒæç®¡çš„ç‰¹æ€§</li></ul><p>ä¼å®‰ç‰¹æ€§æ–¹ç¨‹ï¼š${\large i_D \approx I_S (e^{\frac{\nu_{D} }{V_{T} } } - 1)}$<br>æ­¤æ–¹ç¨‹åªæè¿°å•å‘å¯¼ç”µç‰¹æ€§ã€æ¸©åº¦ç‰¹æ€§å’Œç”µå®¹ç‰¹æ€§ã€‚</p><p>å¼€å¯ç”µå‹/é—¨åç”µå‹(äºŒæç®¡$\approx$0.5Vï¼ŒSi 0.7Vï¼ŒGe 0.2V)ï¼šåªæœ‰æ­£åç”µå‹è¶…è¿‡ä¸€å®šç”µæµå€¼æ—¶ï¼Œç”µæµæ‰æ˜æ˜¾å¢åŠ ã€‚</p><ul><li>ç¡…äºŒæç®¡çš„ä¼å®‰ç‰¹æ€§æ›²çº¿ï¼š<strong>æ­£å‘ç‰¹æ€§ã€åå‘ç‰¹æ€§ã€åå‘å‡»ç©¿ç‰¹æ€§</strong></li></ul><p>äºŒæç®¡çš„æ­£å‘å‹é™è¿‘ä¼¼ç­‰äºå¯¼é€šç”µå‹ï¼Œåå‘ç”µæµè¿‘ä¼¼ä¸ºåå‘é¥±å’Œç”µæµ</p><hr><h2 id="1-5-äºŒæç®¡ç®€åŒ–æ¨¡å‹"><a href="#1-5-äºŒæç®¡ç®€åŒ–æ¨¡å‹" class="headerlink" title="1.5 äºŒæç®¡ç®€åŒ–æ¨¡å‹"></a>1.5 äºŒæç®¡ç®€åŒ–æ¨¡å‹</h2><p>å·¥ç¨‹ä¸Šï¼Œä½¿ç”¨äºŒæç®¡çš„ç®€åŒ–æ¨¡å‹ä»£æ›¿å…¶æŒ‡æ•°æ¨¡å‹â€”â€”ä½¿ç”¨åˆ†æ®µçº¿æ€§</p><ul><li><p>äºŒæç®¡çš„å‡ ç§<strong>ç®€åŒ–æ¨¡å‹</strong></p><ul><li>ç›´æŠ˜çº¿æ¨¡å‹</li><li>æ’å‹é™æ¨¡å‹</li><li>ç†æƒ³æ¨¡å‹</li><li>å°ä¿¡å·æ¨¡å‹ï¼ˆå‰ä¸‰ç§éƒ½æ˜¯æ‰“ä¿¡å·æ¨¡å‹ï¼‰</li></ul></li><li><p>å¤§ä¿¡å·æ¨¡å‹å»ºæ¨¡æ€è·¯ï¼šä½¿ç”¨<font color="orange">åˆ†æ®µçº¿æ€§</font>æ–¹æ³•ï¼ŒæŠŠäºŒæç®¡<font color="orange">éçº¿æ€§å…³ç³»</font>è¿‘ä¼¼è¡¨ç¤ºä¸ºå‡ æ®µ<font color="orange">çº¿æ€§å…³ç³»</font>ã€‚</p><ul><li>å¤§ç”µå‹å¤§ç”µæµå·¥ä½œçš„ç­‰æ•ˆæ¨¡å‹</li><li>åªåæ˜ äºŒæç®¡çš„<font color="orange">å•å‘å¯¼é€šå‹</font></li><li>å…³é”®åˆ¤æ–­äºŒæç®¡æ˜¯å¯¼é€šè¿˜æ˜¯æˆªæ­¢</li></ul></li><li><p>å°ä¿¡å·æ¨¡å‹</p><ul><li>é«˜é¢‘å·¥ä½œæ—¶ï¼Œè¿˜éœ€è€ƒè™‘äºŒæç®¡çš„ç»“ç”µå®¹ç‰¹æ€§</li></ul></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡çš„å¤§ä¿¡å·æ¨¡å‹.png"><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡çš„å°ä¿¡å·æ¨¡å‹.png"><p>å·¥ç¨‹ä¸Šï¼Œä½¿ç”¨<strong>ç®€åŒ–æ¨¡å‹</strong>åˆ†æã€è®¾è®¡äºŒæç®¡ç”µè·¯ï¼Œä½†æ˜¯æœ€ç»ˆå·¥ç¨‹å®ç°å’Œç”µè·¯ä¼˜åŒ–æ—¶ï¼Œä½¿ç”¨<strong>å¤æ‚æ¨¡å‹</strong>è¿›è¡Œç²¾åº¦è¯¯å·®åˆ†æã€‚</p><blockquote><p>æ ¹æ®äºŒæç®¡çš„ä¼å®‰ç‰¹æ€§æ›²çº¿å’Œæ–¹ç¨‹ï¼šäºŒæç®¡çš„åŠ¨æ€ç”µé˜» $r_d$ éšç€åŠ åœ¨å…¶ä¸¤ç«¯çš„ç”µå‹å¢å¤§è€Œå¢å¤§ã€‚</p></blockquote><hr><h2 id="1-6-äºŒæç®¡åº”ç”¨ç”µè·¯ä¹‹æ•´æµç”µè·¯"><a href="#1-6-äºŒæç®¡åº”ç”¨ç”µè·¯ä¹‹æ•´æµç”µè·¯" class="headerlink" title="1.6 äºŒæç®¡åº”ç”¨ç”µè·¯ä¹‹æ•´æµç”µè·¯"></a>1.6 äºŒæç®¡åº”ç”¨ç”µè·¯ä¹‹æ•´æµç”µè·¯</h2><p>è‹¥ç”µè·¯ä¸­æœ‰å¤šä¸ªäºŒæç®¡ï¼Œæ­£åç”µå‹æœ€å¤§çš„äºŒæç®¡ä¼˜å…ˆå¯¼é€š</p><ul><li>åˆ¤æ–­äºŒæç®¡å¯¼é€š/æˆªæ­¢</li></ul><p>ç†æƒ³äºŒæç®¡ï¼š$V_D &gt; 0$ å¯¼é€šï¼Œåä¹‹æˆªæ­¢<br>å®é™…äºŒæç®¡ï¼š$V_D &gt; V_{D(on)}$ å¯¼é€šï¼Œåä¹‹æˆªæ­¢</p><p>å½“ç”µè·¯ä¸­æœ‰å¤šä¸ªäºŒæç®¡æ—¶ï¼Œ<strong>æ­£åç”µå‹æœ€å¤§</strong>çš„ç®¡å­ä¼˜å…ˆå¯¼é€šï¼Œå…¶ä½™ç®¡å­éœ€è¦<strong>é‡æ–°åˆ†æå…¶å·¥ä½œçŠ¶æ€</strong>ã€‚</p><ul><li><strong>åŠæ³¢æ•´æµç”µè·¯</strong></li></ul><p>ä½¿ç”¨äºŒæç®¡çš„ç†æƒ³æ¨¡å‹åˆ†æç”µè·¯</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/åŠæ³¢æ•´æµç”µè·¯.png"><ul><li><strong>æ¡¥å¼æ•´æµç”µè·¯</strong></li></ul><p>ä½¿ç”¨äºŒæç®¡çš„ç†æƒ³æ¨¡å‹åˆ†æç”µè·¯</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/æ¡¥å¼æ•´æµç”µè·¯0.png"><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/æ¡¥å¼æ•´æµç”µè·¯.png"><hr><h2 id="1-7-äºŒæç®¡åº”ç”¨ä¹‹é™å¹…ç”µè·¯åŠå¼€å…³ç”µè·¯"><a href="#1-7-äºŒæç®¡åº”ç”¨ä¹‹é™å¹…ç”µè·¯åŠå¼€å…³ç”µè·¯" class="headerlink" title="1.7 äºŒæç®¡åº”ç”¨ä¹‹é™å¹…ç”µè·¯åŠå¼€å…³ç”µè·¯"></a>1.7 äºŒæç®¡åº”ç”¨ä¹‹é™å¹…ç”µè·¯åŠå¼€å…³ç”µè·¯</h2><ul><li><strong>é™å¹…ç”µè·¯</strong></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡é™å¹…ç”µè·¯ç†æƒ³æ¨¡å‹.png"><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡é™å¹…ç”µè·¯.png"><ul><li><strong>å¼€å…³ç”µè·¯</strong></li></ul><p>è®¾ï¼šäºŒæç®¡çš„å¯¼é€šç”µå‹ä¸º$V_{D(on)}=0.7V$</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡å¼€å…³ç”µè·¯.png"><hr><h2 id="1-8-äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨"><a href="#1-8-äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨" class="headerlink" title="1.8 äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨"></a>1.8 äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨</h2><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨.png"><ul><li><strong>ç­‰æ•ˆç”µè·¯æ³•</strong></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨â€”â€”ç­‰æ•ˆç”µé˜»æ³•0.png"><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨â€”â€”ç­‰æ•ˆç”µé˜»æ³•1.png"><ul><li><strong>å›¾è§£åˆ†ææ³•</strong></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/äºŒæç®¡çš„å°ä¿¡å·åº”ç”¨â€”â€”å›¾è§£åˆ†ææ³•.png"><hr><h2 id="1-9-ç¨³å‹äºŒæç®¡"><a href="#1-9-ç¨³å‹äºŒæç®¡" class="headerlink" title="1.9 ç¨³å‹äºŒæç®¡"></a>1.9 ç¨³å‹äºŒæç®¡</h2><p>ç¨³å‹äºŒæç®¡ç”±ç‰¹æ®Šå·¥è‰ºåˆ¶ä½œçš„äºŒæç®¡ï¼Œå¯ä»¥åœ¨åå‘å‡»ç©¿çŠ¶æ€ä¸‹å·¥ä½œã€‚ï¼ˆç¨³å‹ç®¡æ­£å¸¸å·¥ä½œéƒ½å¤„äºåå‘å‡»ç©¿çŠ¶æ€ï¼‰</p><p><strong>å‡»ç©¿ç”µå‹</strong> $V_{BR}$ï¼šåå‘å‡»ç©¿æ‰€éœ€è¦çš„ç”µå‹ç§°ä¸ºå‡»ç©¿ç”µå‹ï¼ˆå‡»ç©¿åŸå› ï¼šç ´ååŸå­ä¸­å…±ä»·é”®çš„æŸç¼šï¼Œä½¿è‡ªç”±ç”µå­ç©ºç©´å¯¹æ•°ç›®æ€¥å‰§å¢åŠ é€ æˆï¼‰</p><p>${å‡»ç©¿} = \begin{cases}çƒ­å‡»ç©¿_{ï¼ˆä¸å¯é€†ï¼Œå¿…é¡»é¿å…ï¼‰}ï¼šPN ç»“çƒ§æ¯{i_D \cdot v_D &gt; P_M}\\  ç”µå‡»ç©¿_{ï¼ˆå¯é€†ï¼Œå¯ä»¥åˆ©ç”¨ï¼‰}ï¼šPN ç»“æœªç ´å_{ï¼ˆæ–­ç‚¹/é™å‹æ¢å¤ï¼‰}{i_D \cdot v_D &lt; P_M}\end{cases}$ï¼Œ$P_M$ ä¸º $PN$ ç»“è€—æ•£åŠŸç‡</p><p>è‹¥åå‘ç”µæµå°äº $I_{Zmin}$ï¼Œç¨³å‹ç®¡å°±ä¼šå›åˆ°<strong>æˆªæ­¢çŠ¶æ€</strong>ï¼Œå³æ— æ³•ç¨³å‹ï¼›<br>è‹¥åå‘ç”µæµå¤§äº $I_{Zmax}$ï¼Œç¨³å‹ç®¡å¯èƒ½è¢«<strong>çƒ­å‡»ç©¿</strong>ã€‚</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç¨³å‹ç®¡çš„ä¸»è¦å‚æ•°.jpg"><p>ç¨³å‹ç®¡æ­£å¸¸å·¥ä½œæ—¶ï¼Œå¤„äºåå‘å‡»ç©¿çŠ¶æ€ï¼Œæ‰€ä»¥ï¼Œç”µè·¯ä¸­ç”µå‹ç”µæµçš„å‚è€ƒæ–¹å‘ä¸æ™®é€šäºŒæç®¡ç›¸åï¼Œå³åå‘å‡»ç©¿ç”µå‹å’Œåå‘ç”µæµéƒ½æ ‡æ³¨ä¸ºæ­£å€¼ã€‚</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç¨³å‹ç”µè·¯.jpg"><hr><h2 id="1-10-åŒæç»“å‹ä¸‰æç®¡ç»“æ„"><a href="#1-10-åŒæç»“å‹ä¸‰æç®¡ç»“æ„" class="headerlink" title="1.10 åŒæç»“å‹ä¸‰æç®¡ç»“æ„"></a>1.10 åŒæç»“å‹ä¸‰æç®¡ç»“æ„</h2><p>$BJT$</p><p>ç®­å¤´æ ‡æ³¨åœ¨å‘å°„æä¸Šï¼Œè¡¨ç¤ºå‘å°„ç»“æ­£åæ—¶<font color="red" size="5">ç”µæµçš„å®é™…æ–¹å‘ï¼Œç”± $P \to N$</font></p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡ç§ç±».jpg"><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡ç»“æ„åŠç”µè·¯ç¬¦å·.jpg"><p><font color="red">åŸºåŒºè–„</font>ï¼Œå‡å°‘åŸºåŒºå¤åˆæ¦‚ç‡ï¼Œä¿è¯å‘å°„åŒºè½½æµå­èƒ½æ‰©æ•£åˆ°é›†ç”µç»“è¾¹ç•Œã€‚</p><hr><h2 id="1-11-åŒæç»“å‹ä¸‰æç®¡å¯¼ç”µåŸç†"><a href="#1-11-åŒæç»“å‹ä¸‰æç®¡å¯¼ç”µåŸç†" class="headerlink" title="1.11 åŒæç»“å‹ä¸‰æç®¡å¯¼ç”µåŸç†"></a>1.11 åŒæç»“å‹ä¸‰æç®¡å¯¼ç”µåŸç†</h2><ul><li><p>ä¸‰æç®¡å·¥ä½œçŠ¶æ€ &amp; å¤–éƒ¨æ¡ä»¶ï¼š</p><ul><li>æ”¾å¤§æ¨¡å¼ï¼šå‘å°„ç»“<font color="red">æ­£</font>åï¼Œé›†ç”µç»“<font color="red">å</font>å</li><li>é¥±å’Œæ¨¡å¼ï¼šå‘å°„ç»“æ­£åï¼Œé›†ç”µç»“æ­£å</li><li>æˆªæ­¢æ¨¡å¼ï¼šå‘å°„ç»“ååï¼Œé›†ç”µç»“åå<br></li></ul></li><li><p>æ”¾å¤§æ¨¡å¼ï¼ˆæ”¾å¤§ç”µæµï¼‰</p><br>- ${\large \alpha = \frac{æ”¶é›†ç”µæµ}{å‘å°„ç”µæµ} = \frac{i_{Cn} }{i_{En} } }$  <br>- ${\large \beta = \frac{æ”¶é›†ç”µæµ}{å¤åˆç”µæµ} = \frac{i_{Cn} }{i_{En} - i_{Cn} } = \frac{i_{Cn} }{i_{Bn} } }$  <br>- ${I_C \approx \beta I_B} \approx \alpha I_E ,~ I_E \approx (1 + \beta)I_B$  <br></li><li><p>ä¸‰æç®¡çš„æ­£å‘å—æ§ä½œç”¨</p></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡çš„æ­£å‘å—æ§ä½œç”¨.jpg"><p>NPNï¼Œå‘å°„æç”µå‹æœ€ä½</p><p>PNPï¼Œå‘å°„æç”µå‹æœ€é«˜</p><ul><li>ä¸¾ä¸ªä¾‹å­ï¼š( From <a href="https://blog.csdn.net/qq_40924641/article/details/110233536">ä¸‰æç®¡ç±»å‹åŠå·¥ä½œçŠ¶æ€åˆ¤æ–­</a> )</li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/CSDN-ä¸‰æç®¡ç±»å‹åŠå·¥ä½œçŠ¶æ€åˆ¤æ–­.png"><ul><li>$(a) ~ \because V_{BE} = 0.7V, V_C = 5V ,~ \therefore V_E = 0V, V_B = 0.7V ,~ NPNç¡…ç®¡$</li><li>$(b) ~ \because V_{BE} = 0.3V, V_C = -10V ,~ \therefore V_E = -5V, V_B = -5.3V ,~ PNPé”—ç®¡$</li></ul><hr><h2 id="1-12-ä¸‰æç®¡ä¼å®‰ç‰¹æ€§æ›²çº¿"><a href="#1-12-ä¸‰æç®¡ä¼å®‰ç‰¹æ€§æ›²çº¿" class="headerlink" title="1.12 ä¸‰æç®¡ä¼å®‰ç‰¹æ€§æ›²çº¿"></a>1.12 ä¸‰æç®¡ä¼å®‰ç‰¹æ€§æ›²çº¿</h2><p><font color="red" size="6" face="æ¥·ä½“">é›†ç”µæä¸èƒ½åšè¾“å…¥ï¼›åŸºæä¸èƒ½åšè¾“å‡ºã€‚</font></p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡ç”µè·¯çš„ä¸‰ç§ç»„æ€.png"><ul><li><font size="4">å…±å‘å°„æ</font></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/å…±å‘å°„æ.jpg"><p>è¾“å…¥ç‰¹æ€§ï¼š<font size="5">$i_B = f(v_{BE})|_{v_{CE} = _{å¸¸æ•°} }$</font></p><p>è¾“å‡ºç‰¹æ€§ï¼š<font size="5">$i_C = f(v_{CE})|_{i_B = _{å¸¸æ•°} }$</font></p><ul><li><font size="4">ä¸‰æç®¡çš„è¾“å…¥ç‰¹æ€§æ›²çº¿</font></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡çš„è¾“å…¥ç‰¹æ€§æ›²çº¿.jpg"><p>$V_{CE} &lt; 1V$ è¯´æ˜å·¥ä½œåœ¨é¥±å’ŒåŒº</p><p>$V_{CE} \ge 1V$ è¯´æ˜å·¥ä½œåœ¨æ”¾å¤§åŒºï¼Œ$V_{BE}$ ä¸º<strong>å‘å°„ç»“å¯¼é€šç”µå‹</strong></p><p>åŸºåŒºå®½åº¦è°ƒåˆ¶æ•ˆåº”ï¼šNPNï¼š</p><p>$V_{CE} = V_{CB} + V_{BE}$ï¼Œ$V_{BE}$ å‡ ä¹ä¸å˜ï¼Œ$V_{CE}$ å¢å¤§ï¼Œ$V_{CB}$å¢å¤§ï¼Œ</p><p>CE ç»“ç”µå‹å˜å¤§ï¼ˆä»å‘å°„æåˆ°é›†ç”µæçš„å¼•åŠ›è¶Šå¤§ï¼Œé€Ÿç‡è¶Šå¿«ï¼‰ï¼Œ</p><p>BC ç»“å˜å®½ï¼ŒåŸºåŒºå˜çª„ï¼ˆå¤šå­/è‡ªç”±ç”µå­å¾ˆå¿«åˆ°é›†ç”µæï¼Œå‘å°„æçš„ç”µå­å‘å°„èƒ½åŠ›ä¸è¡Œï¼Œç”µå­ä¾›ç»™ä¸å¤Ÿï¼Œå¯¼è‡´åŸºæç”µå­å°‘äº†ï¼Œç”µæµå°ï¼‰ã€‚</p><p>$V_{CE}$ è¶Šå¤§ï¼Œ$V_{BE}$ ä¹Ÿè¦è·Ÿç€å˜å¤§ï¼Œç”µæµæ‰èƒ½ä¸€è‡´ï¼Œæˆ–è€…åœ¨ $i_E$ å¤„å¢åŠ ä¸€ä¸ªç”µæµæºï¼Œä½¿å…¶ç”µæµæ’å®šã€‚</p><p><font color="red" size="4">æ”¾å¤§çš„æœ¬è´¨ï¼šè‡ªç”±ç”µå­ä»å‘å°„æåˆ°é›†ç”µæã€‚$V_{BE} $ä¸å˜ï¼Œå‘å°„æå‘å°„çš„ç”µå­ä¸å˜ï¼Œ$i_E$ ä¸å˜ï¼Œ$V_{CE}$å¢å¤§ï¼Œ$i_C$å¢å¤§ï¼Œ$i_B$è‡ªç„¶å°±å‡å°äº†ï¼Œ$i_{E} = i_{C} + i_{B}$</font></p><ul><li><font size="4">ä¸‰æç®¡çš„è¾“å‡ºç‰¹æ€§æ›²çº¿</font></li></ul><p>è¾“å‡ºç‰¹æ€§æ›²çº¿ï¼šé¥±å’ŒåŒºã€æ”¾å¤§åŒºã€æˆªæ­¢åŒºã€å‡»ç©¿åŒº</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡çš„è¾“å‡ºç‰¹æ€§æ›²çº¿.jpg"><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡å®‰å…¨å·¥ä½œåŒº.jpg"><ul><li><font size="4"><strong>ä¸‰æç®¡æ¨¡å‹</strong></font></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/å…±å‘å°„æ.png"><ul><li><font size="4">ä¸‰æç®¡çš„çº¿æ€§ç­‰æ•ˆï¼šç›´æŠ˜çº¿</font></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡è¾“å‡ºè¾“å‡ºç­‰æ•ˆç›´æŠ˜çº¿.png"><ul><li><font size="4">é¥±å’ŒåŒºç›´æµç”µè·¯ç®€åŒ–æ¨¡å‹</font></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç›´æµç”µè·¯ç®€åŒ–æ¨¡å‹-é¥±å’ŒåŒº.png"><p><font size="4">é€šå¸¸ï¼Œé¥±å’Œå‹é™ $V_{CE(set)} \approx \begin{cases}0.3V &amp; Si\ 0.1V &amp; Ge\end{cases}$</font></p><ul><li><font size="4">æ”¾å¤§åŒºç›´æµç”µè·¯ç®€åŒ–æ¨¡å‹</font></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç›´æµç”µè·¯ç®€åŒ–æ¨¡å‹-æ”¾å¤§åŒº.png"><p><font size="4">å‘å°„ç»“å¯¼é€šç”µå‹ $V_{BE(on)} = \begin{cases}0.7V &amp; Si\ 0.2-0.3V &amp; Ge\end{cases}$</font></p><ul><li><font size="4">æˆªæ­¢åŒºç›´æµç”µè·¯ç®€åŒ–æ¨¡å‹</font></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç›´æµç”µè·¯ç®€åŒ–æ¨¡å‹-æˆªæ­¢åŒº.png"><ul><li><font size="4"><strong>ä¾‹ã€é™æ€å·¥ä½œç‚¹çš„è¿‘ä¼¼è®¡ç®—ï¼ˆç›´æŠ˜çº¿æ¨¡å‹ï¼‰</strong></font></li></ul><pre class="language-mermaid" data-language="mermaid"><code class="language-mermaid"><span class="token keyword">graph</span> TD    <span class="token keyword">subgraph</span> <span class="token string">"ç›´æµåˆ†æ"</span>        step-s1<span class="token text string">[æˆªæ­¢åŒº]</span>        step-s2<span class="token text string">[æ”¾å¤§åŒº]</span>        step-s3<span class="token text string">[é¥±å’ŒåŒº]</span>        step-1<span class="token text string">[ç”»ç›´æµé€šè·¯]</span>        step-2<span class="token text string">[çœ‹å‘å°„ç»“æ˜¯å¦å¯¼é€š]</span>        step-3<span class="token text string">[å‡è®¾åœ¨æ”¾å¤§åŒº]</span>        step-4<span class="token text string">[å¦åˆ™åœ¨é¥±å’ŒåŒº]</span>        step-1 <span class="token arrow operator">--&gt;</span> step-2        step-2 <span class="token arrow operator">--&gt;</span><span class="token label property">|no|</span> step-s1        step-2 <span class="token arrow operator">--&gt;</span><span class="token label property">|yes|</span> step-3        step-3 <span class="token arrow operator">--&gt;</span><span class="token label property">|yes|</span> step-s2        step-3 <span class="token arrow operator">--&gt;</span><span class="token label property">|no|</span> step-4        step-4 <span class="token arrow operator">--&gt;</span> step-s3    <span class="token keyword">end</span></code></pre><ul><li><p>æ”¾å¤§åŒº</p><ul><li>$\begin{cases}V_{BE} \approx V_{BE(on)}\ I_C = \beta I_B\end{cases} \Rightarrow I_Bã€I_Cã€V_{CE}$</li><li>$NPNï¼šV_{CE} &gt; V_{CES}$ï¼Œ$PNPï¼šV_{EC} &gt; V_{ECS}$</li></ul></li><li><p>é¥±å’ŒåŒº</p><ul><li>$\begin{cases}V_{BE} \approx V_{BE(on)}\ V_{CE} \approx V_{CES}\end{cases}$<br></li></ul></li><li><p><font size="4"><strong>ä¸‰æç®¡äº¤æµæ”¾å¤§åŒºå°ä¿¡å·æ¨¡å‹</strong></font></p></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡æ”¾å¤§åŒºå°ä¿¡å·æ¨¡å‹.png"><p>$<br>{\large r_{be} = r_{bbâ€™} + r_{bâ€™e} }\<br>{\large\quad~ \approx r_{bbâ€™} + \frac{26(mV)}{I_{BQ} } }\<br>{\large\quad~ \approx r_{bbâ€™} + (1 + \beta)\frac{26(mV)}{I_{EQ} } }\<br>{\large\quad~ \approx r_{bbâ€™} + \beta\frac{26(mV)}{I_{CQ} } }\<br>$</p><p><font color="red">æ³¨æ„</font>ï¼šå°ä¿¡å·ç”µè·¯æ¨¡å‹åªèƒ½ç”¨æ¥åˆ†æå åŠ åœ¨  $Q$ ç‚¹ä¸Šå„<strong>äº¤æµ</strong>é‡ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œä¸èƒ½åˆ†æç›´æµå‚é‡ã€‚</p><hr><h2 id="1-13-åœºæ•ˆåº”ç®¡çš„ç»“æ„åŠç”µè·¯ç¬¦å·"><a href="#1-13-åœºæ•ˆåº”ç®¡çš„ç»“æ„åŠç”µè·¯ç¬¦å·" class="headerlink" title="1.13 åœºæ•ˆåº”ç®¡çš„ç»“æ„åŠç”µè·¯ç¬¦å·"></a>1.13 åœºæ•ˆåº”ç®¡çš„ç»“æ„åŠç”µè·¯ç¬¦å·</h2><p>PN ç»“å¤„å¤„<strong>åå</strong>ï¼Œåœºæ•ˆåº”ç®¡å·¥ä½œ</p><p>å¤šå­ $S \to D$</p><p>$i_D \approx K(v_{GS} - v_{GS(off)})^2$</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/åœºæ•ˆåº”ç®¡çš„ç§ç±».jpg"><p><font color="red">è½¬ç§»ç‰¹æ€§æ›²çº¿</font>ï¼š$i_D = I_{DO}(\frac{u_{GS} }{VGS(th)} - 1)^2$</p><ul><li><p>æ²Ÿé“ï¼šè½½æµå­æµé€šçš„æ¸ é“ã€è·¯å¾„</p><ul><li>N æ²Ÿé“ï¼šä»¥ N å‹åŒºä½œä¸ºè·¯å¾„</li><li>P æ²Ÿé“ï¼šä»¥ P å‹åŒºä½œä¸ºè·¯å¾„</li></ul></li><li><p>ç»“å‹åœºæ•ˆåº”ç®¡çš„ç»“æ„ç¤ºæ„å›¾åŠç”µè·¯ç¬¦å·</p></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç»“å‹åœºæ•ˆåº”ç®¡çš„ç»“æ„ç¤ºæ„å›¾åŠç”µè·¯ç¬¦å·.jpg"><ul><li>ç»ç¼˜æ …åœºæ•ˆåº”ç®¡çš„ç»“æ„ç¤ºæ„å›¾åŠç”µè·¯ç¬¦å·</li></ul><p>ç»ç¼˜æ …åœºæ•ˆåº”ç®¡ï¼šä¹Ÿç§°ä¸º é‡‘å±-æ°§åŒ–ç‰©-åŠå¯¼ä½“å‹åœºæ•ˆåº”ç®¡ï¼Œç®€ç§°ä¸º MOSç®¡</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ç»ç¼˜æ …åœºæ•ˆåº”ç®¡çš„ç»“æ„ç¤ºæ„å›¾åŠç”µè·¯ç¬¦å·.jpg"><p>å¯¹ N æ²Ÿé“å¢å¼ºå‹ï¼š</p><p>S æºæå’Œ D æ¼æä¹‹é—´è¦å¯¼ç”µï¼Œéœ€è¦é€šè¿‡æ …æç»ç¼˜å±‚ä¸‹æ–¹ç§°ä¸ºæ²Ÿé“çš„åŒºåŸŸã€‚</p><p>ä¸€èˆ¬ S æºæå’Œ D æ¼æå‡ä¼šå’Œ P å‹è¡¬åº•ä¹‹é—´å½¢æˆ PN ç»“ï¼Œå¯¼è‡´ S æºæå’Œ D æ¼ææ— æ³•å¯¼é€šã€‚</p><p>è¦å½¢æˆå¯¼ç”µé€šé“ï¼Œå¿…é¡»åœ¨æ …æåŠ ä¸€å®šçš„ç”µå‹ï¼Œè®©æ²Ÿé“åŒºåŸŸç”± P å‹è¡¬åº•å˜æˆ N å‹åŒº</p><ul><li>å¦å¤–</li></ul><p>å‡ ä¸ªåŒºï¼šå¯å˜ç”µé˜»åŒºã€æ¨ªæµåŒºã€å¤¹æ–­åŒºã€å‡»ç©¿åŒº<br>ä¹Ÿå«åšï¼šéé¥±å’ŒåŒºã€é¥±å’ŒåŒºã€æˆªæ­¢åŒºã€å‡»ç©¿åŒº</p><p>æ§åˆ¶ G æ …æçš„ç”µå‹ï¼Œå¯ä»¥æ§åˆ¶ S æºæå’Œ D æ¼æçš„ç”µæµï¼Œå³æ§åˆ¶ S æºæå’Œ D æ¼æçš„ç”µé˜»ï¼Œæ‰€ä»¥å°±å¾—åˆ°ä¸€ä¸ª<font color="red">ç”µå‹æ§åˆ¶çš„å¯å˜ç”µé˜»å™¨</font></p><ul><li>å¯¹äºå¢å¼ºå‹ï¼š</li></ul><p>$V_{GS(th)}$ å¼€å¯ç”µå‹ï¼ˆth: threshold é˜ˆå€¼ï¼‰</p><p>é¢„å¤¹æ–­ä¹‹åè¿›å…¥æ’æµåŒºï¼Œ$V_{GS}$ å¯ä»¥æ§åˆ¶ $i_D$</p><ul><li>å¯¹äºè€—å°½å‹ï¼š</li></ul><p>$V_{GS(off)}$ å…³æ–­ç”µå‹</p><hr><h2 id="1-14-åœºæ•ˆåº”ç®¡çš„å·¥ä½œåŸç†åŠç‰¹æ€§æ›²çº¿"><a href="#1-14-åœºæ•ˆåº”ç®¡çš„å·¥ä½œåŸç†åŠç‰¹æ€§æ›²çº¿" class="headerlink" title="1.14 åœºæ•ˆåº”ç®¡çš„å·¥ä½œåŸç†åŠç‰¹æ€§æ›²çº¿"></a>1.14 åœºæ•ˆåº”ç®¡çš„å·¥ä½œåŸç†åŠç‰¹æ€§æ›²çº¿</h2><p><font color="red" size="6" face="æ¥·ä½“">æ¼æä¸èƒ½åšè¾“å…¥ï¼›æ …æä¸èƒ½åšè¾“å‡ºã€‚</font></p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/åœºæ•ˆåº”ç®¡çš„å·¥ä½œåŸç†å’Œç‰¹æ€§æ›²çº¿.jpg"><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯é€šè¿‡æ§åˆ¶ç”µå‹ $v_{GS}$ å’Œ $v_{DS}$ æ§åˆ¶ç”µæµ $v_{D}$ï¼Œå³<strong>å—ç”µå‹æ§åˆ¶çš„ç”µæµæº</strong>ã€‚</p><ul><li><strong>è½¬ç§»ç‰¹æ€§æ›²çº¿</strong></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/åœºæ•ˆåº”ç®¡çš„è½¬ç§»ç‰¹æ€§æ›²çº¿.jpg"><p>å·¥ä½œåœ¨é¥±å’ŒåŒºçš„<strong>æ¡ä»¶</strong>ï¼š</p><table><thead><tr><th align="center">åœºæ•ˆåº”ç®¡ç±»å‹</th><th align="center">æ¡ä»¶</th></tr></thead><tbody><tr><td align="center">N æ²Ÿé“ç»“å‹</td><td align="center">${\large \begin{cases}v_{DS} &gt; v_{GS} - v_{GS(off)}\\ v_{GS(off)} &gt; v_{GS} &gt; 0\end{cases} }$</td></tr><tr><td align="center">N æ²Ÿé“è€—å°½å‹</td><td align="center">${\large \begin{cases}v_{DS} &gt; v_{GS} - v_{GS(off)}\\ v_{GSs} &gt; v_{GS(off)}\end{cases} }$</td></tr><tr><td align="center">N æ²Ÿé“å¢å¼ºå‹</td><td align="center">${\large \begin{cases}v_{DS} &gt; v_{GS} - v_{GS(th)}\\ v_{GS} &gt; v_{GS(th)}\end{cases} }$</td></tr></tbody></table><p>è½¬ç§»ç‰¹æ€§<strong>å…³ç³»</strong>ï¼š</p><p>${\large i_D \approx K(v_{GS} - v_{GS(X)})^2 } ,~ X = th ~ or ~ off$</p><ul><li><strong>è¾“å‡ºç‰¹æ€§æ›²çº¿</strong></li></ul><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/åœºæ•ˆåº”ç®¡çš„è¾“å‡ºç‰¹æ€§æ›²çº¿.jpg"><p>å·¥ä½œçŠ¶æ€åŠå…¶æ¡ä»¶å’Œç‰¹ç‚¹ï¼š</p><table><thead><tr><th align="center">å·¥ä½œçŠ¶æ€</th><th align="center">æ¡ä»¶</th><th align="center">ç‰¹ç‚¹</th></tr></thead><tbody><tr><td align="center">éé¥±å’ŒåŒº<br>(å¯å˜ç”µé˜»åŒº)</td><td align="center">${\large v_{GS} &gt; v_{GS(th)},~ v_{DS} &lt; v_{GS} - v_{GS(th)} }$</td><td align="center">$i_d$ å— $v_{GS}$ å’Œ $v_{DS}$ æ§åˆ¶</td></tr><tr><td align="center">é¥±å’ŒåŒº<br>(æ’æµåŒº)</td><td align="center">${\large v_{GS} &gt; v_{GS(th)},~ v_{DS} &gt; v_{GS} - v_{GS(th)} }$</td><td align="center">$i_d$ å— $v_{GS}$ æ§åˆ¶ï¼Œä¸ $v_{DS}$ å‡ ä¹æ— å…³</td></tr><tr><td align="center">æˆªæ­¢åŒº</td><td align="center">${\large v_{GS} &lt; v_{GS(th)} }$</td><td align="center">$i_d = 0$</td></tr><tr><td align="center">å‡»ç©¿åŒº</td><td align="center"></td><td align="center">åº”å°½é‡<strong>é¿å…</strong>å·¥ä½œåœ¨è¯¥åŒºåŸŸ</td></tr></tbody></table><ul><li><strong>ä¸‰æç®¡ &amp; åœºæ•ˆåº”ç®¡</strong></li></ul><p>ä¸‰æç®¡çš„æ”¾å¤§åŒºå’Œåœºæ•ˆåº”ç®¡çš„é¥±å’ŒåŒºç‰¹ç‚¹ä¸€æ ·ï¼š</p><img src="/2022/06/29/di-1-zhang-ban-dao-ti-ji-chu-yuan-jian-yu-fei-xian-xing-dian-lu/img/1. åŠå¯¼ä½“åŸºç¡€å…ƒä»¶äºéçº¿æ€§ç”µè·¯/ä¸‰æç®¡åœ¨æ”¾å¤§åŒºã€åœºæ•ˆåº”ç®¡åœ¨æ’æµåŒº.jpg"><hr><p>ä¸‰æç®¡æ˜¯<strong>åŒææ€§ç”µæµ</strong>æ§åˆ¶å‹å™¨ä»¶ï¼Œåœºæ•ˆåº”ç®¡æ˜¯<strong>å•ææ€§ç”µå‹</strong>æ§åˆ¶å‹å™¨ä»¶ã€‚</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> æ¨¡ç”µç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¨¡ç”µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>fbprophet</title>
      <link href="/2022/06/29/fbprophet/"/>
      <url>/2022/06/29/fbprophet/</url>
      
        <content type="html"><![CDATA[<h1 id="fbprophet"><a href="#fbprophet" class="headerlink" title="fbprophet"></a>fbprophet</h1><p>[toc]</p><h2 id="1-fbprophetä»‹ç»"><a href="#1-fbprophetä»‹ç»" class="headerlink" title="1. fbprophetä»‹ç»"></a>1. fbprophetä»‹ç»</h2><h3 id="1-1-fbprophetç®€ä»‹"><a href="#1-1-fbprophetç®€ä»‹" class="headerlink" title="1.1. fbprophetç®€ä»‹"></a>1.1. fbprophetç®€ä»‹</h3><p>Prophetï¼ˆå…ˆçŸ¥ï¼‰æ˜¯ Facebook å¼€æºçš„ä¸€ä¸ªæ—¶é—´åºåˆ—é¢„æµ‹å·¥å…·ï¼Œæ‰€ä»¥å« fbprophetã€‚Prophet ç®—æ³•ä¸ä»…å¯ä»¥å¤„ç†æ—¶é—´åºåˆ—å­˜åœ¨ä¸€äº›<font color="red">å¼‚å¸¸å€¼</font>çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥å¤„ç†éƒ¨åˆ†<font color="red">ç¼ºå¤±å€¼</font>çš„æƒ…å½¢ï¼Œè¿˜èƒ½å¤Ÿ<font color="red">å‡ ä¹å…¨è‡ªåŠ¨åœ°é¢„æµ‹</font>æ—¶é—´åºåˆ—æœªæ¥çš„èµ°åŠ¿ã€‚ä»è®ºæ–‡ä¸Šçš„æè¿°æ¥çœ‹ï¼Œè¿™ä¸ª prophet ç®—æ³•æ˜¯åŸºäº<font color="red">æ—¶é—´åºåˆ—åˆ†è§£</font>ï¼ˆè¶‹åŠ¿+å­£èŠ‚+èŠ‚å‡æ—¥ï¼‰å’Œ<font color="red">æœºå™¨å­¦ä¹ </font>çš„æ‹Ÿåˆæ¥åšçš„ï¼Œå…¶ä¸­åœ¨æ‹Ÿåˆæ¨¡å‹çš„æ—¶å€™ä½¿ç”¨äº† pyStan è¿™ä¸ªå¼€æºå·¥å…·ï¼Œå› æ­¤èƒ½å¤Ÿåœ¨è¾ƒå¿«çš„æ—¶é—´å†…å¾—åˆ°éœ€è¦é¢„æµ‹çš„ç»“æœã€‚</p><p>Githubï¼š<a href="https://github.com/facebook/prophet">https://github.com/facebook/prophet</a><br>å®˜æ–¹ç½‘å€ï¼š<a href="https://facebook.github.io/prophet/">https://github.com/facebook/prophet</a><br>è®ºæ–‡åå­—ä¸ç½‘å€ï¼šForecasting at scaleï¼Œ<a href="https://peerj.com/preprints/3190/">https://github.com/facebook/prophet</a></p><h3 id="1-2-fbprophetåŸç†"><a href="#1-2-fbprophetåŸç†" class="headerlink" title="1.2. fbprophetåŸç†"></a>1.2. fbprophetåŸç†</h3><p><font color="grey">å¯ä»¥å…ˆä¸çœ‹åŸç†ï¼Œçœ‹å®Œå®ä¾‹å†å›æ¥çœ‹åŸç†ã€‚</font></p><ul><li><strong>ä¼ ç»Ÿæ—¶é—´åºåˆ—é¢„æµ‹æ–¹æ³•ç¼ºé™·</strong><ul><li>é€‚ç”¨çš„æ—¶åºæ•°æ®è¿‡äºå±€é™<br>ä¾‹å¦‚ï¼šæœ€é€šç”¨çš„ ARIMA æ¨¡å‹ï¼Œå…¶è¦æ±‚æ—¶åºæ•°æ®æ˜¯ç¨³å®šçš„ï¼Œæˆ–è€…é€šè¿‡å·®åˆ†åŒ–åæ˜¯ç¨³å®šçš„ï¼Œä¸”åœ¨å·®åˆ†è¿ç®—æ—¶æå–çš„æ˜¯å›ºå®šå‘¨æœŸçš„ä¿¡æ¯ã€‚<br>å›å¿†ï¼šautomated ARIMA è¦æ±‚è¾“å…¥çš„å‚æ•°æ˜¯å·®åˆ†çš„æœ€å¤§é˜¶æ•°ã€è‡ªå›å½’åˆ†é‡å’Œç§»åŠ¨å¹³å‡åˆ†é‡ã€‚</li><li>ç¼ºå¤±å€¼éœ€è¦å¡«è¡¥</li><li>æ¨¡å‹ç¼ºä¹çµæ´»æ€§</li><li>æŒ‡å¯¼ä½œç”¨è¾ƒå¼±</li></ul></li></ul><hr><ul><li><strong>prophetæ•´ä½“æ¡†æ¶</strong>ï¼š<em>Modeling</em>ã€<em>Forecast Evaluation</em>ã€<em>Surface Problems</em> ä»¥åŠ <em>Visually Inspect Forecasts</em><br><img src="/2022/06/29/fbprophet/fbprophet_framework.png" alt="fbprophet_framework"><ul><li><em>Modeling</em>ï¼š<font color="orange">å»ºç«‹æ—¶é—´åºåˆ—æ¨¡å‹</font>ã€‚åˆ†æå¸ˆæ ¹æ®é¢„æµ‹é—®é¢˜çš„èƒŒæ™¯é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ¨¡å‹ã€‚</li><li><em>Forecast Evaluation</em>ï¼š<font color="orange">æ¨¡å‹è¯„ä¼°</font>ã€‚æ ¹æ®æ¨¡å‹å¯¹å†å²æ•°æ®è¿›è¡Œä»¿çœŸï¼Œåœ¨æ¨¡å‹çš„å‚æ•°ä¸ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¤šç§å°è¯•ï¼Œå¹¶æ ¹æ®å¯¹åº”çš„ä»¿çœŸæ•ˆæœè¯„ä¼°å“ªç§æ¨¡å‹æ›´é€‚åˆã€‚</li><li><em>Surface Problems</em>ï¼š<font color="orange">å‘ˆç°é—®é¢˜</font>ã€‚å¦‚æœå°è¯•äº†å¤šç§å‚æ•°åï¼Œæ¨¡å‹çš„æ•´ä½“è¡¨ç°ä¾ç„¶ä¸ç†æƒ³ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥å°†è¯¯å·®è¾ƒå¤§çš„æ½œåœ¨åŸå› å‘ˆç°ç»™åˆ†æå¸ˆã€‚</li><li><em>Visually Inspect Forecasts</em>ï¼š<font color="orange">å¯è§†åŒ–åé¦ˆæ•´ä¸ªé¢„æµ‹ç»“æœ</font>ã€‚å½“é—®é¢˜åé¦ˆç»™åˆ†æå¸ˆåï¼Œåˆ†æå¸ˆè€ƒè™‘æ˜¯å¦è¿›ä¸€æ­¥è°ƒæ•´å’Œæ„å»ºæ¨¡å‹ã€‚</li></ul></li></ul><hr><ul><li><strong>propheté€‚ç”¨åœºæ™¯</strong>ï¼š<br>a. æœ‰è‡³å°‘å‡ ä¸ªæœˆï¼ˆæœ€å¥½æ˜¯ä¸€å¹´ï¼‰çš„<font color="orange">æ¯å°æ—¶ã€æ¯å¤©æˆ–æ¯å‘¨è§‚å¯Ÿ</font>çš„<strong>å†å²æ•°æ®</strong>ï¼›<br>b. æœ‰å¤šç§äººç±»è§„æ¨¡çº§åˆ«çš„è¾ƒå¼ºçš„<strong>å­£èŠ‚æ€§è¶‹åŠ¿</strong>ï¼š<font color="orange">æ¯å‘¨çš„ä¸€äº›å¤©å’Œæ¯å¹´çš„ä¸€äº›æ—¶é—´</font>ï¼›<br>c. æœ‰äº‹å…ˆçŸ¥é“çš„ä»¥<font color="orange">ä¸å®šæœŸçš„é—´éš”</font>å‘ç”Ÿçš„<strong>é‡è¦èŠ‚å‡æ—¥</strong>ï¼ˆæ¯”å¦‚å›½åº†èŠ‚ï¼‰ï¼›<br>d. <font color="orange">ç¼ºå¤±çš„å†å²æ•°æ®æˆ–è¾ƒå¤§çš„å¼‚å¸¸æ•°æ®çš„æ•°é‡</font>åœ¨<strong>åˆç†èŒƒå›´</strong>å†…ï¼›<br>e. æœ‰<strong>å†å²è¶‹åŠ¿çš„å˜åŒ–</strong>ï¼ˆæ¯”å¦‚å› ä¸ºäº§å“å‘å¸ƒï¼‰ï¼›<br>f. å¯¹äºæ•°æ®ä¸­è•´å«çš„<font color="orange">éçº¿æ€§å¢é•¿çš„è¶‹åŠ¿</font>éƒ½æœ‰ä¸€ä¸ª<strong>è‡ªç„¶æé™æˆ–é¥±å’ŒçŠ¶æ€</strong>ã€‚</li></ul><hr><ul><li><strong>æ—¶é—´åºåˆ—åˆ†è§£çš„ä¸‰ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†</strong>ï¼šgrowth å¢é•¿è¶‹åŠ¿ã€seasonality å­£èŠ‚è¶‹åŠ¿ã€holidays èŠ‚å‡æ—¥<br>$$y(t) = g(t) + s(t) + h(t) + \epsilon_t$$<ul><li>$g(t)$ï¼šç”¨äºæ‹Ÿåˆæ—¶é—´åºåˆ—ä¸­çš„åˆ†æ®µçº¿æ€§å¢é•¿æˆ–é€»è¾‘å¢é•¿ç­‰<font color="orange">éå‘¨æœŸå˜åŒ–</font>ã€‚</li><li>$s(t)$ï¼š<font color="orange">å‘¨æœŸå˜åŒ–</font>ï¼ˆå¦‚ï¼šæ¯å‘¨/æ¯å¹´çš„å­£èŠ‚æ€§ï¼‰ã€‚</li><li>$h(t)$ï¼šéè§„å¾‹æ€§çš„<font color="orange">èŠ‚å‡æ—¥æ•ˆåº”</font>ï¼ˆç”¨æˆ·é€ æˆï¼‰ã€‚</li><li>$\epsilon_t$ï¼šå™ªå£°é¡¹ç”¨æ¥åæ˜ æœªåœ¨æ¨¡å‹ä¸­ä½“ç°çš„<font color="orange">å¼‚å¸¸å˜åŠ¨</font>ï¼Œå‡è®¾æœä»é«˜æ–¯åˆ†å¸ƒã€‚</li></ul></li></ul><hr><ul><li><p><strong>$g(t)$ å¢é•¿è¶‹åŠ¿(growth)</strong><br>å¢é•¿è¶‹åŠ¿æ˜¯æ•´ä¸ªæ¨¡å‹çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒè¡¨ç¤ºè®¤ä¸º<font color="reorange">æ•´ä¸ªæ—¶é—´åºåˆ—æ˜¯å¦‚ä½•å¢é•¿</font>çš„ï¼Œä»¥åŠ<font color="reorange">é¢„æœŸæœªæ¥æ—¶é—´é‡Œæ˜¯å¦‚ä½•å¢é•¿</font>çš„ã€‚è¿™éƒ¨åˆ†ä¸ºåˆ†æå¸ˆæä¾›äº†ä¸¤ç§æ¨¡å‹ï¼š<strong>Non-linear growth</strong>ï¼ˆéçº¿æ€§å¢é•¿ï¼‰å’Œ <strong>Linear growth</strong>ï¼ˆçº¿æ€§å¢é•¿ï¼‰ã€‚</p><br><ul><li><ol><li><strong>Non-linear growth</strong>ï¼ˆéçº¿æ€§å¢é•¿ï¼‰</li></ol></li></ul><p>éçº¿æ€§å¢é•¿çš„å…¬å¼é‡‡ç”¨äº†é€»è¾‘å›å½’çš„æ¨¡å‹ï¼š${\large g(t) = \frac{C}{1 + e^{-k(t - b)}}}$</p><p><br>å…¶ä¸­ï¼Œ$C$ æ˜¯æ‰¿è½½é‡ï¼Œå®ƒé™å®šäº†æ‰€èƒ½å¢é•¿çš„æœ€å¤§å€¼ï¼Œ$k$ è¡¨ç¤ºå¢é•¿ç‡ï¼Œ$b$ ä¸ºåç§»é‡ã€‚ï¼ˆè‹¥ $C=1,k=1,m=0$ï¼Œåˆ™æ˜¯ sigmoid å‡½æ•°ï¼‰</p><p>ä½†æ˜¯ï¼Œå®é™…çš„å¢é•¿æ¨¡å‹æ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œæ‰€ä»¥ Prophet çš„ä½œè€…æŠŠè¿™ä¸‰ä¸ªå‚æ•°éƒ½æ¢æˆäº†éšæ—¶é—´å˜åŒ–çš„å‡½æ•°ï¼Œå³ $C=C(t), k=k(t), m=m(t)$</p><p>è€Œä¸”ï¼Œåœ¨ç°å®çš„æ—¶é—´åºåˆ—ä¸­ï¼Œæ›²çº¿çš„èµ°åŠ¿è‚¯å®šä¸ä¼šä¸€ç›´ä¿æŒä¸å˜ï¼Œåœ¨æŸäº›ç‰¹å®šçš„æ—¶å€™æˆ–è€…æœ‰ç€æŸç§æ½œåœ¨çš„å‘¨æœŸæ›²çº¿ä¼šå‘ç”Ÿå˜åŒ–ï¼ˆå˜ç‚¹ï¼‰ã€‚</p><p><br>æ‰€ä»¥ï¼Œå¯¹äºä»¥ä¸Šé—®é¢˜çš„è§£å†³æ–¹æ³•ï¼š</p><p><br>ï¼ˆ1ï¼‰å°† $C$ æ„å»ºæˆéšæ—¶é—´å˜åŒ–çš„å‡½æ•°ï¼š$C(t) = K$ æˆ–è€… $C(t) = Mt + K$ã€‚ï¼ˆç¡®å®š $C(t)$ï¼‰</p><p><br>ï¼ˆ2ï¼‰åœ¨ Prophet é‡Œé¢è®¾ç½®å˜ç‚¹çš„ä½ç½®ï¼š1.äººå·¥æŒ‡å®š <code>n_changepoints</code>ï¼›2.ç®—æ³•è‡ªåŠ¨é€‰æ‹©ã€‚å‡è®¾å·²ç»è®¾ç½®äº† $S$ ä¸ªå˜ç‚¹ï¼Œå¹¶ä¸”å˜ç‚¹çš„ä½ç½®ä¸ºæ—¶é—´æˆ³ $s_j \ (1 \le j \le S)$ã€‚åœ¨è¿™äº›æ—¶é—´æˆ³ä¸Šï¼Œéœ€è¦çŸ¥é“å…¶å¢é•¿ç‡çš„å˜åŒ–ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå‘é‡ $\delta \in \mathbb{R}^S$ï¼Œå…¶ä¸­ $\delta_j$ è¡¨ç¤ºåœ¨æ—¶é—´æˆ³ $s_j$ ä¸Šçš„å¢é•¿ç‡çš„å˜åŒ–é‡ã€‚å¦‚æœä¸€å¼€å§‹çš„å¢é•¿ç‡ä¸º $k$ï¼Œé‚£ä¹ˆåœ¨æ—¶é—´æˆ³ $t$ ä¸Šçš„å¢é•¿ç‡å°±æ˜¯ $k + \sum_{j: \ t &gt; s_j}^{}{\delta_j}$ã€‚ä¸ºäº†ç®€åŒ–å…¬å¼ï¼Œå®šä¹‰ä¸€ä¸ªæŒ‡ç¤ºå‡½æ•° $a(t) \in {0, 1}^S$ ä¸º $a_j(t) = \begin{cases}1,&amp;if \ t \ge s_j\0,&amp;otherwise\end{cases}$ã€‚é‚£ä¹ˆåœ¨æ—¶é—´æˆ³ $t$ ä¸Šçš„å¢é•¿ç‡å°±æ˜¯ $k + a^T\delta$ã€‚ï¼ˆç¡®å®š $k=k(t)$ï¼‰</p><p><br>ï¼ˆ3ï¼‰å‚æ•° $m$ ç¡®å®šçº¿æ®µçš„è¾¹ç•Œ ${\large \gamma_j = (s_j - m - \sum_{l &lt; j}^{}{\gamma_l})(1 - \frac{k + \sum_{l &lt; j}^{}{\delta_l}}{k + \sum_{l \le j}^{}{\delta_l}})}$ï¼ˆç¡®å®š $m=m(t)$ï¼‰</p><p><br>æ‰€ä»¥ï¼Œåˆ†æ®µçš„é€»è¾‘å›å½’å¢é•¿æ¨¡å‹å°±æ˜¯ï¼š<font color="orangered">${\large g(t) = \frac{C(t)}{1 + e^{-(k + a(t)^t\delta)(t - (m + a(t)^T\gamma))}}}$</font><br>å…¶ä¸­ï¼Œ$a(t) = (a_1(t), \dots, a_S(t))^T, \delta = (\delta_1, \dots, \delta_S)^T, \gamma = (\gamma_1, \dots, \gamma_S)^T$<br><br></p><ul><li><ol start="2"><li><strong>Linear growth</strong>ï¼ˆçº¿æ€§å¢é•¿ï¼‰</li></ol></li></ul><p>çº¿æ€§å¢é•¿é‡‡ç”¨çº¿æ€§æ¨¡å‹ï¼š<font color="orangered">${\large g(t) = (k + a(t)\delta)t + (m + a(t)^T\gamma)}$</font></p><p>å…¶ä¸­ï¼Œ$k$ è¡¨ç¤ºå¢é•¿ç‡ï¼Œ$\delta$ è¡¨ç¤ºå¢é•¿ç‡çš„å˜åŒ–é‡ï¼Œ$m$ è¡¨ç¤ºåç§»å‚æ•°ï¼Œ$\gamma = (\gamma_1, \dots, \gamma_S)^T, \gamma_j = -s_j\delta_j$ ç”¨äºç¡®å®šçº¿æ®µè¾¹ç•Œã€‚</p></li></ul><hr><ul><li><strong>$s(t)$ å­£èŠ‚è¶‹åŠ¿(seasonality)</strong></li></ul><p>å­£èŠ‚è¶‹åŠ¿å¾€å¾€å‘ˆå‘¨æœŸæ€§å˜åŒ–ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å‚…é‡Œå¶çº§æ•°è¡¨ç¤ºã€‚å‚…é‡Œå¶çº§æ•°ï¼š$$f(x) = a_0 + \sum_{n=1}^{\infty}{(a_n \ cos(nx) + b_n \ sin(nx))}, T = 2\pi$$</p><p>Prophet ä½œè€…ä½¿ç”¨å‚…ç«‹å¶çº§æ•°æ¥æ¨¡æ‹Ÿæ—¶é—´åºåˆ—çš„å‘¨æœŸæ€§ã€‚å‡è®¾ $P$ è¡¨ç¤ºæ—¶é—´åºåˆ—çš„å‘¨æœŸï¼Œ$P = 365.25$ è¡¨ç¤ºä»¥å¹´ä¸ºå‘¨æœŸï¼Œ$P = 7$ è¡¨ç¤ºä»¥å‘¨ä¸ºå‘¨æœŸã€‚å®ƒçš„å‚…ç«‹å¶çº§æ•°çš„å½¢å¼éƒ½æ˜¯ï¼š$$s(t) = \sum_{n = 1}^{N}{\left( a_n \ cos(\frac{2 \pi n t}{P}) + b_n \ cos(\frac{2 \pi n t}{P}) \right)}$$</p><p>å°± Prophet ä½œè€…ç»éªŒè€Œè¨€ï¼Œå¯¹äº $P = 365.25$ï¼Œ$N = 10$ï¼›å¯¹äº $P = 7$ï¼Œ$N = 3$ã€‚</p><p>å‚…ç«‹å¶çº§æ•°çš„å‚æ•°å¯ä»¥å½¢æˆåˆ—å‘é‡ï¼š$$\beta = (a_1, b_1, \dots, a_N, b_N)^T$$</p><p>å½“ $N = 10$ æ—¶ï¼Œ$$X(t) = \left[cos(\frac{2 \pi (1) t}{365.25}), \dots, sin(\frac{2 \pi (10) t}{365.25}) \right]$$</p><p>å½“ $N = 3$ æ—¶ï¼Œ$$X(t) = \left[cos(\frac{2 \pi (1) t}{7}), \dots, sin(\frac{2 \pi (3) t}{7}) \right]$$</p><p>æ‰€ä»¥ï¼Œæ—¶é—´åºåˆ—çš„å­£èŠ‚é¡¹å°±æ˜¯ï¼š<font color="orangered">${\large s(t) = X(t) \beta, \ \beta \sim N(0, \sigma^2)}$</font></p><p>å…¶ä¸­ï¼Œ$\sigma$ = <code>seasonality_prior_scale</code>ï¼Œ$\sigma$ å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºå­£èŠ‚çš„æ•ˆåº”è¶Šæ˜æ˜¾ï¼›$\sigma$ å€¼è¶Šå°ï¼Œè¡¨ç¤ºå­£èŠ‚çš„æ•ˆåº”è¶Šä¸æ˜æ˜¾ã€‚</p><p><code>seasonality_mode</code> å¯¹åº”ç€ä¸¤ç§æ¨¡å¼ï¼š <code>"additive"</code> åŠ æ³•(é»˜è®¤)å’Œ <code>"multiplicative"</code> ä¹˜æ³•ã€‚</p><p>$X(t)$ å‡½æ•°æ˜¯é€šè¿‡ <code>fourier_series</code> æ¥æ„å»ºã€‚</p><hr><ul><li><strong>$h(t)$ èŠ‚å‡æ—¥(holidays and events)</strong></li></ul><p>ç”±äºæ¯ä¸ªèŠ‚å‡æ—¥å¯¹æ—¶é—´åºåˆ—çš„å½±å“ç¨‹åº¦ä¸ä¸€æ ·ï¼Œä¾‹å¦‚æ˜¥èŠ‚ï¼Œå›½åº†èŠ‚åˆ™æ˜¯ä¸ƒå¤©çš„å‡æœŸï¼Œå¯¹äºåŠ³åŠ¨èŠ‚ç­‰å‡æœŸæ¥è¯´åˆ™å‡æ—¥è¾ƒçŸ­ã€‚å› æ­¤ï¼Œä¸åŒçš„èŠ‚å‡æ—¥å¯ä»¥çœ‹æˆç›¸äº’ç‹¬ç«‹çš„æ¨¡å‹ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºä¸åŒçš„èŠ‚å‡æ—¥è®¾ç½®ä¸åŒçš„å‰åçª—å£å€¼ï¼Œè¡¨ç¤ºè¯¥èŠ‚å‡æ—¥ä¼šå½±å“å‰åä¸€æ®µæ—¶é—´çš„æ—¶é—´åºåˆ—ã€‚</p><p>å¯¹ç¬¬ $i$ ä¸ªèŠ‚å‡æ—¥æ¥è¯´ï¼Œ$D_i$ è¡¨ç¤ºè¯¥èŠ‚å‡æ—¥çš„å‰åä¸€æ®µæ—¶é—´ï¼Œ$\kappa_i$ è¡¨ç¤ºè¯¥èŠ‚å‡æ—¥çš„å½±å“èŒƒå›´ï¼Œæœ‰ $L$ ä¸ªèŠ‚å‡æ—¥ã€‚é‚£ä¹ˆæ—¶é—´åºåˆ—çš„èŠ‚å‡æ—¥å¯ä»¥è¡¨ç¤ºä¸ºï¼š<font color="orangered">${\large h(t) = Z(t) \kappa = \sum_\limits{i = 1}^{L}\kappa_i \cdot 1_{ { t \in D_i } } }$</font></p><p>å…¶ä¸­ï¼Œ$Z(t) = (1_{ { t \in D_1 } }, \dots, 1_{ { t \in D_L} }), \ \kappa = (\kappa_1, \dots, \kappa_L)^T, \ \kappa \sim N(0, \upsilon^2)$</p><p>$\upsilon$ = <code>holidays_prior_scale</code>ï¼Œé»˜è®¤å€¼æ˜¯ 10ï¼Œå€¼è¶Šå¤§ï¼ŒèŠ‚å‡æ—¥å¯¹æ¨¡å‹çš„å½±å“è¶Šå¤§ï¼›å€¼è¶Šå°ï¼ŒèŠ‚å‡æ—¥å¯¹æ¨¡å‹çš„æ•ˆæœè¶Šå°ã€‚</p><hr><ul><li><strong>$\epsilon_t$ å™ªå£°</strong></li></ul><p>è¯¯å·®é¡¹ï¼Œä¸éœ€è¦è€ƒè™‘ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p><hr><ul><li><p><strong>fbprophetä¼˜ç‚¹</strong></p><ol><li>å¤§è§„æ¨¡ã€ç»†ç²’åº¦æ•°æ®<br>èƒ½è¿›è¡Œå¤§èŒƒå›´é¢„æµ‹ï¼Œå¹¶ä¸”ç»™å‡ºç½®ä¿¡åŒºé—´ï¼›æ•°æ®æ—¶é—´ç²’åº¦å¯ä»¥å¾ˆå°ï¼Œæ”¯æŒå°æ—¶ã€å¤©ã€æœˆæ•°æ®ã€‚</li><li>è‡ªåŠ¨å¤„ç†ç¼ºå¤±å€¼æ•°æ®<br>é‡åˆ°æœ‰ç¼ºå¤±çš„æ•°æ®æ—¶å…¶å®ƒé¢„æµ‹æ–¹æ³•éœ€è¦å…ˆè¿›è¡Œæ’å€¼å¡«è¡¥é¢„å¤„ç†ï¼Œè€Œ fbprophet å¯ä»¥è‡ªå·±å¤„ç†ç¼ºå¤±å€¼æ•°æ®ã€‚</li><li>æ›´çµæ´»ï¼Œæ”¯æŒå­£èŠ‚ã€èŠ‚å‡æ—¥è°ƒèŠ‚<br>æœ‰äº›çªå˜ç‚¹å¾€å¾€æ˜¯ç”±ç‰¹åˆ«çš„èŠ‚å‡æ—¥æœŸå¼•èµ·çš„ï¼Œfbprophet æ”¯æŒè¾“å…¥è¿™äº›æ—¥æœŸä»¥åŠå‰åå½±å“çš„æ—¶é—´çª—å£ï¼Œé¢„æµ‹çš„æ—¶å€™è‡ªåŠ¨é€‚è¿™äº›æ—¥æœŸã€‚</li><li>è¶‹åŠ¿é¢„æµ‹ + è¶‹åŠ¿åˆ†è§£<br>æ‹Ÿåˆçš„æœ‰ä¸¤ç§è¶‹åŠ¿ï¼šçº¿æ€§è¶‹åŠ¿ã€é€»è¾‘è¶‹åŠ¿ï¼›è¶‹åŠ¿åˆ†è§£æœ‰å¾ˆå¤šç§ï¼šTrendã€å¹´ã€å‘¨ã€å¤©è¶‹åŠ¿ã€ä»¥åŠèŠ‚å‡æ—¥æ•ˆåº”ã€‚</li><li>æ¨¡å‹å‚æ•°æ˜“è§£é‡Š<br>æ¨¡å‹å‚æ•°å¾ˆå¥½ç†è§£ï¼Œå¯ä»¥è®©åˆ†æå¸ˆæ ¹æ®ä¸šåŠ¡ç»éªŒè°ƒèŠ‚å‚æ•°æ¥å¢å¼ºæŸéƒ¨åˆ†å‡è®¾æé«˜å‡†ç¡®ç‡ï¼Œä½¿æ¨¡å‹ä¸ä¸šåŠ¡è¾¾åˆ°ç†æƒ³çš„èåˆã€‚</li><li>æ‹Ÿåˆé€Ÿåº¦å¿«</li><li>æ“ä½œç®€å•<br>ä¸ä»…ç¯å¢ƒæ­å»ºç®€å•ï¼Œè€Œä¸”åªè¦åå‡ è¡Œä»£ç å³å¯å®Œæˆæ•´ä¸ªé¢„æµ‹è¿‡ç¨‹ã€‚</li></ol></li></ul><hr><ul><li><p><strong>è°ƒå‚ç»éªŒ</strong></p><ol><li>é¦–å…ˆæˆ‘ä»¬å»é™¤æ•°æ®ä¸­çš„å¼‚å¸¸ç‚¹ï¼ˆoutlierï¼‰ï¼Œç›´æ¥èµ‹å€¼ä¸º <code>None</code> å°±å¯ä»¥ï¼Œå› ä¸º Prophet çš„è®¾è®¡ä¸­å¯ä»¥é€šè¿‡<font color="red">æ’å€¼</font>å¤„ç†ç¼ºå¤±å€¼ï¼Œä½†æ˜¯å¯¹å¼‚å¸¸å€¼æ¯”è¾ƒæ•æ„Ÿã€‚</li><li>é€‰æ‹©è¶‹åŠ¿æ¨¡å‹ï¼Œé»˜è®¤ä½¿ç”¨åˆ†æ®µçº¿æ€§çš„è¶‹åŠ¿ï¼Œä½†æ˜¯å¦‚æœè®¤ä¸ºæ¨¡å‹çš„è¶‹åŠ¿æ˜¯æŒ‰ç…§ log å‡½æ•°æ–¹å¼å¢é•¿çš„ï¼Œå¯è®¾ç½® <code>growth='logistic'</code> ä»è€Œä½¿ç”¨åˆ†æ®µ log çš„å¢é•¿æ–¹å¼</li><li>è®¾ç½®è¶‹åŠ¿è½¬æŠ˜ç‚¹ <code>changepoint</code>ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“æ—¶é—´åºåˆ—çš„è¶‹åŠ¿ä¼šåœ¨æŸäº›ä½ç½®å‘ç°è½¬å˜ï¼Œå¯ä»¥è¿›è¡Œäººå·¥è®¾ç½®ï¼Œæ¯”å¦‚æŸä¸€å¤©æœ‰æ–°äº§å“ä¸Šçº¿ä¼šå½±å“æˆ‘ä»¬çš„èµ°åŠ¿ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ—¶åˆ»è®¾ç½®ä¸ºè½¬æŠ˜ç‚¹ã€‚</li><li>è®¾ç½®å‘¨æœŸæ€§ï¼Œæ¨¡å‹é»˜è®¤æ˜¯å¸¦æœ‰å¹´å’Œæ˜ŸæœŸä»¥åŠå¤©çš„å‘¨æœŸæ€§ï¼Œå…¶ä»–æœˆã€å°æ—¶çš„å‘¨æœŸæ€§éœ€è¦è‡ªå·±æ ¹æ®æ•°æ®çš„ç‰¹å¾è¿›è¡Œè®¾ç½®ï¼Œæˆ–è€…è®¾ç½®å°†å¹´å’Œæ˜ŸæœŸç­‰å‘¨æœŸå…³é—­ã€‚</li><li>è®¾ç½®èŠ‚å‡æ—¥ç‰¹å¾ï¼Œå¦‚æœæˆ‘ä»¬çš„æ•°æ®å­˜åœ¨èŠ‚å‡æ—¥çš„çªå¢æˆ–è€…çªé™ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® <code>holiday</code> å‚æ•°æ¥è¿›è¡Œè°ƒèŠ‚ï¼Œå¯ä»¥è®¾ç½®ä¸åŒçš„ <code>holiday</code>ï¼Œä¾‹å¦‚äº”ä¸€ä¸€ç§ï¼Œå›½åº†ä¸€ç§ï¼Œå½±å“å¤§å°ä¸ä¸€æ ·ï¼Œæ—¶é—´æ®µä¹Ÿä¸ä¸€æ ·ã€‚</li><li>æ­¤æ—¶å¯ä»¥ç®€å•çš„è¿›è¡Œä½œå›¾è§‚å¯Ÿï¼Œç„¶åå¯ä»¥æ ¹æ®ç»éªŒç»§ç»­è°ƒèŠ‚ä¸Šè¿°æ¨¡å‹å‚æ•°ï¼ŒåŒæ—¶æ ¹æ®æ¨¡å‹æ˜¯å¦è¿‡æ‹Ÿåˆä»¥åŠå¯¹ä»€ä¹ˆæˆåˆ†è¿‡æ‹Ÿåˆï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åº”è°ƒèŠ‚ <code>seasonality_prior_scale</code>ã€<code>holidays_prior_scale</code>ã€<code>changepoint_prior_scale</code> å‚æ•°ã€‚</li><li>å¦‚æœé¢„æµ‹ç»“æœçš„è¯¯å·®å¾ˆå¤§ï¼Œè€ƒè™‘é€‰å–çš„æ¨¡å‹æ˜¯å¦å‡†ç¡®ï¼Œå°è¯•è°ƒæ•´å¢é•¿ç‡æ¨¡å‹ <code>growth</code> çš„å‚æ•°ï¼Œåœ¨å¿…è¦çš„æƒ…å†µä¸‹ä¹Ÿéœ€è¦è°ƒæ•´å­£èŠ‚æ€§ <code>seasonality</code> å‚æ•°ã€‚</li><li>å¦‚æœåœ¨å°è¯•çš„å¤§å¤šæ•°æ–¹æ³•ä¸­ï¼ŒæŸäº›æ—¥æœŸçš„é¢„æµ‹ä¾ç„¶å­˜åœ¨å¾ˆå¤§çš„è¯¯å·®ï¼Œè¿™å°±è¯´æ˜å†å²æ•°æ®ä¸­å­˜åœ¨å¼‚å¸¸å€¼ã€‚æœ€å¥½çš„åŠæ³•å°±æ˜¯æ‰¾åˆ°è¿™äº›å¼‚å¸¸å€¼å¹¶å‰”é™¤æ‰ã€‚ä½¿ç”¨è€…æ— éœ€åƒå…¶ä»–æ–¹æ³•é‚£æ ·å¯¹å‰”é™¤çš„æ•°æ®è¿›è¡Œæ’å€¼æ‹Ÿåˆï¼Œå¯ä»¥ä»…ä¿ç•™å¼‚å¸¸å€¼å¯¹åº”çš„æ—¶é—´ï¼Œ å¹¶å°†å¼‚å¸¸å€¼ä¿®æ”¹ä¸ºç©ºå€¼ <code>None</code>ï¼Œæ¨¡å‹åœ¨é¢„æµ‹æ—¶ä¾ç„¶å¯ä»¥ç»™å‡ºè¿™ä¸ªæ—¶é—´ç‚¹å¯¹åº”çš„é¢„æµ‹ç»“æœã€‚</li><li>å¦‚æœå¯¹å†å²æ•°æ®è¿›è¡Œä»¿çœŸé¢„æµ‹æ—¶å‘ç°ï¼Œä»ä¸€ä¸ªæˆªç‚¹åˆ°ä¸‹ä¸€ä¸ªæˆªç‚¹è¯¯å·®æ€¥å‰§çš„å¢åŠ ï¼Œè¿™è¯´æ˜åœ¨ä¸¤ä¸ªæˆªç‚¹æœŸé—´æ•°æ®çš„äº§ç”Ÿè¿‡ç¨‹å‘ç”Ÿäº†è¾ƒå¤§çš„å˜åŒ–ï¼Œæ­¤æ—¶ä¸¤ä¸ªæˆªç‚¹ä¹‹é—´åº”è¯¥å¢åŠ ä¸€ä¸ª <code>changepoint</code> ï¼Œæ¥å¯¹è¿™æœŸé—´çš„ä¸åŒé˜¶æ®µåˆ†åˆ«å»ºæ¨¡ã€‚</li></ol><ul><li>a. å¦‚æœé¢„æµ‹ç»“æœçš„è¯¯å·®å¾ˆå¤§ï¼Œè€ƒè™‘é€‰å–çš„æ¨¡å‹æ˜¯å¦å‡†ç¡®ï¼Œå°è¯•è°ƒæ•´<font color="orange">å¢é•¿ç‡æ¨¡å‹</font>ï¼ˆ<code>growth</code>ï¼‰çš„å‚æ•°ï¼Œåœ¨å¿…è¦çš„æƒ…å†µä¸‹ä¹Ÿéœ€è¦è°ƒæ•´<font color="orange">å­£èŠ‚æ€§</font>ï¼ˆ<code>seasonality</code>ï¼‰å‚æ•°ã€‚</li><li>b. å¦‚æœåœ¨å°è¯•çš„å¤§å¤šæ•°æ–¹æ³•ä¸­ï¼ŒæŸäº›æ—¥æœŸçš„é¢„æµ‹ä¾ç„¶å­˜åœ¨å¾ˆå¤§çš„è¯¯å·®ï¼Œè¿™å°±è¯´æ˜å†å²æ•°æ®ä¸­å­˜åœ¨<font color="orange">å¼‚å¸¸å€¼</font>ã€‚æœ€å¥½çš„åŠæ³•å°±æ˜¯æ‰¾åˆ°è¿™äº›å¼‚å¸¸å€¼å¹¶å‰”é™¤æ‰ã€‚ä½¿ç”¨è€…æ— éœ€åƒå…¶ä»–æ–¹æ³•é‚£æ ·å¯¹å‰”é™¤çš„æ•°æ®è¿›è¡Œæ’å€¼æ‹Ÿåˆï¼Œå¯ä»¥ä»…ä¿ç•™å¼‚å¸¸å€¼å¯¹åº”çš„æ—¶é—´ï¼Œ å¹¶å°†å¼‚å¸¸å€¼ä¿®æ”¹ä¸ºç©ºå€¼ï¼ˆNAï¼‰ï¼Œæ¨¡å‹åœ¨é¢„æµ‹æ—¶ä¾ç„¶å¯ä»¥ç»™å‡ºè¿™ä¸ªæ—¶é—´ç‚¹å¯¹åº”çš„é¢„æµ‹ç»“æœã€‚</li><li>c. å¦‚æœå¯¹å†å²æ•°æ®è¿›è¡Œä»¿çœŸé¢„æµ‹æ—¶å‘ç°ï¼Œ<font color="orange">ä»ä¸€ä¸ªæˆªç‚¹åˆ°ä¸‹ä¸€ä¸ªæˆªç‚¹è¯¯å·®æ€¥å‰§å¢åŠ </font>ï¼Œè¿™è¯´æ˜åœ¨ä¸¤ä¸ªæˆªç‚¹æœŸé—´æ•°æ®çš„äº§ç”Ÿè¿‡ç¨‹å‘ç”Ÿäº†è¾ƒå¤§çš„å˜åŒ–ï¼Œæ­¤æ—¶ä¸¤ä¸ªæˆªç‚¹ä¹‹é—´åº”è¯¥å¢åŠ ä¸€ä¸ª <code>changepoint</code>ï¼Œæ¥å¯¹è¿™æœŸé—´çš„ä¸åŒé˜¶æ®µåˆ†åˆ«å»ºæ¨¡ã€‚</li></ul></li></ul><hr><h2 id="fbprophetä½¿ç”¨"><a href="#fbprophetä½¿ç”¨" class="headerlink" title="fbprophetä½¿ç”¨"></a>fbprophetä½¿ç”¨</h2><h3 id="å…¥é—¨å®ä¾‹"><a href="#å…¥é—¨å®ä¾‹" class="headerlink" title="å…¥é—¨å®ä¾‹"></a>å…¥é—¨å®ä¾‹</h3><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">from</span> fbprophet <span class="token keyword">import</span> Prophetdf <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">'example_wp_log_peyton_manning.xlsx'</span><span class="token punctuation">)</span>df<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>log<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>playoffs <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token string">'holiday'</span><span class="token punctuation">:</span> <span class="token string">'playoff'</span><span class="token punctuation">,</span>    <span class="token string">'ds'</span><span class="token punctuation">:</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span><span class="token punctuation">[</span>        <span class="token string">'2008-01-13'</span><span class="token punctuation">,</span> <span class="token string">'2009-01-03'</span><span class="token punctuation">,</span> <span class="token string">'2010-01-16'</span><span class="token punctuation">,</span>        <span class="token string">'2010-01-24'</span><span class="token punctuation">,</span> <span class="token string">'2010-02-07'</span><span class="token punctuation">,</span> <span class="token string">'2011-01-08'</span><span class="token punctuation">,</span>        <span class="token string">'2013-01-12'</span><span class="token punctuation">,</span> <span class="token string">'2014-01-12'</span><span class="token punctuation">,</span> <span class="token string">'2014-01-19'</span><span class="token punctuation">,</span>        <span class="token string">'2014-02-02'</span><span class="token punctuation">,</span> <span class="token string">'2015-01-11'</span><span class="token punctuation">,</span> <span class="token string">'2016-01-17'</span><span class="token punctuation">,</span>        <span class="token string">'2016-01-24'</span><span class="token punctuation">,</span> <span class="token string">'2016-02-07'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token string">'lower_window'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token string">'upper_window'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span>superbowls <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token string">'holiday'</span><span class="token punctuation">:</span> <span class="token string">'superbowl'</span><span class="token punctuation">,</span>    <span class="token string">'ds'</span><span class="token punctuation">:</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2010-02-07'</span><span class="token punctuation">,</span> <span class="token string">'2014-02-02'</span><span class="token punctuation">,</span> <span class="token string">'2016-02-07'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token string">'lower_window'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token string">'upper_window'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span>holidays <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>playoffs<span class="token punctuation">,</span> superbowls<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å­£åèµ›å’Œè¶…çº§ç¢—æ¯”èµ›ç‰¹åˆ«æ—¥æœŸ</span>m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>holidays<span class="token operator">=</span>holidays<span class="token punctuation">)</span>  <span class="token comment"># æŒ‡å®šèŠ‚å‡æ—¥å‚æ•°ï¼Œå…¶å®ƒå‚æ•°ä»¥é»˜è®¤å€¼è¿›è¡Œè®­ç»ƒ</span>m<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment"># å¯¹è¿‡å»æ•°æ®è¿›è¡Œè®­ç»ƒ</span>future <span class="token operator">=</span> m<span class="token punctuation">.</span>make_future_dataframe<span class="token punctuation">(</span>freq<span class="token operator">=</span><span class="token string">'D'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">365</span><span class="token punctuation">)</span>  <span class="token comment"># å»ºç«‹æ•°æ®é¢„æµ‹æ¡†æ¶ï¼Œæ•°æ®ç²’åº¦ä¸ºå¤©ï¼Œé¢„æµ‹æ­¥é•¿ä¸ºä¸€å¹´</span>forecast <span class="token operator">=</span> m<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>future<span class="token punctuation">)</span>m<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>forecast<span class="token punctuation">)</span><span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># ç»˜åˆ¶é¢„æµ‹æ•ˆæœå›¾</span></code></pre><p><font color="grey">å¯ä»¥çœ‹åˆ° Prophet éµå¾ª sciket-klearn æ¨¡å‹ APIã€‚</font></p><p><code>fit()</code> è¾“å…¥çš„ <code>DataFrame</code> å¿…é¡»åŒ…å«ä¸¤åˆ—æ•°æ®ï¼š<font color="orange">æ—¶é—´æˆ³</font> <code>ds</code> å’Œ<font color="orange">æ—¶é—´åºåˆ—çš„å–å€¼</font> <code>y</code></p><p>åœ¨é¢„æµ‹æ•ˆæœå›¾ä¸­ï¼Œé»‘ç‚¹è¡¨ç¤º<font color="black">å®é™…å€¼</font>ï¼Œ<font color="blue">è“è‰²</font>è¡¨ç¤º<font color="blue">é¢„æµ‹å€¼</font>ï¼Œ<font color="lightblue">æµ…è“è‰²</font>è¡¨ç¤º <code>yhat_upper</code> å’Œ <code>yhat_lower</code>ï¼Œç½®ä¿¡åŒºé—´å—åˆ° <code>interval_width</code> è¿™ä¸ªå‚æ•°çš„å½±å“ï¼›å½“ç„¶ï¼Œä» <code>forecasts</code> çš„ <code>keys</code> ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿˜æœ‰å…¶ä»–çš„ <code>_upper</code> å’Œ <code>_lower</code>ï¼ŒåŒæ ·ä¹Ÿä¼šå—åˆ°è¿™ä¸ªå‚æ•°çš„å½±å“ã€‚</p><img src="/2022/06/29/fbprophet/é¢„æµ‹æ•ˆæœå›¾.png"><p><code>predict()</code> è¾“å‡ºçš„ <code>DataFrame</code> åŒ…å«å››åˆ—æ•°æ®ï¼š<font color="orange">æ—¶é—´æˆ³</font> <code>ds</code>ã€<font color="orange">æ—¶é—´åºåˆ—çš„é¢„æµ‹å€¼</font> <code>yhat</code>ã€<font color="orange">é¢„æµ‹å€¼çš„ä¸‹ç•Œ</font> <code>yhat_lower</code>ã€<font color="orange">é¢„æµ‹å€¼çš„ä¸Šç•Œ</font> <code>yhat_upper</code></p><img src="/2022/06/29/fbprophet/æˆåˆ†è¶‹åŠ¿å›¾.png"><p>åœ¨æˆåˆ†è¶‹åŠ¿å›¾ä¸­ï¼Œå››ä¸ªå›¾ä»ä¸Šè‡³ä¸‹ä¾æ¬¡æ˜¯å¯¹å¢é•¿è¶‹åŠ¿æ¨¡å‹ï¼ˆtrendï¼‰ã€èŠ‚å‡æ—¥æ¨¡å‹ï¼ˆholidaysï¼‰ä»¥åŠå­£èŠ‚æ€§æ¨¡å‹ï¼ˆweekly å’Œ yearlyï¼‰ã€‚</p><p>æ‰€è°“æˆåˆ†åˆ†æå°±æ˜¯æŒ‡å¯¹åŸç†å…¬å¼ä¸­çš„ä¸‰å¤§éƒ¨åˆ†æ¨¡å‹å•ç‹¬è¿›è¡Œåˆ†æï¼Œæˆåˆ†åˆ†ææœ‰åŠ©äºæˆ‘ä»¬è€ƒå¯Ÿæ¨¡å‹ä¸­çš„å„ä¸ªç»„ä»¶åˆ†åˆ«å¯¹é¢„æµ‹ç»“æœçš„å½±å“ï¼Œé€šè¿‡å¯è§†åŒ–çš„å±•ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å‡†ç¡®åˆ¤æ–­å½±å“é¢„æµ‹æ•ˆæœçš„å…·ä½“åŸå› ï¼Œä»è€Œé’ˆå¯¹æ€§çš„è§£å†³ã€‚æˆåˆ†åˆ†ææ˜¯æˆ‘ä»¬æé«˜æ¨¡å‹å‡†ç¡®æ€§çš„é‡è¦æ¥æºã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœ<font color="red">æ²¡æœ‰</font>åœ¨ <code>holidays</code> å‚æ•°é‡Œæ³¨æ˜å…·ä½“çš„èŠ‚å‡æ—¥ä¿¡æ¯ï¼Œæ¨¡å—ä¹Ÿ<font color="red">ä¸ä¼š</font>è‡ªåŠ¨å¯¹è¿™ä¸€éƒ¨åˆ†è¿›è¡Œåˆ†æã€‚å¦‚æœå¯¹äºä¸Šé¢çš„ç»“æœä½ è§‰å¾—æœ‰ä¸åˆç†çš„åœ°æ–¹ï¼Œé‚£ä¹ˆå¯ä»¥æ ¹æ®ä¸­å‚æ•°ä½¿ç”¨è¯´æ˜æ›´æ”¹ç›¸åº”çš„æˆåˆ†å½±å“ï¼Œè¿™é‡Œåº”è¯¥å°½å¯èƒ½çš„åˆ©ç”¨ä½ çš„ä¸“ä¸šèƒŒæ™¯çŸ¥è¯†ï¼Œä»¥ä½¿å„éƒ¨åˆ†ç»„æˆçš„å½±å“æ›´ç¬¦åˆå®é™…ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœåœ¨æ¯å¹´è¶‹åŠ¿ <code>yearly</code> ä¸­ä½ è®¤ä¸ºå½“å‰çš„æ•ˆæœè¿‡æ‹Ÿåˆäº†ï¼Œé‚£ä¹ˆå°±å¯ä»¥è°ƒè§£ <code>seasonality_prior_scale</code> è¿™ä¸ªå‚æ•°ï¼Œå€¼è¶Šå°ï¼Œè¿™é‡Œçš„å­£èŠ‚æ€§æ³¢åŠ¨å°±è¶Šå°ã€‚</p><h3 id="Prophet-ç±»"><a href="#Prophet-ç±»" class="headerlink" title="Prophet() ç±»"></a><code>Prophet()</code> ç±»</h3><p>ä½œç”¨ï¼šè¿›è¡Œæ—¶é—´åºåˆ—é¢„æµ‹</p><br><details><summary>æºä»£ç ï¼š</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Prophet</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""Prophet forecaster.    Parameters    ----------    growth: String 'linear' or 'logistic' to specify a linear or logistic        trend.    changepoints: List of dates at which to include potential changepoints. If        not specified, potential changepoints are selected automatically.    n_changepoints: Number of potential changepoints to include. Not used        if input `changepoints` is supplied. If `changepoints` is not supplied,        then n_changepoints potential changepoints are selected uniformly from        the first `changepoint_range` proportion of the history.    changepoint_range: Proportion of history in which trend changepoints will        be estimated. Defaults to 0.8 for the first 80%. Not used if        `changepoints` is specified.    Not used if input `changepoints` is supplied.    yearly_seasonality: Fit yearly seasonality.        Can be 'auto', True, False, or a number of Fourier terms to generate.    weekly_seasonality: Fit weekly seasonality.        Can be 'auto', True, False, or a number of Fourier terms to generate.    daily_seasonality: Fit daily seasonality.        Can be 'auto', True, False, or a number of Fourier terms to generate.    holidays: pd.DataFrame with columns holiday (string) and ds (date type)        and optionally columns lower_window and upper_window which specify a        range of days around the date to be included as holidays.        lower_window=-2 will include 2 days prior to the date as holidays. Also        optionally can have a column prior_scale specifying the prior scale for        that holiday.    seasonality_mode: 'additive' (default) or 'multiplicative'.    seasonality_prior_scale: Parameter modulating the strength of the        seasonality model. Larger values allow the model to fit larger seasonal        fluctuations, smaller values dampen the seasonality. Can be specified        for individual seasonalities using add_seasonality.    holidays_prior_scale: Parameter modulating the strength of the holiday        components model, unless overridden in the holidays input.    changepoint_prior_scale: Parameter modulating the flexibility of the        automatic changepoint selection. Large values will allow many        changepoints, small values will allow few changepoints.    mcmc_samples: Integer, if greater than 0, will do full Bayesian inference        with the specified number of MCMC samples. If 0, will do MAP        estimation.    interval_width: Float, width of the uncertainty intervals provided        for the forecast. If mcmc_samples=0, this will be only the uncertainty        in the trend using the MAP estimate of the extrapolated generative        model. If mcmc.samples&gt;0, this will be integrated over all model        parameters, which will include uncertainty in seasonality.    uncertainty_samples: Number of simulated draws used to estimate        uncertainty intervals.    """</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>            self<span class="token punctuation">,</span>            growth<span class="token operator">=</span><span class="token string">'linear'</span><span class="token punctuation">,</span>            changepoints<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>            n_changepoints<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span>            changepoint_range<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span>            yearly_seasonality<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span>            weekly_seasonality<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span>            daily_seasonality<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span>            holidays<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>            seasonality_mode<span class="token operator">=</span><span class="token string">'additive'</span><span class="token punctuation">,</span>            seasonality_prior_scale<span class="token operator">=</span><span class="token number">10.0</span><span class="token punctuation">,</span>            holidays_prior_scale<span class="token operator">=</span><span class="token number">10.0</span><span class="token punctuation">,</span>            changepoint_prior_scale<span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">,</span>            mcmc_samples<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>            interval_width<span class="token operator">=</span><span class="token number">0.80</span><span class="token punctuation">,</span>            uncertainty_samples<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">:</span></code></pre></details><ul><li><code>Prophet()</code> å‚æ•°è¯´æ˜ï¼š<ul><li><code>growth</code>: å­—ç¬¦ä¸² <code>"linear"</code> æˆ– <code>"logistic"</code>ï¼Œè¡¨ç¤º<font color="red">çº¿æ€§å¢é•¿è¶‹åŠ¿</font>æˆ–è€…<font color="red">é€»è¾‘å¢é•¿è¶‹åŠ¿</font>ã€‚</li><li><code>changepoints</code>: æ—¥æœŸå‹å‘é‡ï¼ŒæŒ‡å®š<font color="red">æ½œåœ¨æ‹ç‚¹</font>ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œå°†ä¼šè‡ªåŠ¨é€‰æ‹©æ½œåœ¨æ‹ç‚¹ã€‚ä¾‹å¦‚ï¼š<code>changepoints=["2014-01-01"]</code> æŒ‡å®š <code>'2014-01-01'</code> è¿™ä¸€å¤©æ˜¯æ½œåœ¨çš„ <code>changepoints</code>ã€‚</li><li><code>n_changepoints</code>: è¡¨ç¤º <code>changepoints</code> çš„<font color="red">æ•°é‡å¤§å°</font>ï¼Œå¦‚æœ <code>changepoints</code> æŒ‡å®šï¼Œè¯¥ä¼ å…¥å‚æ•°å°†ä¸ä¼šè¢«ä½¿ç”¨ã€‚å¦‚æœ <code>changepoints</code> ä¸æŒ‡å®šï¼Œå°†ä¼šä»è¾“å…¥çš„å†å²æ•°æ®å‰ $80%$ ä¸­é€‰å– $25$ ä¸ªï¼ˆä¸ªæ•°ç”± <code>n_changepoints</code> ä¼ å…¥å‚æ•°å†³å®šï¼‰æ½œåœ¨æ”¹å˜ç‚¹ã€‚</li><li><code>changepoint_range</code>: ä¼°è®¡è¶‹åŠ¿å˜åŒ–ç‚¹çš„<font color="red">å†å²æ¯”ä¾‹</font>ã€‚å¦‚æœæŒ‡å®šäº† <code>changepoints</code>ï¼Œåˆ™ä¸ä½¿ç”¨ã€‚</li><li><code>yearly_seasonality</code>: æŒ‡å®šæ˜¯å¦<font color="red">åˆ†ææ•°æ®çš„å¹´å­£èŠ‚æ€§</font>ï¼Œå¦‚æœä¸º <code>True</code>ï¼Œé»˜è®¤å–å‚…é‡Œå¶é¡¹ä¸º $10$ï¼Œæœ€åä¼šè¾“å‡º<code>yearly_trend, yearly_upper, yearly_lower</code> ç­‰æ•°æ®ã€‚</li><li><code>weekly_seasonality</code>: æŒ‡å®šæ˜¯å¦<font color="red">åˆ†ææ•°æ®çš„å‘¨å­£èŠ‚æ€§</font>ï¼Œå¦‚æœä¸º <code>True</code>ï¼Œé»˜è®¤å–å‚…é‡Œå¶é¡¹ä¸º $10$ï¼Œæœ€åä¼šè¾“å‡º<code>weekly_trend, weekly_upper, weekly_lower</code> ç­‰æ•°æ®ã€‚</li><li><code>daily_seasonality</code>: æŒ‡å®šæ˜¯å¦<font color="red">åˆ†ææ•°æ®çš„å¤©å­£èŠ‚æ€§</font>ï¼Œå¦‚æœä¸º <code>True</code>ï¼Œé»˜è®¤å–å‚…é‡Œå¶é¡¹ä¸º $10$ï¼Œæœ€åä¼šè¾“å‡º<code>daily_trend, daily_upper, daily_lower</code> ç­‰æ•°æ®ã€‚</li><li><code>holidays</code>: ä¼ å…¥ <code>DataFrame</code> æ ¼å¼çš„æ•°æ®ã€‚è¿™ä¸ªæ•°æ®åŒ…å«æœ‰ <code>holiday</code> åˆ— (<code>string</code>) å’Œ <code>ds</code> (<code>date</code>ç±»å‹) å’Œå¯é€‰åˆ— <code>lower_window</code> å’Œ <code>upper_window</code> æ¥æŒ‡å®šè¯¥æ—¥æœŸçš„ <code>lower_window</code> æˆ–è€… <code>upper_window</code> èŒƒå›´å†…éƒ½è¢«åˆ—ä¸ºå‡æœŸã€‚<code>lower_window = -2</code> å°†åŒ…æ‹¬å‰ $2$ å¤©çš„æ—¥æœŸä½œä¸ºå‡æœŸã€‚ï¼ˆé»˜è®¤<code>None</code>ï¼‰</li><li><code>seasonality_mode</code>: <font color="red">å­£èŠ‚æ¨¡å‹</font> <code>"additive"</code>(default) or <code>"multiplicative"</code>ã€‚</li><li><code>seasonality_prior_scale</code>: è°ƒèŠ‚<font color="red">å­£èŠ‚æ€§ç»„ä»¶çš„å¼ºåº¦</font>ã€‚å€¼è¶Šå¤§ï¼Œæ¨¡å‹å°†é€‚åº”æ›´å¼ºçš„å­£èŠ‚æ€§æ³¢åŠ¨ï¼Œå€¼è¶Šå°ï¼Œè¶ŠæŠ‘åˆ¶å­£èŠ‚æ€§æ³¢åŠ¨ã€‚</li><li><code>holidays_prior_scale</code>: è°ƒèŠ‚<font color="red">èŠ‚å‡æ—¥æ¨¡å‹ç»„ä»¶çš„å¼ºåº¦</font>ã€‚å€¼è¶Šå¤§ï¼Œè¯¥èŠ‚å‡æ—¥å¯¹æ¨¡å‹çš„å½±å“è¶Šå¤§ï¼Œå€¼è¶Šå°ï¼ŒèŠ‚å‡æ—¥çš„å½±å“è¶Šå°ã€‚</li><li><code>changepoint_prior_scale</code>: <font color="red">å¢é•¿è¶‹åŠ¿æ¨¡å‹çš„çµæ´»åº¦</font>ã€‚è°ƒèŠ‚ <code>changepoint</code> é€‰æ‹©çš„çµæ´»åº¦ï¼Œå€¼è¶Šå¤§é€‰æ‹©çš„ <code>changepoint</code> è¶Šå¤šï¼Œä½¿æ¨¡å‹å¯¹å†å²æ•°æ®çš„æ‹Ÿåˆç¨‹åº¦å˜å¼ºï¼Œç„¶è€Œä¹Ÿå¢åŠ äº†è¿‡æ‹Ÿåˆçš„é£é™©ã€‚</li><li><code>mcmc_samples</code>: <font color="red">mcmcé‡‡æ ·</font>ï¼Œç”¨äºè·å¾—é¢„æµ‹æœªæ¥çš„ä¸ç¡®å®šæ€§ã€‚è‹¥å¤§äº $0$ï¼Œå°†åšmcmcæ ·æœ¬çš„å…¨è´å¶æ–¯æ¨ç†ï¼Œå¦‚æœä¸º $0$ï¼Œå°†åšæœ€å¤§åéªŒä¼°è®¡ã€‚</li><li><code>interval_width</code>: è¡¡é‡<font color="red">æœªæ¥æ—¶é—´å†…è¶‹åŠ¿æ”¹å˜çš„ç¨‹åº¦</font>ã€‚è¡¨ç¤ºé¢„æµ‹æœªæ¥æ—¶ä½¿ç”¨çš„è¶‹åŠ¿é—´éš”å‡ºç°çš„é¢‘ç‡å’Œå¹…åº¦ä¸å†å²æ•°æ®çš„ç›¸ä¼¼åº¦ï¼Œå€¼è¶Šå¤§è¶Šç›¸ä¼¼ã€‚å½“ <code>mcmc_samples = 0</code> æ—¶ï¼Œè¯¥å‚æ•°ä»…ç”¨äºå¢é•¿è¶‹åŠ¿æ¨¡å‹çš„æ”¹å˜ç¨‹åº¦ï¼Œå½“ <code>mcmc_samples &gt; 0</code> æ—¶ï¼Œè¯¥å‚æ•°ä¹ŸåŒ…æ‹¬äº†å­£èŠ‚æ€§è¶‹åŠ¿æ”¹å˜çš„ç¨‹åº¦ã€‚</li><li><code>uncertainty_samples</code>: ç”¨äº<font color="red">ä¼°è®¡ä¸ç¡®å®šæ€§åŒºé—´çš„æ¨¡æ‹ŸæŠ½å–æ•°</font></li></ul></li></ul><h3 id="make-future-dataframe-å‡½æ•°"><a href="#make-future-dataframe-å‡½æ•°" class="headerlink" title="make_future_dataframe() å‡½æ•°"></a><code>make_future_dataframe()</code> å‡½æ•°</h3><p>ä½œç”¨ï¼šå¯¹æ¨¡å‹å¯¹è±¡å’Œè‹¥å¹²æ—¶æ®µè¿›è¡Œé¢„æµ‹ï¼Œå¹¶ç”Ÿæˆåˆé€‚çš„æ—¶é—´æ•°æ®å¸§ã€‚</p><br><details><summary>æºä»£ç ï¼š</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">make_future_dataframe</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> periods<span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'D'</span><span class="token punctuation">,</span> include_history<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""Simulate the trend using the extrapolated generative model.    Parameters    ----------    periods: Int number of periods to forecast forward.    freq: Any valid frequency for pd.date_range, such as 'D' or 'M'.    include_history: Boolean to include the historical dates in the data        frame for predictions.    Returns    -------    pd.Dataframe that extends forward from the end of self.history for the    requested number of periods.    """</span></code></pre></details><ul><li><code>make_future_dataframe()</code> å‚æ•°è¯´æ˜ï¼š<ul><li><code>periods</code>: <font color="red">å‘å‰é¢„æµ‹æ­¥æ•°</font></li><li><code>freq</code>: <font color="red">é¢„æµ‹å•ä½</font>ï¼Œå°æ—¶ä¸º <code>'H'</code>ï¼Œå¤©ä¸º <code>'D'</code>ï¼Œæœˆä¸º <code>'M'</code></li><li><code>include_history</code>: <font color="red">æ˜¯å¦åŒ…å«å†å²æ•°æ®çš„é¢„æµ‹</font></li></ul></li></ul><h3 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h3><ul><li>STEP<ol><li>åŠ è½½å†å²æ•°æ® <code>df = pd.DataFrame()</code></li><li>åˆå§‹åŒ– <code>m = Prophet()</code></li><li>æ‹Ÿåˆ <code>m.fit(df)</code></li><li>åŠ è½½/ç”Ÿæˆé¢„æµ‹æ•°æ® <code>future = pd.DataFrame()</code> / <code>future = m.make_future_dataframe()</code></li><li>é¢„æµ‹ <code>forecast  = m.predict(future)</code></li><li>ç»˜å›¾ <code>m.plot(forecast )</code> å’Œ <code>m.plot_components(forecast )</code></li></ol></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo å¯¼å…¥åº“</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">from</span> fbprophet <span class="token keyword">import</span> Prophet<span class="token comment"># todo åŠ è½½æ•°æ®</span>data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./example_wp_log_peyton_manning.csv'</span><span class="token punctuation">)</span><span class="token comment"># todo æŸ¥çœ‹æ•°æ®</span>data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># todo ä¿®æ”¹æ•°æ®åˆ—å</span>df <span class="token operator">=</span> df<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'timestamp'</span><span class="token punctuation">:</span> <span class="token string">'ds'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">:</span> <span class="token string">'y'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment"># todo ä¿®æ”¹æ—¶é—´æ•°æ®æ ¼å¼ï¼šå¦‚æœ 'timestamp' æ˜¯ä½¿ç”¨ unixtime æ¥è®°å½•çš„ï¼Œéœ€è¦ä¿®æ”¹æˆ YYYY-MM-DD hh:mm:ss çš„å½¢å¼</span>df<span class="token punctuation">[</span><span class="token string">'ds'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'ds'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> unit<span class="token operator">=</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token comment"># todo æ—¶é—´åºåˆ—éœ€è¦è¿›è¡Œå½’ä¸€åŒ–ï¼š</span>df<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span> <span class="token operator">-</span> df<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># todo åˆå§‹åŒ–</span>m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># todo æ‹Ÿåˆ</span>m<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token comment"># todo é¢„æµ‹ï¼šç”Ÿæˆé¢„æµ‹æ—¶é—´æ•°æ®</span>future <span class="token operator">=</span> m<span class="token punctuation">.</span>make_future_dataframe<span class="token punctuation">(</span>periods<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">"""periodsï¼šéœ€è¦é¢„æµ‹çš„ç‚¹æ•°ï¼š30ä¸ªfreqï¼šæ—¶é—´åºåˆ—çš„é¢‘ç‡ï¼šæŒ‰æœˆæ¥æ”¶é›†çš„æ—¶é—´åºåˆ—ï¼ˆ'min'åˆ†é’Ÿï¼‰"""</span><span class="token comment"># todo å±•ç¤ºé¢„æµ‹å€¼æ•°æ®</span>future<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># todo é¢„æµ‹</span>forecast <span class="token operator">=</span> m<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>future<span class="token punctuation">)</span><span class="token comment"># todo ç»˜åˆ¶é¢„æµ‹å›¾</span>m<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>forecast<span class="token punctuation">)</span><span class="token comment"># todo ç”»å‡ºæ—¶é—´åºåˆ—çš„åˆ†é‡</span>m<span class="token punctuation">.</span>plot_components<span class="token punctuation">(</span>forecast<span class="token punctuation">)</span></code></pre><p>ç»˜åˆ¶å›¾ï¼šï¼ˆç•¥ï¼‰</p><ul><li>STEP<ol start="7"><li>ç»˜åˆ¶è¯¦ç»†æŒ‡æ ‡å›¾ï¼ˆå¯äº¤äº’ï¼Œç»“åˆ plotlyï¼‰</li></ol></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo å¯¼å…¥åº“</span><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> plotly<span class="token punctuation">.</span>express <span class="token keyword">as</span> px<span class="token comment"># todo è½½å…¥æ•°æ®</span>df <span class="token operator">=</span> forecast<span class="token comment"># todo æŸ¥çœ‹æ•°æ®</span>dfdf<span class="token punctuation">.</span>infodf<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># todo ç»˜åˆ¶é¢„æµ‹å€¼ã€é¢„æµ‹ä¸Šä¸‹é™å€¼</span>fig <span class="token operator">=</span> px<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>    data_frame<span class="token operator">=</span>df<span class="token punctuation">,</span>     x<span class="token operator">=</span><span class="token string">"ds"</span><span class="token punctuation">,</span>     y<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'yhat'</span><span class="token punctuation">,</span> <span class="token string">"yhat_lower"</span><span class="token punctuation">,</span> <span class="token string">"yhat_upper"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token comment"># todo å±•ç¤º</span>fig<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>ç»˜åˆ¶å›¾ï¼š</p><img src="/2022/06/29/fbprophet/fbprophet_plotly.png"><h3 id="å‚æ•°è®¾ç½®"><a href="#å‚æ•°è®¾ç½®" class="headerlink" title="å‚æ•°è®¾ç½®"></a>å‚æ•°è®¾ç½®</h3><ul><li>å˜ç‚¹</li></ul><pre class="language-python" data-language="python"><code class="language-python">m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>n_changepoints<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span>m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>changepoint_range<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">)</span>m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>changepoint_prior_scale<span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">)</span>m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>changepoints<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'2014-01-01'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># å˜ç‚¹çš„ä½œå›¾ï¼š</span><span class="token keyword">from</span> fbprophet<span class="token punctuation">.</span>plot <span class="token keyword">import</span> add_changepoints_to_plotfig <span class="token operator">=</span> m<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>forecast<span class="token punctuation">)</span>a <span class="token operator">=</span> add_changepoints_to_plot<span class="token punctuation">(</span>fig<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m<span class="token punctuation">,</span> forecast<span class="token punctuation">)</span></code></pre><ul><li>å‘¨æœŸæ€§</li></ul><pre class="language-python" data-language="python"><code class="language-python">m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>weekly_seasonality<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>m<span class="token punctuation">.</span>add_seasonality<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'monthly'</span><span class="token punctuation">,</span> period<span class="token operator">=</span><span class="token number">30.5</span><span class="token punctuation">,</span> fourier_order<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>weekly_seasonality<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>m<span class="token punctuation">.</span>add_seasonality<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'weekly'</span><span class="token punctuation">,</span> period<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> fourier_order<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> prior_scale<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span></code></pre><ul><li>èŠ‚å‡æ—¥</li></ul><pre class="language-python" data-language="python"><code class="language-python">playoffs <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token string">'holiday'</span><span class="token punctuation">:</span> <span class="token string">'playoff'</span><span class="token punctuation">,</span>  <span class="token string">'ds'</span><span class="token punctuation">:</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2008-01-13'</span><span class="token punctuation">,</span> <span class="token string">'2009-01-03'</span><span class="token punctuation">,</span> <span class="token string">'2010-01-16'</span><span class="token punctuation">,</span>                        <span class="token string">'2010-01-24'</span><span class="token punctuation">,</span> <span class="token string">'2010-02-07'</span><span class="token punctuation">,</span> <span class="token string">'2011-01-08'</span><span class="token punctuation">,</span>                        <span class="token string">'2013-01-12'</span><span class="token punctuation">,</span> <span class="token string">'2014-01-12'</span><span class="token punctuation">,</span> <span class="token string">'2014-01-19'</span><span class="token punctuation">,</span>                        <span class="token string">'2014-02-02'</span><span class="token punctuation">,</span> <span class="token string">'2015-01-11'</span><span class="token punctuation">,</span> <span class="token string">'2016-01-17'</span><span class="token punctuation">,</span>                        <span class="token string">'2016-01-24'</span><span class="token punctuation">,</span> <span class="token string">'2016-02-07'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token string">'lower_window'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token string">'upper_window'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span>superbowls <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token string">'holiday'</span><span class="token punctuation">:</span> <span class="token string">'superbowl'</span><span class="token punctuation">,</span>  <span class="token string">'ds'</span><span class="token punctuation">:</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2010-02-07'</span><span class="token punctuation">,</span> <span class="token string">'2014-02-02'</span><span class="token punctuation">,</span> <span class="token string">'2016-02-07'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token string">'lower_window'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token string">'upper_window'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span>holidays <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>playoffs<span class="token punctuation">,</span> superbowls<span class="token punctuation">)</span><span class="token punctuation">)</span>m <span class="token operator">=</span> Prophet<span class="token punctuation">(</span>holidays<span class="token operator">=</span>holidays<span class="token punctuation">,</span> holidays_prior_scale<span class="token operator">=</span><span class="token number">10.0</span><span class="token punctuation">)</span></code></pre><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>åšå®¢å›­ï¼š<a href="https://www.cnblogs.com/hahahu/p/11753804.html">python å®‰è£…fbprophetæ¨¡å—çš„è‰°è¾›å†ç¨‹</a>ï¼ˆå®‰è£…å¼ºæ¨ï¼ï¼‰<br>CSDNï¼š<a href="https://blog.csdn.net/qq_23860475/article/details/81354467">python-fbprophetæ€»ç»“</a>ï¼ˆå‚æ•°è¯´æ˜ + ä»£ç ï¼‰</p><p>è¿™ä¿©å·®ä¸å¤šï¼šåŸç† + ä½¿ç”¨<br>æ ‡ç‚¹ç¬¦ï¼š<a href="https://www.biaodianfu.com/fbprophet.html">Facebookæ—¶é—´åºåˆ—é¢„æµ‹å·¥å…·fbprophet</a>ï¼ˆè¿™ä¸ªå†…å®¹æ›´å¤šä¸€ç‚¹ï¼‰<br>çŸ¥ä¹ï¼š<a href="https://zhuanlan.zhihu.com/p/52330017">Facebook æ—¶é—´åºåˆ—é¢„æµ‹ç®—æ³• Prophet çš„ç ”ç©¶</a></p><p>è¿™ä¿©å·®ä¸å¤šï¼šä¾‹å­å¤š<br>åšå®¢å›­ï¼š<a href="https://www.cnblogs.com/bonelee/p/9577432.html">facebookå¼€æºçš„prophetæ—¶é—´åºåˆ—é¢„æµ‹å·¥å…·</a>ï¼ˆè¿™ä¸ªå†…å®¹æ›´å¤šä¸€ç‚¹ï¼‰<br>CSDNï¼š<a href="https://blog.csdn.net/sinat_26917383/article/details/57419862">R+pythonï¸±Facebookå¤§è§„æ¨¡æ—¶åºé¢„æµ‹ã€çœŸã€ç¥å™¨â€”â€”Prophetï¼ˆéåœ°ä»£ç å›¾ï¼‰</a></p><p>åšå®¢å›­ï¼š<a href="https://www.cnblogs.com/foley/p/5582358.html">pythonæ—¶é—´åºåˆ—åˆ†æ</a>ï¼ˆé Prophet çš„æ—¶åºåˆ†æï¼‰</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¶é—´åºåˆ—é¢„æµ‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬9æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬9æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬9æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬9æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬9æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="BGP"><a href="#BGP" class="headerlink" title="BGP"></a>BGP</h2><h3 id="åŸç†ï¼šBGPè‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±åè®®"><a href="#åŸç†ï¼šBGPè‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±åè®®" class="headerlink" title="åŸç†ï¼šBGPè‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±åè®®"></a><strong>åŸç†ï¼šBGPè‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±åè®®</strong></h3><p>BGPå¤–éƒ¨è·¯ç”±åè®®ï¼Œæ˜¯ä¸€ç§å¢å¼ºçš„è·ç¦»çŸ¢é‡è·¯ç”±åè®®ã€‚</p><p>å¯ä»¥æ ¹æ®é“¾è·¯çŠ¶æ€æ•°æ®åº“ç”»å‡ºæ•´ä¸ªç½‘ç»œæ‹“æ‰‘å›¾ã€‚</p><p>BGPè¾¹ç•Œç½‘å…³åè®®ï¼Œç”¨äºASä¸ASä¹‹é—´çš„è·¯ç”±åè®®</p><p>BGPï¼šæ”¯æŒCIDR<br>ä¼ è¾“åè®®ï¼š<strong>TCP</strong>ï¼Œç«¯å£å·ï¼š<strong>179</strong><br>æ— éœ€å‘¨æœŸæ€§æ›´æ–°<br>è·¯ç”±æ›´æ–°ï¼šåªå‘é€å¢é‡è·¯ç”±<br>å‘¨æœŸæ€§å‘é€keepAliveæŠ¥æ–‡æ£€æµ‹TCPè¿é€šæ€§</p><p>BGPæŠ¥æ–‡(5ç§)ï¼š</p><ul><li>OpenåŒ…ï¼šè´Ÿè´£å’Œå¯¹ç­‰ä½“peerå»ºç«‹é‚»å±…å…³ç³»ã€‚(<strong>å»ºç«‹</strong>)</li><li>KeepAliveï¼šè¯¥æ¶ˆæ¯åœ¨å¯¹ç­‰ä½“ä¹‹é—´å‘¨æœŸæ€§åœ°å‘é€ï¼Œç”¨ä»¥ç»´æŠ¤è¿æ¥ã€‚(<strong>ç»´æŠ¤</strong>)</li><li>Updateï¼šè¯¥æ¶ˆæ¯è¢«ç”¨æ¥åœ¨BGPå¯¹ç­‰ä½“ä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯ã€‚(<strong>æ›´æ–°</strong>)</li><li>Notificationï¼šå½“ BGP Speakeræ£€æµ‹åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œå°±å‘é€è¯¥æ¶ˆæ¯ç»™å¯¹ç­‰ä½“ã€‚(<strong>çº é”™</strong>)</li><li>Route-refreshï¼šç”¨æ¥é€šçŸ¥å¯¹ç­‰ä½“è‡ªå·±æ”¯æŒè·¯ç”±åˆ·æ–°èƒ½åŠ›ã€‚</li></ul><p>BGPè·¯ç”±ä¼ é€’</p><p>EBGPæ°´å¹³åˆ†å‰²ï¼šç»è¿‡é‚£ä¸ªASï¼Œåè¿‡æ¥ä¸èƒ½å†è¿›å…¥è¯¥AS<br>IBGPæ°´å¹³åˆ†å‰²ï¼šé€šè¿‡IBGPå­¦ä¹ åˆ°çš„è·¯ç”±æ¡ç›®åè¿‡æ¥ä¸èƒ½å‘ç»™IBGP</p><p>ASå·<br>å…¬æœ‰ASï¼š1 ~ 64511<br>ç§æœ‰ASï¼š64512 ~ 65535</p><p>BGPä¸¤ç§é‚»å±…å…³ç³»ï¼šIBGPã€EBGP<br>å½“BGPè¢«ç”¨åœ¨ä¸€ä¸ªASå†…éƒ¨ï¼šIBGP<br>å½“BGPè¢«ç”¨åœ¨ASä¹‹é—´ï¼šEBGP</p><p>BGPåªèƒ½ä½¿ç”¨ä¸€ä¸ªè¿›ç¨‹å·</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šå±•ç¤ºBGPåªèƒ½ä½¿ç”¨ä¸€ä¸ªè¿›ç¨‹å·</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>bgp <span class="token number">2</span>Error: BGP is already running. The AS is <span class="token number">1</span>.</code></pre><p>æ³¨ï¼š<br>1.BGPå®£å‘Šè·¯ç”±ä¿¡æ¯å¿…é¡»å’Œè·¯ç”±è¡¨ä¸€è‡´<br>2.BGPå»ºç«‹é‚»å±…å…³ç³»å»ºè®®ç›´æ¥ä½¿ç”¨ç‰©ç†æ¥å£<br>3.BGPå»ºç«‹é‚»å±…å…³ç³»ï¼š<code>peer [å¯¹æ–¹IP] as-number [ASå·]</code><br>4.BGPé‚»å±…å…³ç³»å»ºç«‹30s-60s</p><h3 id="å®éªŒä¸€-1-ï¼šBGPç®€å•é…ç½®"><a href="#å®éªŒä¸€-1-ï¼šBGPç®€å•é…ç½®" class="headerlink" title="å®éªŒä¸€$_1$ï¼šBGPç®€å•é…ç½®"></a><strong>å®éªŒä¸€$_1$ï¼šBGPç®€å•é…ç½®</strong></h3><p>ç›®çš„ï¼šAR2å’ŒAR1å»ºç«‹é‚»å±…å…³ç³»ï¼Œä¸”AR1çš„ç¯å›åœ°å€åœ¨AR2è·¯ç”±è¡¨é¡¹ä¸­</p><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><p>æ‰“å¼€è€å¸ˆçš„æ‹“æ‰‘</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/7a748725d42144b1aaa0027e44e0fec9.png"><blockquote><p>è¯´æ˜ï¼š<br>1.ä¸¤ä¸ªè·¯ç”±å™¨é—´çš„ç½‘æ®µåˆ†åˆ«æ˜¯ï¼š<code>12.1.1.0</code>ã€<code>23.1.1.0</code>ã€<code>34.1.1.0</code>ã€<code>64.1.1.0</code><br>2.æ¯ä¸ªè·¯ç”±å™¨ä¸Šé¢éƒ½é…äº†ç¯å›åœ°å€</p></blockquote><ul><li><strong>STEP2.0ï¼š</strong> BGPå»ºç«‹é‚»å±…å…³ç³»</li></ul><p>BGPé‚»å±…å…³ç³»é€šè¿‡<strong>å•æ’­</strong>å»ºç«‹ï¼Œæ‰€ä»¥éœ€è¦<strong>æ‰‹åŠ¨</strong>æŒ‡å®šé‚»å±…</p><p><code>peer å¯¹æ–¹æ¥å£IPåœ°å€ as-number 16</code><br>å¯¹æ–¹ASå·ï¼š16</p><p>å¯ä»¥å…ˆåœ¨AR1å’ŒAR2ä¹‹é—´å¼€å¯æŠ“åŒ…</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šä¸ºå¯¹ç­‰ä½“é…ç½®ASå·</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>peer <span class="token number">12.1</span>.1.2 as-number <span class="token number">16</span><span class="token comment"># todo AR2ï¼šä¸ºå¯¹ç­‰ä½“é…ç½®ASå·</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>bgp <span class="token number">16</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">12.1</span>.1.1 as-number <span class="token number">1</span></code></pre><p>AR1è¿›è¡ŒBGPå®£å‘Šç½‘æ®µä¹‹å‰ï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹AR2çš„è·¯ç”±è¡¨ï¼Œå®£å‘Šä¹‹åå†æ¬¡æŸ¥çœ‹å³å¯çœ‹åˆ°AR2çš„è·¯ç”±è¡¨æ·»åŠ äº†AR1å®£å‘Šç½‘æ®µçš„è·¯ç”±æ¡ç›®ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># show é”™è¯¯å†™æ³•ï¼šAR1ï¼šBGPå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>network <span class="token number">1.1</span>.1.1 <span class="token number">24</span>  <span class="token comment"># å¿…é¡»æŒ‰ç…§è·¯ç”±è¡¨ä¸¥æ ¼å®£å‘Šï¼</span>Info: The network does not exist.</code></pre><ul><li><strong>STEP2.1ï¼š</strong> çœ‹ä¸€ä¸‹NotificationæŠ¥æ–‡(å¯ä»¥è·³è¿‡è¿™æ­¥)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šä¿®æ”¹ASå·</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>un bgp <span class="token number">1</span>Warning: All BGP configurations will be deleted. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>: y<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>peer <span class="token number">12.1</span>.1.2 as-number <span class="token number">166</span>  </code></pre><p>åœ¨wiresharkå¯ä»¥çœ‹åˆ°<code>NOTIFICATION</code>æŠ¥æ–‡ä¿¡æ¯ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/3560064be56b44eebd13750a3a4d78f8.png"><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šä¿®æ”¹å›åŸæ¥çš„ASå·</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>un bgp <span class="token number">1</span>Warning: All BGP configurations will be deleted. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>: y<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>peer <span class="token number">12.1</span>.1.2 as-number <span class="token number">16</span><span class="token comment"># æ³¨æ„æ­¤æ—¶è¿˜æ²¡æœ‰è¿›è¡ŒBGPå®£å‘Šè·¯ç”±ï¼</span></code></pre><ul><li><strong>STEP2.2ï¼š</strong> æŸ¥çœ‹BGPé‚»å±…çŠ¶æ€</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># TODO AR1ï¼šæŸ¥çœ‹BGPé‚»å±…çŠ¶æ€</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>dis bgp peer BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">12.1</span>.1.1 Local AS number <span class="token builtin class-name">:</span> <span class="token number">1</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">1</span>                Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">1</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv  <span class="token number">12.1</span>.1.2        <span class="token number">4</span>          <span class="token number">16</span>       <span class="token number">14</span>       <span class="token number">14</span>     <span class="token number">0</span> 00:12:45 Established       <span class="token number">0</span></code></pre><p>Connectè¯´æ˜æ­£åœ¨è¿›è¡ŒTCPä¸‰æ¬¡æ¡æ‰‹ï¼›Activeå’ŒConnectä¹‹é—´æ¥å›åˆ‡æ¢åˆ™æ£€æŸ¥ä¸¤ä¸ªè·¯ç”±å™¨ä¹‹é—´å•æ’­æ˜¯å¦å¯è¾¾</p><table><thead><tr><th align="center">å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">Peer</td><td>é‚»å±…åœ°å€</td></tr><tr><td align="center">V</td><td>é‚»å±…IPç‰ˆæœ¬</td></tr><tr><td align="center">AS</td><td>é‚»å±…ASå·</td></tr><tr><td align="center">State</td><td>ä¸é‚»å±…ä¹‹é—´çš„é“¾è·¯çŠ¶æ€</td></tr><tr><td align="center">PrefRcv</td><td>ä»è¯¥é‚»å±…æ¥æ”¶çš„è·¯ç”±ä¿¡æ¯æ¡æ•°</td></tr></tbody></table><ul><li><strong>STEP2.3ï¼š</strong> BGPå®£å‘Šç½‘æ®µ</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šBGPå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>network <span class="token number">1.1</span>.1.1 <span class="token number">32</span></code></pre><ul><li><strong>STEP2.4ï¼š</strong> æŸ¥çœ‹BGPé‚»å±…ä¿¡æ¯åŠå…¶BGPå­¦ä¹ åˆ°çš„è·¯ç”±ä¿¡æ¯</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPé‚»å±…</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis bgp peer BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">12.1</span>.1.2 Local AS number <span class="token builtin class-name">:</span> <span class="token number">16</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">1</span>                Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">1</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv  <span class="token number">12.1</span>.1.1        <span class="token number">4</span>           <span class="token number">1</span>       <span class="token number">27</span>       <span class="token number">27</span>     <span class="token number">0</span> 00:24:20 Established       <span class="token number">1</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>  <span class="token comment"># å¯ä»¥çœ‹åˆ°ä»å¯¹æ–¹å­¦ä¹ åˆ°ä¸€æ¡è·¯ç”±æ¡ç›®</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPå­¦ä¹ åˆ°çš„è·¯ç”±</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>   <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>                     <span class="token number">0</span>      1i</code></pre><table><thead><tr><th align="center">ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">*</td><td>è¡¨ç¤ºä¸‹ä¸€è·³æœ‰æ•ˆ/å¯è¾¾</td></tr></tbody></table><blockquote><p>|è¡¨ç¤ºæŒ‡å‘çš„æœ€ä¼˜çš„è·¯ç”±æ¡ç›®(å½“æœ‰å¤šæ¡è·¯ç”±æ¡ç›®ï¼Œé€‰æ‹©æœ€ä¼˜çš„)<br>(ç©ºæ ¼)|è¡¨ç¤ºEBGPå­¦ä¹ åˆ°çš„è·¯ç”±æ¡ç›®<br>i|è¡¨ç¤ºé€šè¿‡IBGPå­¦ä¹ åˆ°çš„è·¯ç”±æ¡ç›®<br>Path|è·¯å¾„(ASå·)<br>Ogn|èµ·æºå±æ€§</p></blockquote><table><thead><tr><th align="center">Ogn</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">?</td><td>é€šè¿‡é‡åˆ†å‘å­¦ä¹ åˆ°</td></tr><tr><td align="center">i</td><td>é€šè¿‡BGPå­¦ä¹ åˆ°</td></tr><tr><td align="center">e</td><td>é€šè¿‡EGP(BGPå‰èº«)å­¦ä¹ åˆ°</td></tr></tbody></table><h3 id="å®éªŒä¸€-2-ï¼šBGPæ›´æ–°æº"><a href="#å®éªŒä¸€-2-ï¼šBGPæ›´æ–°æº" class="headerlink" title="å®éªŒä¸€$_2$ï¼šBGPæ›´æ–°æº"></a><strong>å®éªŒä¸€$_2$ï¼šBGPæ›´æ–°æº</strong></h3><p>åœ¨ä¸Šä¸€ä¸ªå®éªŒåŸºç¡€ä¸Šç»§ç»­</p><p>ç›®çš„ï¼šè®©2ã€4ç¯å›å£å»ºç«‹IGBPé‚»å±…å…³ç³»</p><ul><li><strong>STEP3.0ï¼š</strong> BGPå»ºç«‹é‚»å±…å…³ç³»</li></ul><p>BGPä¸éœ€è¦é…ç½®ä¸­é—´è·¯ç”±å™¨<br>IBGPæŒ‡ASå·ï¼Œå¦‚æœä¸¤ä¸ªè·¯ç”±å™¨éƒ½æ˜¯AS 200ï¼Œäº’ç›¸æŒ‡å‘å¯¹æ–¹ï¼ŒASå·å†™200å³å¯<br>ä¸€èˆ¬IBGPå»ºç«‹é‚»å±…å…³ç³»å–œæ¬¢ä½¿ç”¨ç¯å›å£ï¼Œ</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®BGPå¯¹ç­‰ä½“</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>bgp <span class="token number">16</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">4.4</span>.4.4 as-number <span class="token number">16</span><span class="token comment"># todo AR4ï¼šé…ç½®BGPå¯¹ç­‰ä½“</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>bgp <span class="token number">16</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">2.2</span>.2.2 as-number <span class="token number">16</span></code></pre><p>æ­¤æ—¶ï¼Œè™½ç„¶é…ç½®äº†BGPï¼Œä½†æ˜¯é‚»å±…å…³ç³»æ— æ³•å»ºç«‹</p><ul><li><strong>STEP3.1ï¼š</strong> æŠ“åŒ…åˆ†æåŸå› </li></ul><p>åœ¨AR2å’ŒAR3ä¹‹é—´çš„çº¿è·¯å¼€å§‹æŠ“åŒ…ï¼Œçœ‹åˆ°ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/761187adb6954ec98b767489c81572a4.png"><blockquote><p>ç°è±¡ï¼šåŒæ–¹ä¸æ–­åœ°è¿›è¡ŒTCPè¿æ¥å»ºç«‹çš„è¯·æ±‚å’Œæ‹’ç»<br>åŸå› ï¼šæºåœ°å€ä¸æ˜¯BGPå»ºç«‹é‚»å±…å…³ç³»çš„åœ°å€ï¼Œæ‰€ä»¥æ— æ³•å»ºç«‹é‚»å±…å…³ç³»</p></blockquote><ul><li><strong>STEP3.2ï¼š</strong> é…ç½®æ›´æ–°æº</li></ul><p>IGBPè·Ÿå¯¹æ–¹å»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œæ³¨æ„è¦æŒ‡å®šæºåœ°å€ï¼Œä¸æŒ‡å®šçš„è¯ï¼Œå°±ç”¨<strong>å‡ºæ¥å£</strong>ä½œä¸ºæºIP<br>è‹¥IBGPä½¿ç”¨çš„ä¸æ˜¯ç‰©ç†æ¥å£æˆ–è€…ç‰©ç†æ¥å£å’Œå»ºç«‹é‚»å±…å…³ç³»çš„è·¯ç”±çš„å‡ºæ¥å£ä¸ä¸€æ ·ï¼Œåˆ™è¦ä½¿ç”¨<strong>æ›´æ–°æº</strong>(connected interface)æŒ‡å®šä¸€ä¸‹æºåœ°å€ï¼Œå¦åˆ™æ— æ³•å»ºç«‹é‚»å±…å…³ç³»</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŒ‡å®šæ›´æ–°æº</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">4.4</span>.4.4 connect-interface LoopBack <span class="token number">0</span></code></pre><p>å› ä¸ºåªåœ¨AR2é…ç½®äº†æ›´æ–°æºï¼Œæ‰€ä»¥åªèƒ½ç­‰å¾…AR2å‘èµ·TCPè¿æ¥ï¼Œæ„å‘³ç€AR2æ‹’ç»AR4å‘é€è¿‡æ¥çš„TCPå»ºç«‹è¿æ¥è¯·æ±‚ã€‚åœ¨wiresharkä¸­èƒ½çœ‹åˆ°2.2.2.2å’Œ4.4.4.4å»ºç«‹TCPè¿æ¥çš„æŠ¥æ–‡</p><h3 id="å®éªŒä¸€-3-ï¼šå®ç°äº’é€š"><a href="#å®éªŒä¸€-3-ï¼šå®ç°äº’é€š" class="headerlink" title="å®éªŒä¸€$_3$ï¼šå®ç°äº’é€š"></a><strong>å®éªŒä¸€$_3$ï¼šå®ç°äº’é€š</strong></h3><p><strong>ç›®çš„</strong>ï¼šå»ºç«‹AR4å’ŒAR6çš„BGPé‚»å±…å…³ç³»ï¼Œä½¿ç”¨ç¯å›å£åœ°å€å»ºç«‹BGPé‚»å±…å…³ç³»<br>AR4ä½¿ç”¨ç¯å›åœ°å€<code>4.4.4.4</code>ï¼›AR6ä½¿ç”¨ç¯å›åœ°å€<code>6.6.6.6</code></p><ul><li><strong>STEP4.0ï¼š</strong> é…ç½®ç¯å›åœ°å€</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šé…ç½®ç¯å›åœ°å€</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>int lo <span class="token number">10</span><span class="token punctuation">[</span>R4-LoopBack10<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">44.44</span>.44.44 <span class="token number">32</span><span class="token punctuation">[</span>R4-LoopBack10<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R4<span class="token punctuation">]</span>ip route-static <span class="token number">66.66</span>.66.66 <span class="token number">32</span> <span class="token number">64.1</span>.1.6<span class="token comment"># todo AR6ï¼šé…ç½®ç¯å›åœ°å€</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>int lo <span class="token number">10</span><span class="token punctuation">[</span>R6-LoopBack10<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">66.66</span>.66.66 <span class="token number">32</span><span class="token punctuation">[</span>R6-LoopBack10<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R6<span class="token punctuation">]</span>ip route-static <span class="token number">44.44</span>.44.44 <span class="token number">32</span> <span class="token number">64.1</span>.1.4</code></pre><ul><li><strong>STEP4.1ï¼š</strong> æµ‹è¯•è¿é€š</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šæµ‹è¯•è¿é€š</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>ping -a <span class="token number">44.44</span>.44.44 <span class="token number">66.66</span>.66.66</code></pre><p>èƒ½pingé€šã€‚</p><ul><li><strong>STEP4.2ï¼š</strong> BGPå»ºç«‹é‚»å±…å…³ç³»</li></ul><p>å…ˆå†™<code>as-number</code>ï¼Œå†å†™<code>connect-interface</code>ï¼Œå‘½ä»¤é¡ºåºä¸èƒ½å</p><p>è¿™é‡Œè€å¸ˆçš„é…ç½®è·Ÿæ‹“æ‰‘å›¾ä¸åŒï¼Œç›´æ¥åˆ é™¤åŸæ¥BGPçš„é…ç½®å³å¯ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šåˆ é™¤åŸBGPé…ç½®</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>un bgp <span class="token number">24</span>Warning: All BGP configurations will be deleted. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>: y</code></pre><p>ç„¶åé…ç½®å»ºç«‹BGPé‚»å±…å…³ç³»ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šé…ç½®å»ºç«‹BGPé‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>bgp <span class="token number">6</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>peer <span class="token number">44.44</span>.44.44 as-number <span class="token number">16</span><span class="token comment"># todo AR4ï¼šé…ç½®å»ºç«‹BGPé‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>bgp <span class="token number">16</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">66.66</span>.66.66 as-number <span class="token number">6</span></code></pre><ul><li><strong>STEP4.3ï¼š</strong> æŸ¥è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPé‚»å±…</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>dis bgp peer BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">34.1</span>.1.4 Local AS number <span class="token builtin class-name">:</span> <span class="token number">16</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">2</span>                Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">1</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv  <span class="token number">2.2</span>.2.2         <span class="token number">4</span>          <span class="token number">16</span>       <span class="token number">25</span>       <span class="token number">24</span>     <span class="token number">0</span> 00:22:51 Established       <span class="token number">1</span>  <span class="token number">6.6</span>.6.6         <span class="token number">4</span>           <span class="token number">6</span>        <span class="token number">0</span>        <span class="token number">0</span>     <span class="token number">0</span> 00:10:41        Idle       <span class="token number">0</span><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPå­¦ä¹ åˆ°çš„è·¯ç”±</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">34.1</span>.1.4  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn   i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      1i<span class="token comment"># todo AR4ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">16</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">16</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  OSPF    <span class="token number">10</span>   <span class="token number">2</span>           D   <span class="token number">34.1</span>.1.3        GigabitEthernet0/0/0        <span class="token number">3.3</span>.3.3/32  OSPF    <span class="token number">10</span>   <span class="token number">1</span>           D   <span class="token number">34.1</span>.1.3        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.4/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0        Â·Â·Â·Â·Â·Â·</code></pre><p>iï¼šä»BGPå­¦ä¹ åˆ°çš„åœ°å€<br>ä½†æ˜¯è·¯ç”±è¡¨ä¸­æ²¡æœ‰è¯¥åœ°å€</p><p>æ‰€ä»¥æ­¤æ—¶æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1.AR4å’ŒAR6é‚»å±…å…³ç³»æ— æ³•å»ºç«‹<br>2.AR4èƒ½é€šè¿‡AR2å­¦ä¹ <code>1.1.1.1</code>è·¯ç”±æ¡ç›®ï¼Œä½†æ˜¯æ— æ³•åŠ è¡¨ï¼Œå› ä¸ºAR4å­¦ä¹ è¯¥åœ°å€åŠå…¶ä¸‹ä¸€è·³ï¼Œè€ŒAR2çš„<code>1.1.1.1</code>çš„ä¸‹ä¸€è·³æ˜¯AR2çš„ç›´è¿è·¯ç”±ï¼Œä½†æ˜¯å¯¹AR4æ¥è¯´æ˜¯ä¸€ä¸ªä¸å¯è¾¾åœ°å€ï¼Œæ‰€ä»¥ä¸åŠ åˆ°AR4è·¯ç”±è¡¨ä¸­</p><ul><li><strong>STEP4.4ï¼š</strong> è®¾ç½®ä¸‹ä¸€è·³åœ°å€</li></ul><p>åœ¨AR2ä¸Šï¼ŒæŠŠå‡ºAR2çš„åœ°å€è®¾ç½®ä¸ºAR2æœ¬åœ°åœ°å€ï¼Œä¸”ä¿è¯è¯¥åœ°å€æœ‰æ•ˆå¯è¾¾</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šè®¾ç½®ä¸‹ä¸€è·³åœ°å€</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">4.4</span>.4.4 next-hop-local</code></pre><ul><li><strong>STEP4.5ï¼š</strong> æŸ¥çœ‹BGPæ›´æ–°(éœ€è¦é‡ç½®é‚»å±…å…³ç³»)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPå­¦ä¹ çš„è·¯ç”±</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">34.1</span>.1.4  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn   i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      1i</code></pre><p>è¿™é‡Œéœ€è¦é‡ç½®ä»¥ä¸‹BGPé‚»å±…å…³ç³»æ‰èƒ½ç”Ÿæ•ˆ</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé‡ç½®BGP</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>reset bgp all graceful </code></pre><p>å¦‚æœåœ¨ä¸€å°è·¯ç”±å™¨é…ç½®ï¼Œå¦ä¸€å°è·¯ç”±å™¨æœªåŠæ—¶ç”Ÿæ•ˆï¼Œå¯ä»¥æŠŠBGPé‚»å±…å…³ç³»é‡ç½®ä¸€ä¸‹ã€‚(gracefulè½¯é‡å¯ï¼Œå¦‚æœè½¯é‡å¯ä¸è¡Œå°±ç¡¬é‡å¯ã€‚)</p><ul><li><strong>STEP4.6ï¼š</strong> é‡å¯åæŸ¥çœ‹</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">34.1</span>.1.4  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">2.2</span>.2.2         <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      1i<span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPé‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>dis bgp pee BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">34.1</span>.1.4 Local AS number <span class="token builtin class-name">:</span> <span class="token number">16</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">2</span>                Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">1</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv  <span class="token number">2.2</span>.2.2         <span class="token number">4</span>          <span class="token number">16</span>        <span class="token number">4</span>        <span class="token number">3</span>     <span class="token number">0</span> 00:01:49 Established       <span class="token number">1</span>  <span class="token number">66.66</span>.66.66     <span class="token number">4</span>           <span class="token number">6</span>        <span class="token number">0</span>        <span class="token number">0</span>     <span class="token number">0</span> 00:07:37      Active       <span class="token number">0</span></code></pre><p>è™½ç„¶è·¯ç”±è¡¨æœ‰äº†<code>*&gt;i</code>ï¼Œä½†æ˜¯é“¾è·¯çŠ¶æ€ä¸º<code>Active</code>ã€‚</p><ul><li><strong>STEP4.7ï¼š</strong> é…ç½®ç¯å›å£ä¸ºæ›´æ–°æº</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šé…ç½®ç¯å›å£ä¸ºæ›´æ–°æº</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">66.66</span>.66.66 connect-interface  LoopBack <span class="token number">10</span></code></pre><p>é…ç½®ä¹‹åï¼ŒAR4å°±ä¼šç”¨<code>44.44.44.44</code>å’Œå¯¹æ–¹<code>66.66.66.66</code>å»ºç«‹é‚»å±…å…³ç³»ã€‚</p><ul><li><strong>STEP4.8ï¼š</strong> å¼€å§‹æŠ“åŒ…</li></ul><p>åœ¨AR4å’ŒAR6ä¹‹é—´å¼€å§‹æŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°(<code>44.44.44.44</code>å’Œ<code>66.66.66.66</code>å»ºç«‹é‚»å±…å…³ç³»)ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/174f70b475be45d992f58ad86b919d98.png"><p>EBGPå»ºç«‹é‚»å±…å…³ç³»ç‰¹æ€§ï¼š<br>EBGPå¤šè·³ï¼ŒEBGPå‘é€çš„æ‰€æœ‰æŠ¥æ–‡TTLä¸º1ï¼Œå³åªèƒ½èµ°ä¸€è·³ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/6fab1a3153754b5b91c8c4b62e290e56.png"><p>è¯´ç™½äº†EBGPé»˜è®¤åªæœ‰ç›´è¿æ‰èƒ½å»ºç«‹EBGPé‚»å±…å…³ç³»ï¼Œä¸­é—´ä¸èƒ½æœ‰è·¯ç”±å™¨ï¼Œä½†æ˜¯ä¸¤ä¸ªEBGPè·¯ç”±å™¨ä¸­é—´æœ‰è·¯ç”±å™¨çš„æƒ…å†µæ¯”è¾ƒå¸¸è§ï¼Œæ‰€ä»¥å¯ä»¥æŠŠTTLè®¾ç½®å¤§ä¸€ç‚¹ï¼Œè€Œä¸”ä¸¤è¾¹éƒ½è¦è®¾ç½®ã€‚</p><ul><li><strong>STEP4.9ï¼š</strong> ä¿®æ”¹EBGPæŠ¥æ–‡çš„TTLå€¼</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šä¿®æ”¹EBGPæŠ¥æ–‡çš„TTLå€¼</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>bgp <span class="token number">6</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>peer <span class="token number">44.44</span>.44.44 ebgp-max-hop <span class="token number">10</span><span class="token comment"># todo AR4ï¼šä¿®æ”¹EBGPæŠ¥æ–‡çš„TTLå€¼</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>bgp <span class="token number">16</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">66.66</span>.66.66 ebgp-max-hop <span class="token number">10</span></code></pre><ul><li><strong>STEP4.99ï¼š</strong> æŸ¥çœ‹</li></ul><p>é¦–å…ˆï¼ŒæŸ¥çœ‹æŠ“åŒ…ä¿¡æ¯ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/d2a33e2aaac346faaf571e5dd2cd8726.png"><p>å…¶æ¬¡ï¼ŒæŸ¥çœ‹BGPé‚»å±…å…³ç³»</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šæŸ¥çœ‹BGPé‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>dis bgp pee BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">26.1</span>.1.6 Local AS number <span class="token builtin class-name">:</span> <span class="token number">6</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">1</span>                Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">1</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv  <span class="token number">44.44</span>.44.44     <span class="token number">4</span>          <span class="token number">16</span>        <span class="token number">3</span>        <span class="token number">2</span>     <span class="token number">0</span> 00:00:06 Established       <span class="token number">1</span></code></pre><p>å†æ¬¡ï¼ŒæŸ¥çœ‹è·¯ç”±è¡¨</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">11</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">11</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">1.1</span>.1.1/32  EBGP    <span class="token number">255</span>  <span class="token number">0</span>          RD   <span class="token number">44.44</span>.44.44     GigabitEthernet0/0/1        <span class="token number">6.6</span>.6.6/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0    <span class="token number">44.44</span>.44.44/32  Static  <span class="token number">60</span>   <span class="token number">0</span>          RD   <span class="token number">64.1</span>.1.4        GigabitEthernet0/0/1    Â·Â·Â·Â·Â·Â·</code></pre><p>æ­¤æ—¶å·²ç»æœ‰<code>1.1.1.1</code>è¿™ä¸ªè·¯ç”±æ¡ç›®ã€‚</p><ul><li><strong>STEP5.0ï¼š</strong> AR6å®£å‘Šç½‘æ®µ</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>network <span class="token number">6.6</span>.6.6 <span class="token number">32</span></code></pre><ul><li><strong>STEP5.1ï¼š</strong> æŸ¥çœ‹AR1è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">8</span>        Routes <span class="token builtin class-name">:</span> <span class="token number">8</span>        Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">1.1</span>.1.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0       <span class="token number">12.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0     <span class="token number">12.1</span>.1.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0      <span class="token number">127.0</span>.0.0/8   Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0      <span class="token number">127.0</span>.0.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">127.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.1  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>   <span class="token number">1.1</span>.1.1/32         <span class="token number">0.0</span>.0.0         <span class="token number">0</span>                     <span class="token number">0</span>      i</code></pre><p>AR1å­¦ä¹ ä¸åˆ°<code>6.6.6.6</code>ã€‚</p><ul><li><strong>STEP5.2ï¼š</strong> åˆ†æAR1å­¦ä¹ ä¸åˆ°<code>6.6.6.6</code>çš„åŸå› </li></ul><p>ä»AR6åˆ°AR1æ²¡é—®é¢˜ï¼Œä½†æ˜¯ï¼Œå› ä¸º(AR1-&gt;)AR2å­¦ä¹ åˆ°çš„åœ°å€<code>6.6.6.6</code>çš„ä¸‹ä¸€è·³æŒ‡å‘<code>66.66.66.66</code>ï¼Œ(AR2-&gt;)AR4çš„ç›®çš„åœ°å€<code>6.6.6.6</code>çš„ä¸‹ä¸€è·³<code>66.66.66.66</code>å•æ’­ä¸å¯è¾¾ï¼Œæ‰€ä»¥åŠ æ•°æ®åº“ï¼Œä½†æ˜¯ä¸åŠ è¡¨ï¼Œå› æ­¤AR4éœ€è¦ä½¿ç”¨æ›´æ–°æºï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">34.1</span>.1.4  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">2</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">2.2</span>.2.2         <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      1i *<span class="token operator">&gt;</span>   <span class="token number">6.6</span>.6.6/32         <span class="token number">66.66</span>.66.66     <span class="token number">0</span>                     <span class="token number">0</span>      6i<span class="token comment"># todo AR4ï¼šæ›´æ–°æº</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>bgp <span class="token number">16</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">2.2</span>.2.2 next-hop-local</code></pre><ul><li><strong>STEP5.3ï¼š</strong> æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">9</span>        Routes <span class="token builtin class-name">:</span> <span class="token number">9</span>        Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">1.1</span>.1.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0        <span class="token number">6.6</span>.6.6/32  EBGP    <span class="token number">255</span>  <span class="token number">0</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0        Â·Â·Â·Â·Â·Â·</code></pre><p>AR1è·¯ç”±è¡¨æœ‰<code>6.6.6.6</code></p><ul><li><strong>STEP6.0ï¼š</strong> æµ‹è¯•è¿é€š</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šping AR6</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>ping -a <span class="token number">1.1</span>.1.1 <span class="token number">6.6</span>.6.6  PING <span class="token number">6.6</span>.6.6: <span class="token number">56</span>  data bytes, press CTRL_C to <span class="token builtin class-name">break</span>    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out  --- <span class="token number">6.6</span>.6.6 <span class="token function">ping</span> statistics ---    <span class="token number">5</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> transmitted    <span class="token number">0</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> received    <span class="token number">100.00</span>% packet loss</code></pre><p>ä¸é€š</p><ul><li><strong>STEP6.1ï¼š</strong> åˆ†æpingä¸åŒåŸå› ï¼Œé…ç½®MPLS</li></ul><p>æ³¨ï¼š<br>1.AR3è·¯ç”±é»‘æ´ï¼šè½¬å‘åˆ°è¯¥æ¥å£ä¸Šçš„æ•°æ®åŒ…éƒ½ä¼šè¢«ä¸¢æ‰<br>2.è§£å†³åŠæ³•ï¼šé‡åˆ†å‘ï¼Œé™æ€è·¯ç”±ï¼ŒBGPï¼ŒMPLSÂ·Â·Â·Â·Â·Â·<br>3.MPLS(å¤šåè®®æ ‡ç­¾äº¤æ¢)ï¼Œå½“æœ‰æ ‡ç­¾çš„æ—¶å€™ï¼ŒåŸºäºæ ‡ç­¾è½¬å‘ï¼Œä¸å†åŸºäºè·¯ç”±è¡¨è½¬å‘<br>4.idå»ºè®®ä½¿ç”¨ç¯å›å£åœ°å€ï¼Œç¡®ä¿ç¯å›å£åœ°å€å•æ’­å¯è¾¾ï¼Œå› ä¸ºè¦é€šè¿‡LSR-IDå»ºç«‹TCPè¿æ¥æ¥åˆ†æ ‡ç­¾</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®MPLS</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>mpls lsr-id <span class="token number">2.2</span>.2.2  <span class="token comment"># é…LSR-ID</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>mpls  <span class="token comment"># å¯ç”¨MPLS</span>Info: Mpls starting, please wait<span class="token punctuation">..</span>. OK<span class="token operator">!</span><span class="token punctuation">[</span>R2-mpls<span class="token punctuation">]</span>mpls ldp  <span class="token comment"># å¯ç”¨MPLS LDB</span><span class="token comment"># todo æ¥å£é…ç½®MPLS</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>R2-GigabitEthernet0/0/1<span class="token punctuation">]</span>mpls     <span class="token punctuation">[</span>R2-GigabitEthernet0/0/1<span class="token punctuation">]</span>mpls ldp<span class="token comment"># todo AR3ï¼šé…ç½®MPLS</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>mpls lsr-id <span class="token number">3.3</span>.3.3<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>mplsInfo: Mpls starting, please wait<span class="token punctuation">..</span>. OK<span class="token operator">!</span><span class="token punctuation">[</span>R3-mpls<span class="token punctuation">]</span>mpls ldp<span class="token comment"># todo AR3ï¼šæ¥å£é…ç½®MPLS</span><span class="token punctuation">[</span>R3-mpls-ldp<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>R3-GigabitEthernet0/0/0<span class="token punctuation">]</span>mpls<span class="token punctuation">[</span>R3-GigabitEthernet0/0/0<span class="token punctuation">]</span>mpls ldp<span class="token punctuation">[</span>R3-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>R3-GigabitEthernet0/0/1<span class="token punctuation">]</span>mpls<span class="token punctuation">[</span>R3-GigabitEthernet0/0/1<span class="token punctuation">]</span>mpls ldp<span class="token comment"># todo AR4ï¼šé…ç½®MPLS</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>mpls lsr-id <span class="token number">4.4</span>.4.4<span class="token punctuation">[</span>R4<span class="token punctuation">]</span>mplsInfo: Mpls starting, please wait<span class="token punctuation">..</span>. OK<span class="token operator">!</span><span class="token punctuation">[</span>R4-mpls<span class="token punctuation">]</span>mpls ldp<span class="token punctuation">[</span>R4-mpls-ldp<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>R4-GigabitEthernet0/0/0<span class="token punctuation">]</span>mpls<span class="token punctuation">[</span>R4-GigabitEthernet0/0/0<span class="token punctuation">]</span>mpls ldp </code></pre><ul><li><strong>STEP6.2ï¼š</strong> æŸ¥çœ‹MPLSè½¬å‘è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹MPLSè½¬å‘è¡¨</span><span class="token punctuation">[</span>R2-GigabitEthernet0/0/1<span class="token punctuation">]</span>dis mpls lsp-------------------------------------------------------------------------------                 LSP Information: LDP LSP-------------------------------------------------------------------------------FEC                In/Out Label  In/Out IF                      Vrf Name       <span class="token number">3.3</span>.3.3/32         NULL/3        -/GE0/0/1                                     <span class="token number">3.3</span>.3.3/32         <span class="token number">1024</span>/3        -/GE0/0/1                                     <span class="token number">2.2</span>.2.2/32         <span class="token number">3</span>/NULL        -/-                                           <span class="token number">4.4</span>.4.4/32         NULL/1025     -/GE0/0/1                                     <span class="token number">4.4</span>.4.4/32         <span class="token number">1025</span>/1025     -/GE0/0/1   <span class="token comment"># todo AR3ï¼šæŸ¥çœ‹MPLSè½¬å‘è¡¨</span><span class="token punctuation">[</span>R3-GigabitEthernet0/0/1<span class="token punctuation">]</span>dis mpls lsp-------------------------------------------------------------------------------                 LSP Information: LDP LSP-------------------------------------------------------------------------------FEC                In/Out Label  In/Out IF                      Vrf Name       <span class="token number">3.3</span>.3.3/32         <span class="token number">3</span>/NULL        -/-                                           <span class="token number">2.2</span>.2.2/32         NULL/3        -/GE0/0/0                                     <span class="token number">2.2</span>.2.2/32         <span class="token number">1024</span>/3        -/GE0/0/0                                     <span class="token number">4.4</span>.4.4/32         NULL/3        -/GE0/0/1                                     <span class="token number">4.4</span>.4.4/32         <span class="token number">1025</span>/3        -/GE0/0/1                                     <span class="token comment"># todo AR4ï¼šæŸ¥çœ‹MPLSè½¬å‘è¡¨</span><span class="token punctuation">[</span>R4-GigabitEthernet0/0/0<span class="token punctuation">]</span>dis mpls lsp-------------------------------------------------------------------------------                 LSP Information: LDP LSP-------------------------------------------------------------------------------FEC                In/Out Label  In/Out IF                      Vrf Name       <span class="token number">2.2</span>.2.2/32         NULL/1024     -/GE0/0/0                                     <span class="token number">2.2</span>.2.2/32         <span class="token number">1024</span>/1024     -/GE0/0/0                                     <span class="token number">3.3</span>.3.3/32         NULL/3        -/GE0/0/0                                     <span class="token number">3.3</span>.3.3/32         <span class="token number">1025</span>/3        -/GE0/0/0                                     <span class="token number">44.44</span>.44.44/32     <span class="token number">3</span>/NULL        -/-                                           <span class="token number">4.4</span>.4.4/32         <span class="token number">3</span>/NULL        -/-                                           </code></pre><p>Inè¿›æ¥æ’•æ‰æ ‡ç­¾<br>Outå‡ºå»æ·»åŠ æ ‡ç­¾</p><ul><li><strong>STEP6.3ï¼š</strong> æµ‹è¯•è¿é€š</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>ping -a <span class="token number">1.1</span>.1.1 <span class="token number">6.6</span>.6.6  PING <span class="token number">6.6</span>.6.6: <span class="token number">56</span>  data bytes, press CTRL_C to <span class="token builtin class-name">break</span>    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out    Request <span class="token function">time</span> out  --- <span class="token number">6.6</span>.6.6 <span class="token function">ping</span> statistics ---    <span class="token number">5</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> transmitted    <span class="token number">0</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> received    <span class="token number">100.00</span>% packet loss</code></pre><p>è¿˜æ˜¯ä¸é€šï¼Œå› ä¸ºæ²¡æœ‰å…³é—­é€’å½’æŸ¥æ‰¾ï¼š</p><ul><li><strong>STEP6.4ï¼š</strong> å…³é—­é€’å½’æŸ¥æ‰¾</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å…³é—­é€’å½’æŸ¥æ‰¾</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>route recursive-lookup tunnel <span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route recursive-lookup tunnel <span class="token punctuation">[</span>R4<span class="token punctuation">]</span>route recursive-lookup tunnel </code></pre><p>ä½†å‡¡å°‘é…ä¸€ä¸ªè·¯ç”±å™¨ï¼Œä¸‹é¢éƒ½ä¸èƒ½é€š</p><ul><li><strong>STEP6.5ï¼š</strong> æµ‹è¯•è¿é€š</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>ping -a <span class="token number">1.1</span>.1.1 <span class="token number">6.6</span>.6.6  PING <span class="token number">6.6</span>.6.6: <span class="token number">56</span>  data bytes, press CTRL_C to <span class="token builtin class-name">break</span>    Reply from <span class="token number">6.6</span>.6.6: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">252</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">70</span> ms    Reply from <span class="token number">6.6</span>.6.6: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">252</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">40</span> ms    Reply from <span class="token number">6.6</span>.6.6: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">252</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">50</span> ms    Reply from <span class="token number">6.6</span>.6.6: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">252</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">40</span> ms    Reply from <span class="token number">6.6</span>.6.6: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">252</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">30</span> ms  --- <span class="token number">6.6</span>.6.6 <span class="token function">ping</span> statistics ---    <span class="token number">5</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> transmitted    <span class="token number">5</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> received    <span class="token number">0.00</span>% packet loss    round-trip min/avg/max <span class="token operator">=</span> <span class="token number">30</span>/46/70 ms</code></pre><p><a href="https://blog.csdn.net/weixin_45404784/article/details/105387520">æ¬¡æœ«è·³(å€’æ•°ç¬¬äºŒè·³)</a>ï¼šè¾¹ç•ŒLSRå°†æœ¬åœ°çš„ç›´è¿ç½‘æ®µä¼ é€’ç»™MPLSåŸŸå†…é‚»å±…åï¼ŒLDPç»™è¯¥ç½‘æ®µåˆ†é…æ ‡ç­¾å·ä¸º3ï¼Œå‘ŠçŸ¥å€’æ•°ç¬¬äºŒè·³è®¾å¤‡å®ƒçš„èº«ä»½ï¼›å¯¼è‡´å€’æ•°ç¬¬äºŒè·³è®¾å¤‡åœ¨æŸ¥è¯¢LFIBè¡¨åï¼Œå·²çŸ¥è½¬å‘è·¯å¾„çš„å‰æä¸‹æå‰å¼¹å‡ºæ ‡ç­¾ï¼Œä½¿å¾—æœ€åä¸€è·³è·¯ç”±å™¨å‡åªéœ€è¦æŸ¥è¯¢FIBè¡¨ï¼›å¦åˆ™æœ€åä¸€è·³è·¯ç”±å™¨åœ¨æŸ¥è¯¢LFIBè¡¨åï¼Œå¼¹å‡ºæ ‡ç­¾è¿˜éœ€è¦æŸ¥è¯¢FIBã€‚</p><h2 id="BGPè·¯å¾„é€‰æ‹©å±æ€§"><a href="#BGPè·¯å¾„é€‰æ‹©å±æ€§" class="headerlink" title="BGPè·¯å¾„é€‰æ‹©å±æ€§"></a>BGPè·¯å¾„é€‰æ‹©å±æ€§</h2><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/435538e229b646a8873d63c04964a4f2.png"><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/9f20a45b0a4f4e80b137c23021639d77.png"><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/91a63ab27c944bc7b32b2705550ccca2.png"><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/6ff870a46725443e96b78ea53fd071bc.png"><p><a href="https://www.bilibili.com/read/cv12135573">ã€æ¯æ—¥å¹²è´§ã€‘åä¸º13æ¡BGPé€‰è·¯åŸåˆ™è¯¦è§£</a></p><h3 id="åŸç†ï¼šBGPé€‰è·¯åŸåˆ™"><a href="#åŸç†ï¼šBGPé€‰è·¯åŸåˆ™" class="headerlink" title="åŸç†ï¼šBGPé€‰è·¯åŸåˆ™"></a><strong>åŸç†ï¼šBGPé€‰è·¯åŸåˆ™</strong></h3><p>13æ¡BGPé€‰è·¯åŸåˆ™(ä¸­çš„å‡ æ¡)ï¼š</p><ul><li>2ã€Prefer highest local preference (global within AS).ï¼šæœ¬åœ°ä¼˜å…ˆçº§æœ€é«˜çš„è·¯ç”±&lt;**æœ¬åœ°ä¼˜å…ˆçº§ç”¨äºASå†…éƒ¨**&gt;</li><li>3ã€Prefer route originated by the local router (next hop = <code>0.0.0.0</code>).ï¼šå½“å‰è·¯ç”±å™¨<strong>é€šå‘Š</strong>çš„è·¯ç”±</li><li>4ã€Prefer shortest AS path.ï¼š<strong>ASè·¯å¾„æœ€çŸ­çš„è·¯ç”±</strong></li><li>7ã€Prefer EBGP path over IBGP path.ï¼š<strong>å¤–éƒ¨è·¯å¾„(EBGP)ä¼˜å…ˆäºå†…éƒ¨è·¯å¾„(IBGP)</strong></li><li>8ã€Prefer the path through the closest IGP neighborï¼šé€‰æ‹©ç»è¿‡æœ€è¿‘çš„IGPé‚»å±…çš„è·¯å¾„ï¼Œå³<strong>IBGPä¸‹ä¸€è·³é¦–é€‰ASä¸­æœ€çŸ­çš„å†…éƒ¨è·¯å¾„(OSPFã€RIPå¼€é”€costå€¼æœ€å°çš„)ä½œä¸ºä¸‹ä¸€è·³</strong></li><li>9ã€balance trafficï¼šå¦‚æœé…ç½®äº†maximum-path(<strong>é»˜è®¤ä¸º1</strong>), ä¼šå®‰è£…å¤šæ¡è·¯ç”±åˆ°è·¯ç”±è¡¨&lt;ä½†æ˜¯BGPç»§ç»­æ¯”ï¼Œåªæœ‰ä¸€ä¸ªæ‰“ä¸Š&gt;</li><li>10ã€Prefer oldest route for EBGP paths.ï¼šéƒ½æ˜¯å¤–éƒ¨è·¯å¾„ï¼Œé€‰<strong>æœ€å…ˆ</strong>æ”¶åˆ°çš„ï¼ˆæœ€æ—§çš„ï¼‰&lt;ç›®çš„æ˜¯å‡å°‘æŠ–åŠ¨&gt;</li><li>11ã€Prefer the path with the lowest neighbor BGP router ID.ï¼šé¦–é€‰æ¥è‡ª<strong>æœ€ä½è·¯ç”±ID</strong>çš„BGPè·¯ç”±å™¨çš„è·¯ç”±</li></ul><h3 id="å®éªŒäºŒ-1-ï¼šBGPå±æ€§-åè®®é¦–é€‰å€¼PrefVal-preference-value"><a href="#å®éªŒäºŒ-1-ï¼šBGPå±æ€§-åè®®é¦–é€‰å€¼PrefVal-preference-value" class="headerlink" title="å®éªŒäºŒ$_1$ï¼šBGPå±æ€§:åè®®é¦–é€‰å€¼PrefVal(preference value)"></a><strong>å®éªŒäºŒ$_1$ï¼šBGPå±æ€§:åè®®é¦–é€‰å€¼PrefVal(preference value)</strong></h3><p>PrefValæ˜¯åä¸ºç‰¹æœ‰çš„å±æ€§</p><ul><li><p><strong>æ–¹æ³•ä¸€</strong>ï¼šç›´æ¥åœ¨BGPä¿®æ”¹</p></li><li><p><strong>STEP1.0ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</p></li></ul><p>ç›´æ¥æ‰“å¼€è€å¸ˆçš„æ‹“æ‰‘</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/68c11ce8b9a04b78a99a55235e3f6a01.png"><p>æ³¨æ„ï¼šAR1æœ‰ç¯å›åœ°å€<code>1.1.1.1</code>ï¼ŒAR4æœ‰ç¯å›åœ°å€<code>4.4.4.4</code>ã€‚</p><ul><li><p><strong>STEP1.1ï¼š</strong> æ”¹å(ç•¥)</p></li><li><p><strong>STEP2.0ï¼š</strong> æŸ¥çœ‹</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPé‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis bgp pee BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">12.1</span>.1.2 Local AS number <span class="token builtin class-name">:</span> <span class="token number">1</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">3</span>  Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">3</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State Pre fRcv  <span class="token number">12.1</span>.1.1        <span class="token number">4</span>           <span class="token number">1</span>       <span class="token number">22</span>       <span class="token number">22</span>     <span class="token number">0</span> 00:18:46 Established       <span class="token number">2</span>  <span class="token number">23.1</span>.1.3        <span class="token number">4</span>          <span class="token number">24</span>       <span class="token number">21</span>       <span class="token number">23</span>     <span class="token number">0</span> 00:18:46 Established       <span class="token number">1</span>  <span class="token number">26.1</span>.1.6        <span class="token number">4</span>          <span class="token number">24</span>       <span class="token number">21</span>       <span class="token number">23</span>     <span class="token number">0</span> 00:18:46 Established       <span class="token number">1</span><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><ul><li><strong>STEP2.1ï¼š</strong> ä¿®æ”¹ä¼˜å…ˆçº§</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šä¿®æ”¹ä¼˜å…ˆçº§</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">26.1</span>.1.6 preferred-value <span class="token number">1</span><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">26.1</span>.1.6                              <span class="token number">1</span>      24i *                       <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><p>çœ‹åˆ°AR2åˆ°<code>4.4.4.4</code>çš„ç¬¬ä¸€ä¸ªä¸‹ä¸€è·³ç”±<code>23.1.1.3</code>æ”¹ä¸º<code>26.1.1.6</code>ï¼Œå¹¶ä¸”ä¼˜å…ˆçº§å˜ä¸º1ã€‚</p><ul><li><strong>STEP2.2ï¼š</strong> å®éªŒç°è±¡çœ‹å®Œåï¼Œåˆ é™¤é…ç½®ï¼Œåˆ©äºåšä¸‹ä¸€ä¸ªå®éªŒ</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šåˆ é™¤é…ç½®</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>un peer <span class="token number">26.1</span>.1.6 preferred-value<span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><ul><li><p><strong>æ–¹æ³•äºŒ</strong>ï¼šé€šè¿‡é…ç½®å‰ç¼€åˆ—è¡¨å’ŒACLè¿›è¡Œä¿®æ”¹</p></li><li><p><strong>STEP3.0ï¼š</strong> ä½¿ç”¨å‰ç¼€åˆ—è¡¨</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>ip ip-prefix dcm permit <span class="token number">4.4</span>.4.4 <span class="token number">32</span><span class="token comment"># todo AR2ï¼šé…ç½®è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>route-policy ?  STRING<span class="token operator">&lt;</span><span class="token number">1</span>-4<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>  Name of the route policy  <span class="token number">1</span>             Name of the route policy  ben           Name of the route policy<span class="token punctuation">[</span>R2<span class="token punctuation">]</span>route-policy PV permit <span class="token function">node</span> ?  INTEGER<span class="token operator">&lt;</span><span class="token number">0</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  Index of the <span class="token function">node</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>route-policy PV permit <span class="token function">node</span> <span class="token number">10</span> Info: New Sequence of this List.<span class="token comment"># todo AR2ï¼šåŒ¹é…å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R2-route-policy<span class="token punctuation">]</span>if-match ip-prefix ?  STRING<span class="token operator">&lt;</span><span class="token number">1</span>-16<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>  Specify prefix-list name<span class="token punctuation">[</span>R2-route-policy<span class="token punctuation">]</span>if-match ip-prefix dcm<span class="token comment"># todo AR2ï¼šä¿®æ”¹ä¼˜å…ˆçº§</span><span class="token punctuation">[</span>R2-route-policy<span class="token punctuation">]</span>apply preferred-value ?  INTEGER<span class="token operator">&lt;</span><span class="token number">0</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  Specify BGP Preferred-value<span class="token punctuation">(</span>weight<span class="token punctuation">)</span> value <span class="token keyword">for</span> routing table<span class="token punctuation">[</span>R2-route-policy<span class="token punctuation">]</span>apply preferred-value <span class="token number">10</span><span class="token comment"># todo AR2ï¼šé…ç½®è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>route-policy PV permit <span class="token function">node</span> <span class="token number">20</span>Info: New Sequence of this List.<span class="token comment"># todo AR2ï¼šåœ¨BGPåº”ç”¨å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">26.1</span>.1.6 route-policy PV <span class="token function">import</span> <span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">26.1</span>.1.6                              <span class="token number">10</span>     24i *                       <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><p>prefValæ˜¯<strong>ç§æœ‰å±æ€§</strong>ï¼Œä¸èƒ½è½¬å‘ï¼Œä¸”è¿™ä¸ªå±æ€§åªèƒ½<strong>æ¥æ”¶æ–¹å‘</strong>ä¿®æ”¹</p><ul><li><strong>STEP3.1ï¼š</strong> åˆ é™¤é…ç½®ï¼Œåˆ©äºåšä¸‹ä¸€ä¸ªå®éªŒ</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šåˆ é™¤é…ç½®</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>un peer <span class="token number">26.1</span>.1.6 route-policy PV <span class="token function">import</span></code></pre><h3 id="å®éªŒäºŒ-2-ï¼šBGPå±æ€§-æœ¬åœ°ä¼˜å…ˆçº§æœ€é«˜çš„è·¯ç”±LocPrf-Local-Preference"><a href="#å®éªŒäºŒ-2-ï¼šBGPå±æ€§-æœ¬åœ°ä¼˜å…ˆçº§æœ€é«˜çš„è·¯ç”±LocPrf-Local-Preference" class="headerlink" title="å®éªŒäºŒ$_2$ï¼šBGPå±æ€§:æœ¬åœ°ä¼˜å…ˆçº§æœ€é«˜çš„è·¯ç”±LocPrf(Local Preference)"></a><strong>å®éªŒäºŒ$_2$ï¼šBGPå±æ€§:æœ¬åœ°ä¼˜å…ˆçº§æœ€é«˜çš„è·¯ç”±LocPrf(Local Preference)</strong></h3><p>LocPrfåªèƒ½åœ¨ASå†…éƒ¨çš„IBGPä¼ é€’æ—¶ä½¿ç”¨ï¼Œå°±æ˜¯è¯´EBGPä¹‹é—´ä¸èƒ½ä½¿ç”¨<br>å¯ä»¥ç”¨åœ¨IBGPçš„Inå’ŒOutæ–¹å‘ï¼Œåªèƒ½ç”¨åœ¨EBGPçš„Inæ–¹å‘(è™½ç„¶ä¸èƒ½ä¼ é€’ï¼Œä½†æ˜¯å¯ä»¥åœ¨æœ¬åœ°ä¿®æ”¹)</p><p><strong>ç›®çš„</strong>ï¼šAR2é€‰æ‹©AR6çš„è·¯ç”±è·¯å¾„ä½œä¸ºæœ€ä¼˜</p><ul><li><strong>STEP4.0ï¼š</strong> ä¿®æ”¹LocPrf</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šè·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>route-policy LP permit <span class="token function">node</span> <span class="token number">10</span> Info: New Sequence of this List.<span class="token comment"># todo AR2ï¼šå‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R2-route-policy<span class="token punctuation">]</span>if-match ip-prefix dcm  <span class="token comment"># ä¹‹å‰é…ç½®çš„å‰ç¼€åˆ—è¡¨dcm</span><span class="token punctuation">[</span>R2-route-policy<span class="token punctuation">]</span>apply local-preference <span class="token number">110</span>  <span class="token comment"># ä¿®æ”¹locprf</span><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i<span class="token comment"># todo AR2ï¼šBGPå¯ç”¨è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">26.1</span>.1.6 route-policy LP <span class="token function">import</span> <span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">26.1</span>.1.6                   <span class="token number">110</span>        <span class="token number">0</span>      24i *                       <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><p>é…ç½®è·¯ç”±ç­–ç•¥å‰åï¼ŒAR2åˆ°<code>4.4.4.4</code>çš„ä¸‹ä¸€è·³åœ°å€ä¼˜å…ˆçº§æ”¹å˜ã€‚</p><ul><li><strong>STEP4.1ï¼š</strong> åˆ é™¤é…ç½®</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šåˆ é™¤é…ç½®</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>un peer <span class="token number">26.1</span>.1.6 route-policy LP <span class="token function">import</span></code></pre><ul><li><strong>STEP4.2ï¼š</strong> åšä¸€ä¸ªæ— æ•ˆé…ç½®ï¼Œç»™EBGPä¿®æ”¹Outæ–¹å‘çš„LocPrfå€¼</li></ul><p>é€‰AR6(ä¸€ä¸ªEBGP)ä½œä¸ºé…ç½®å¯¹è±¡</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i<span class="token comment"># todo AR6ï¼šé…ç½®å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>ip ip-prefix dcm4 permit <span class="token number">4.4</span>.4.4 <span class="token number">32</span><span class="token comment"># todo AR6ï¼šé…ç½®è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>route-policy LP permit <span class="token function">node</span> <span class="token number">10</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R6-route-policy<span class="token punctuation">]</span>if-match ip-prefix dcm4  <span class="token comment"># åº”ç”¨å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R6-route-policy<span class="token punctuation">]</span>apply local-preference <span class="token number">120</span>  <span class="token comment"># ä¿®æ”¹LocPrf</span><span class="token comment"># todo AR6ï¼šå°†è·¯ç”±ç­–ç•¥åº”ç”¨åˆ°å‘é€ç»™AR2çš„åå‘</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>bgp <span class="token number">24</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>peer <span class="token number">26.1</span>.1.2 route-policy LP <span class="token builtin class-name">export</span>  <span class="token comment"># æ³¨æ„æ˜¯å‡ºæ–¹å‘</span><span class="token comment"># todo AR2ï¼šé‡ç½®é‚»å±…å…³ç³»ï¼Œä¸€èˆ¬é…ç½®åBGPå…³ç³»éœ€è¦é‡ç½®æ‰èƒ½å»ºç«‹</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>reset bgp all graceful<span class="token comment"># todo AR2ï¼šé‚»å±…å…³ç³»å»ºç«‹åï¼Œå†æŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><p>å¯ä»¥çœ‹åˆ°AR2è·¯ç”±è¡¨çš„ä¸‹ä¸€è·³åœ°å€çš„LocPrfä¸å˜ï¼Œè¯æ˜ï¼šEBGPä¸èƒ½åœ¨å‡ºæ–¹å‘ä¿®æ”¹LocPrf(åªèƒ½åœ¨å…¥æ–¹å‘ä¿®æ”¹LocPrf)ã€‚</p><ul><li><strong>STEP4.3ï¼š</strong> åˆ é™¤é…ç½®ï¼Œä¾¿äºåšä¸‹ä¸€ä¸ªå®éªŒ(å…¶å®è¿™ä¸ªé…ç½®åˆ ä¸åˆ æ— æ‰€è°“ï¼Œæœ¬æ¥é…ç½®å°±æ— æ³•ç”Ÿæ•ˆ)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šåˆ é™¤é…ç½®</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>un peer <span class="token number">26.1</span>.1.2 route-policy LP <span class="token builtin class-name">export</span></code></pre><ul><li><strong>STEP4.4ï¼š</strong> é…ç½®å…¥æ–¹å‘</li></ul><p><strong>ç›®çš„</strong>ï¼šåœ¨AR4ä¸Šï¼Œé€‰æ‹©AR6ä½œä¸ºæœ€ä¼˜è·¯å¾„</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šé…ç½®å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>ip ip-prefix dcm1 permit <span class="token number">1.1</span>.1.1 <span class="token number">32</span><span class="token comment"># todo AR6ï¼šé…ç½®è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>route-policy LP permit <span class="token function">node</span> <span class="token number">10</span>Info: You are overwriting this sequence.<span class="token comment"># todo AR6ï¼šåº”ç”¨å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R6-route-policy<span class="token punctuation">]</span>if-match ip-prefix dcm1 <span class="token comment"># todo AR6ï¼šBGPåº”ç”¨è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>bgp <span class="token number">24</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>peer <span class="token number">64.1</span>.1.4 route-policy LP <span class="token builtin class-name">export</span>  <span class="token comment"># æ³¨æ„æ˜¯å‡ºæ–¹å‘</span><span class="token comment"># todo AR4ï¼šé‡ç½®BGPé‚»å±…å…³ç³»</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>reset bgp all graceful<span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPé‚»å±…å…³ç³»</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>dis bgp peer BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">34.1</span>.1.4 Local AS number <span class="token builtin class-name">:</span> <span class="token number">24</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">2</span>  Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">2</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State Pre fRcv  <span class="token number">34.1</span>.1.3        <span class="token number">4</span>          <span class="token number">24</span>        <span class="token number">3</span>        <span class="token number">4</span>     <span class="token number">0</span> 00:00:11 Established       <span class="token number">1</span>  <span class="token number">64.1</span>.1.6        <span class="token number">4</span>          <span class="token number">24</span>        <span class="token number">3</span>        <span class="token number">3</span>     <span class="token number">0</span> 00:00:11 Established       <span class="token number">1</span><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">34.1</span>.1.4  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">3</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">64.1</span>.1.6                   <span class="token number">120</span>        <span class="token number">0</span>      1i * i                     <span class="token number">34.1</span>.1.3                   <span class="token number">100</span>        <span class="token number">0</span>      1i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">0.0</span>.0.0         <span class="token number">0</span>                     <span class="token number">0</span>      i</code></pre><p>å¯ä»¥çœ‹åˆ°AR4åˆ°<code>64.1.1.6</code>çš„ä¸‹ä¸€è·³çš„<code>LocPrf</code>å˜ä¸º120</p><ul><li><strong>STEP4.5ï¼š</strong> åˆ é™¤é…ç½®</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šåˆ é™¤é…ç½®</span><span class="token punctuation">[</span>R6-bgp<span class="token punctuation">]</span>un peer <span class="token number">64.1</span>.1.4 route-policy LP <span class="token builtin class-name">export</span></code></pre><h3 id="å®éªŒäºŒ-3-ï¼šBGPå±æ€§-ç»è¿‡çš„æ‰€æœ‰ASå·çŸ¢é‡AS-Path"><a href="#å®éªŒäºŒ-3-ï¼šBGPå±æ€§-ç»è¿‡çš„æ‰€æœ‰ASå·çŸ¢é‡AS-Path" class="headerlink" title="å®éªŒäºŒ$_3$ï¼šBGPå±æ€§:ç»è¿‡çš„æ‰€æœ‰ASå·çŸ¢é‡AS-Path"></a><strong>å®éªŒäºŒ$_3$ï¼šBGPå±æ€§:ç»è¿‡çš„æ‰€æœ‰ASå·çŸ¢é‡AS-Path</strong></h3><p>AS-Pathç”¨äºé˜²ç¯ï¼Œç»è¿‡çš„ASè¶Šå°‘ï¼Œé‚£ä¹ˆè·¯ç”±è¶Šä¼˜å…ˆ</p><p>AS-Pathåªèƒ½åœ¨EBGPé—´ä½¿ç”¨(Inå’ŒOutå¯ä»¥ä½¿ç”¨)ï¼Œä¸èƒ½åœ¨IBGPé—´ä½¿ç”¨ã€‚</p><p>AS-Pathåªèƒ½åŠ ï¼Œä¸èƒ½å‡ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæƒ³è®©ä¸€ä¸ªè·¯å¾„æœ€ä¼˜ï¼Œä¸èƒ½å‡å°‘è¿™ä¸ªè·¯å¾„çš„Pathå€¼ï¼Œåªèƒ½è®©å¦ä¸€æ¡è·¯å¾„çš„Pathå€¼å¢åŠ ã€‚</p><ul><li><strong>STEP5.0ï¼š</strong> ä¿®æ”¹AS-Path</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i<span class="token comment"># todo AR3ï¼šé…ç½®å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ip ip-prefix dcm4 permit <span class="token number">4.4</span>.4.4 <span class="token number">32</span><span class="token comment"># todo AR3ï¼šé…ç½®è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route-policy AS permit <span class="token function">node</span> <span class="token number">10</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>if-match ip-prefix dcm4  <span class="token comment"># åº”ç”¨å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply as-path ?  INTEGER<span class="token operator">&lt;</span><span class="token number">1</span>-429496729<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  AS number <span class="token keyword">in</span> asplain <span class="token function">format</span> <span class="token punctuation">(</span>number<span class="token operator">&lt;</span><span class="token number">1</span>-429496729<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span><span class="token punctuation">)</span>  STRING<span class="token operator">&lt;</span><span class="token number">3</span>-1<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>           AS number <span class="token keyword">in</span> asdot <span class="token function">format</span>                                                       <span class="token punctuation">(</span>number<span class="token operator">&lt;</span><span class="token number">1</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>.number<span class="token operator">&lt;</span><span class="token number">0</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span><span class="token punctuation">)</span>  none                   Clear as-path list<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply as-path <span class="token number">24</span> <span class="token number">24</span> ?  INTEGER<span class="token operator">&lt;</span><span class="token number">1</span>-429496729<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>  AS number <span class="token keyword">in</span> asplain <span class="token function">format</span> <span class="token punctuation">(</span>number<span class="token operator">&lt;</span><span class="token number">1</span>-429496729<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span><span class="token punctuation">)</span>  STRING<span class="token operator">&lt;</span><span class="token number">3</span>-1<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>           AS number <span class="token keyword">in</span> asdot <span class="token function">format</span>                                                       <span class="token punctuation">(</span>number<span class="token operator">&lt;</span><span class="token number">1</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>.number<span class="token operator">&lt;</span><span class="token number">0</span>-6553<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span><span class="token punctuation">)</span>  additive               Append to original As Number  overwrite              Overwrite original As Number<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply as-path <span class="token number">24</span> <span class="token number">24</span> additive ?  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>  Please press ENTER to execute <span class="token builtin class-name">command</span> <span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply as-path <span class="token number">24</span> <span class="token number">24</span> additive  <span class="token comment"># ä¿®æ”¹as-path</span><span class="token comment"># todo AR3ï¼šBGPåº”ç”¨è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>bgp <span class="token number">24</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>peer <span class="token number">23.1</span>.1.2 route-policy AS <span class="token builtin class-name">export</span> <span class="token comment"># todo AR2ï¼šé‡å¯BGPé‚»å±…å…³ç³»</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>reset bgp all graceful <span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i *                       <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      <span class="token number">24</span> <span class="token number">24</span> 24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><p>æ³¨ï¼š<br>1.additiveï¼šåœ¨åŸæ¥AS-Pathä¸Šå¢åŠ å‡ ä¸ªAS-Pathï¼Œè¿™æ ·æ—¢é˜²ç¯ï¼Œåˆä¸ä¼šå› ä¸ºæ°´å¹³åˆ†å‰²è€Œæ— æ³•è¿›å…¥æŸäº›ASä¸­<br>2.ä¿®æ”¹AS-Pathå‰ï¼Œåªæœ‰ä¸€ä¸ª24<br>3.ä¿®æ”¹AS-Pathåï¼Œä¸€å…±3ä¸ª24ï¼Œå¦‚æœç”¨overrideå°±æ˜¯è¦†ç›–ï¼Œå°±åªæœ‰2ä¸ª24</p><ul><li><strong>STEP5.1ï¼š</strong> åˆ é™¤é…ç½®</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šåˆ é™¤é…ç½®</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>un peer <span class="token number">23.1</span>.1.2 route-policy AS <span class="token builtin class-name">export</span></code></pre><h3 id="å®éªŒäºŒ-4-ï¼šBGPå±æ€§-èµ·æºå±æ€§Origin"><a href="#å®éªŒäºŒ-4-ï¼šBGPå±æ€§-èµ·æºå±æ€§Origin" class="headerlink" title="å®éªŒäºŒ$_4$ï¼šBGPå±æ€§:èµ·æºå±æ€§Origin"></a><strong>å®éªŒäºŒ$_4$ï¼šBGPå±æ€§:èµ·æºå±æ€§Origin</strong></h3><p>èµ·æºå±æ€§Originå…¨å±€èŒƒå›´æœ‰æ•ˆ<br>ä¼˜å…ˆçº§ç”±é«˜åˆ°ä½ï¼šiï¼ˆIBGPï¼‰ &gt; eï¼ˆEBGPï¼‰ &gt; ?ï¼ˆé‡åˆ†å‘ï¼‰</p><ul><li><strong>STEP6.0ï¼š</strong> ä¿®æ”¹èµ·æºå±æ€§Origin</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼š</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route-policy OR permit <span class="token function">node</span> <span class="token number">10</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>if-match ip-prefix dcm4<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply origin ?  egp         Remote EGP  igp         Local IGP  incomplete  Unknown heritage<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply origin incomplete<span class="token comment"># todo AR3ï¼š</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>bgp <span class="token number">24</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>peer <span class="token number">23.1</span>.1.2 route-policy OR <span class="token builtin class-name">export</span> <span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i<span class="token comment"># todo AR2ï¼šé‡ç½®BGPé‚»å±…å…³ç³»</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>reset bgp all<span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">4</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i *                       <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      <span class="token number">24</span>?   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><ul><li><strong>STEP6.1ï¼š</strong> åˆ é™¤é…ç½®</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šåˆ é™¤é…ç½®</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>un peer <span class="token number">23.1</span>.1.2 route-policy OR <span class="token builtin class-name">export</span> </code></pre><p>STEAMä¸Šçš„ç¼–ç¨‹æ¸¸æˆï¼šLinuxã€‘Hacknetã€while True: learn()ã€æ±‡ç¼–ã€‘SHENZHEN I/O</p><h3 id="å®éªŒäºŒ-5-ï¼šBGPå±æ€§-ä»£ä»·å€¼MED"><a href="#å®éªŒäºŒ-5-ï¼šBGPå±æ€§-ä»£ä»·å€¼MED" class="headerlink" title="å®éªŒäºŒ$_5$ï¼šBGPå±æ€§:ä»£ä»·å€¼MED"></a><strong>å®éªŒäºŒ$_5$ï¼šBGPå±æ€§:ä»£ä»·å€¼MED</strong></h3><p>é‡åˆ†å‘è¿›æ¥çš„è·¯ç”±æ¡ç›®çš„åº¦é‡å€¼ï¼Œåœ¨<strong>ASå†…</strong>æœ‰æ•ˆï¼Œå³EBGPä¹‹é—´</p><ul><li><strong>STEP7ï¼š</strong> é…ç½®MED(é™æ€è·¯ç”±&amp;è·¯ç”±å¼•å…¥)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé™æ€è·¯ç”±</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ip route-static <span class="token number">11.11</span>.11.11 <span class="token number">32</span> NULL <span class="token number">0</span><span class="token comment"># todo AR1ï¼šè®¾ç½®è·¯ç”±å¼•å…¥çš„MED</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>import-route static ?    med           Med <span class="token keyword">for</span> imported route  route-policy  Specify a route policy  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>          Please press ENTER to execute <span class="token builtin class-name">command</span> <span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>import-route static med <span class="token number">666</span><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹EBGPçš„BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">5</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i *<span class="token operator">&gt;</span>i  <span class="token number">11.11</span>.11.11/32     <span class="token number">12.1</span>.1.1        <span class="token number">666</span>        <span class="token number">100</span>        <span class="token number">0</span>      ?   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i<span class="token comment"># todo AR4ï¼šæŸ¥çœ‹IBGPçš„BGPè·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>dis bgp rou BGP Local router ID is <span class="token number">34.1</span>.1.4  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">5</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">34.1</span>.1.3                   <span class="token number">100</span>        <span class="token number">0</span>      1i * i                     <span class="token number">64.1</span>.1.6                   <span class="token number">100</span>        <span class="token number">0</span>      1i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">0.0</span>.0.0         <span class="token number">0</span>                     <span class="token number">0</span>      i *<span class="token operator">&gt;</span>i  <span class="token number">11.11</span>.11.11/32     <span class="token number">34.1</span>.1.3                   <span class="token number">100</span>        <span class="token number">0</span>      <span class="token number">1</span>? * i                     <span class="token number">64.1</span>.1.6                   <span class="token number">100</span>        <span class="token number">0</span>      <span class="token number">1</span>?</code></pre><h2 id="å®éªŒä¸‰ï¼šBGPé“¾è·¯èšåˆ"><a href="#å®éªŒä¸‰ï¼šBGPé“¾è·¯èšåˆ" class="headerlink" title="å®éªŒä¸‰ï¼šBGPé“¾è·¯èšåˆ"></a><strong>å®éªŒä¸‰ï¼šBGPé“¾è·¯èšåˆ</strong></h2><p>BGPèšåˆæ–¹å¼ï¼šè‡ªåŠ¨èšåˆã€æ‰‹åŠ¨èšåˆ<br>BGPåªèƒ½å¯¹<strong>é‡åˆ†å‘</strong>è¿›æ¥çš„è·¯ç”±æ¡ç›®è¿›è¡Œèšåˆï¼Œä¸”å…¨éƒ¨æŒ‰<strong>ä¸»ç±»ç½‘ç»œæ©ç </strong>è¿›è¡Œèšåˆ</p><ul><li><strong>STEP8.0ï¼š</strong> é…ç½®é“¾è·¯èšåˆ(è‡ªåŠ¨èšåˆ)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®é“¾è·¯è‡ªåŠ¨èšåˆ</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>summary automatic Info: Automatic summarization is valid only <span class="token keyword">for</span> the routes imported through the import-route command.<span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">5</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i *<span class="token operator">&gt;</span>i  <span class="token number">11.0</span>.0.0           <span class="token number">12.1</span>.1.1                   <span class="token number">100</span>        <span class="token number">0</span>      ?   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><ul><li><strong>STEP8.1ï¼š</strong> é…ç½®é“¾è·¯èšåˆ(æ‰‹åŠ¨èšåˆ)</li></ul><p>å…ˆæ·»åŠ èšåˆéœ€è¦ä½¿ç”¨çš„ç¯å›åœ°å€ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®ç¯å›åœ°å€</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>int lo <span class="token number">5</span><span class="token punctuation">[</span>R1-LoopBack5<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.0</span>.0.1 <span class="token number">24</span><span class="token punctuation">[</span>R1-LoopBack5<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.0</span>.1.1 <span class="token number">24</span> sub<span class="token punctuation">[</span>R1-LoopBack5<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.0</span>.2.1 <span class="token number">24</span> sub<span class="token punctuation">[</span>R1-LoopBack5<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.0</span>.3.1 <span class="token number">24</span> sub<span class="token comment"># todo AR1ï¼šBGPå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>bgp <span class="token number">1</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>network <span class="token number">10.0</span>.0.1 <span class="token number">24</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>network <span class="token number">10.0</span>.1.1 <span class="token number">24</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>network <span class="token number">10.0</span>.2.1 <span class="token number">24</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>network <span class="token number">10.0</span>.3.1 <span class="token number">24</span><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">9</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i *<span class="token operator">&gt;</span>i  <span class="token number">10.0</span>.0.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>i  <span class="token number">10.0</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>i  <span class="token number">10.0</span>.2.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>i  <span class="token number">10.0</span>.3.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>i  <span class="token number">11.0</span>.0.0           <span class="token number">12.1</span>.1.1                   <span class="token number">100</span>        <span class="token number">0</span>      ?   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><p>æ­¤æ—¶AR2å­¦åˆ°çš„æ˜¯æ˜ç»†è·¯ç”±ï¼Œè¿™ç§æƒ…å†µè¯¥ä½¿ç”¨æ‰‹åŠ¨èšåˆï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®æ‰‹åŠ¨èšåˆ</span><span class="token punctuation">[</span>R1-bgp<span class="token punctuation">]</span>aggregate <span class="token number">10.0</span>.0.0 <span class="token number">22</span> detail-suppressed<span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">12.1</span>.1.2  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">9</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>   <span class="token number">4.4</span>.4.4/32         <span class="token number">23.1</span>.1.3                              <span class="token number">0</span>      24i *                       <span class="token number">26.1</span>.1.6                              <span class="token number">0</span>      24i *<span class="token operator">&gt;</span>i  <span class="token number">10.0</span>.0.0/22        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i *<span class="token operator">&gt;</span>i  <span class="token number">11.0</span>.0.0           <span class="token number">12.1</span>.1.1                   <span class="token number">100</span>        <span class="token number">0</span>      ?   i  <span class="token number">12.1</span>.1.0/24        <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      i</code></pre><p>detail-suppressedï¼šè¯¦ç»†æŠ‘åˆ¶ï¼Œåªæœ‰æ±‡æ€»ï¼Œä¸è¦æ˜ç»†<br>å¦‚æœä¸åŠ ï¼Œä»ç„¶æœ‰æ˜ç»†è·¯ç”±ï¼Œè€Œä¸”å¤šäº†ä¸€ä¸ªæ±‡æ€»</p><p><code>undo sync</code><br>åŒæ­¥æ˜¯ç”¨æ¥é˜²æ­¢è·¯ç”±é»‘æ´çš„<br>åŒæ­¥ï¼šå¦‚æœBGPæ‰“å¼€äº†åŒæ­¥ï¼Œæ„æ€æ˜¯è¯´<br>BGPä¸IGPçš„åŒæ­¥åŠŸèƒ½ã€‚</p><p>ç¼ºçœæƒ…å†µä¸‹ï¼ŒåŒæ­¥åŠŸèƒ½æ˜¯å…³é—­çš„ã€‚</p><h2 id="BGPè·¯ç”±åå°„å™¨ä¸è”ç›Ÿ"><a href="#BGPè·¯ç”±åå°„å™¨ä¸è”ç›Ÿ" class="headerlink" title="BGPè·¯ç”±åå°„å™¨ä¸è”ç›Ÿ"></a>BGPè·¯ç”±åå°„å™¨ä¸è”ç›Ÿ</h2><h3 id="å®éªŒå››-1-ï¼šè·¯ç”±åå°„å™¨"><a href="#å®éªŒå››-1-ï¼šè·¯ç”±åå°„å™¨" class="headerlink" title="å®éªŒå››$_1$ï¼šè·¯ç”±åå°„å™¨"></a><strong>å®éªŒå››$_1$ï¼šè·¯ç”±åå°„å™¨</strong></h3><p>RRåå°„å™¨é˜²ç¯ï¼šè§£å†³BGPæ°´å¹³åˆ†å‰²é—®é¢˜(IBGPå’ŒEBGPçš„æ°´å¹³åˆ†å‰²)<br>IBGPæ°´å¹³åˆ†å‰²ï¼šé€šè¿‡IBGPå­¦ä¹ çš„æ¡ç›®ä¸èƒ½å†å‘é€ç»™å…¶ä»–IBGP<br>EBGPæ°´å¹³åˆ†å‰²ï¼šä»æŸä¸ªæ¥å£ä¸Šå­¦ä¹ æ¥çš„è·¯ç”±ä¿¡æ¯å°†ä¸å†ä»è¯¥æ¥å£ä¸Šé€šå‘Šå‡ºå»ã€‚å°±æ˜¯ä»é‚£ä¸ªå£è¿›æ¥çš„ä¸å†ä»è¿™ä¸ªå£å‡ºå»ã€‚</p><p>è·¯ç”±å‘å°„å™¨RRï¼š<br>1.å½“RRä»å®¢æˆ·æœºæ”¶åˆ°ä¸€ä¸ªè·¯ç”±æ›´æ–°æ—¶ï¼Œä¼šå°†å®ƒå‘é€ç»™å®¢æˆ·æœºå’Œéå®¢æˆ·æœºã€‚<br>2.å½“RRä»éå®¢æˆ·æœºæ”¶åˆ°ä¸€ä¸ªè·¯ç”±æ›´æ–°æ—¶ï¼Œåªå‘é€ç»™å®¢æˆ·æœºè·¯ç”±å™¨ï¼Œè€Œä¸å‘é€ç»™å…¶ä»–éå®¢æˆ·æœºè·¯ç”±å™¨<br>3.å½“RRä»EBGPæ”¶åˆ°ä¸€ä¸ªè·¯ç”±æ›´æ–°æ—¶ï¼Œä¼šå°†å®ƒå‘é€ç»™å®¢æˆ·æœºå’Œéå®¢æˆ·æœºã€‚</p><ul><li><strong>STEP1.0ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><p>ç›´æ¥æ‰“å¼€è€å¸ˆæ‹“æ‰‘ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-9-ci-bi-ji/5d9cd2cec6bc4b1d8f2dbc0185c9cb1f.png"><p>è®¾å¤‡è§’è‰²ï¼šR3æœåŠ¡å™¨ï¼Œå…¶ä½™å®¢æˆ·æœº</p><ul><li><p><strong>STEP1.1ï¼š</strong> æ”¹å(ç•¥)</p></li><li><p><strong>STEP2ï¼š</strong> é…ç½®è·¯ç”±å‘å°„å™¨</p></li></ul><p><strong>ç›®çš„</strong>ï¼šAR4ä»IBGPå­¦ä¹ åˆ°1.1.1.1æ¡ç›®</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>dis bgp rou  <span class="token comment"># ç›®å‰æ²¡æœ‰BGPè·¯ç”±æ¡ç›®</span><span class="token comment"># todo AR3ï¼šè®¾ç½®RRå’ŒClient</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>bgp <span class="token number">2</span>     <span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>peer <span class="token number">23.1</span>.1.2 reflect-client  <span class="token comment"># è®¾ç½®ä¸ºRRï¼Œ23.1.1.2ä¸ºclient</span><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">34.1</span>.1.4  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      1i<span class="token comment"># todo AR3ï¼šè®¾ç½®RRå’ŒClient</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>peer <span class="token number">34.1</span>.1.4 reflect-client  <span class="token comment"># è®¾ç½®ä¸ºRRï¼Œ34.1.1.4ä¸ºclient</span></code></pre><p><strong>ç›®çš„</strong>ï¼šAR5ä»IBGPå­¦ä¹ åˆ°<code>1.1.1.1</code>æ¡ç›®</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR5ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R5<span class="token punctuation">]</span>dis bgp rou  <span class="token comment"># ç›®å‰æ²¡æœ‰BGPè·¯ç”±æ¡ç›®</span><span class="token comment"># todo AR4ï¼šè®¾ç½®RRå’ŒClient</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>bgp <span class="token number">2</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">45.1</span>.1.5 reflect-client  <span class="token comment"># è®¾ç½®ä¸ºRRï¼Œ45.1.1.5ä¸ºclient</span><span class="token comment"># todo AR5ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R5<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">45.1</span>.1.5  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      1i<span class="token comment"># todo AR5ï¼šBGPè¯¦ç»†ä¿¡æ¯</span><span class="token punctuation">[</span>R5<span class="token punctuation">]</span>dis bgp rou <span class="token number">1.1</span>.1.1 BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">45.1</span>.1.5 Local AS number <span class="token builtin class-name">:</span> <span class="token number">2</span> Paths:   <span class="token number">1</span> available, <span class="token number">1</span> best, <span class="token number">1</span> <span class="token keyword">select</span> BGP routing table entry information of <span class="token number">1.1</span>.1.1/32: From: <span class="token number">45.1</span>.1.4 <span class="token punctuation">(</span><span class="token number">34.1</span>.1.4<span class="token punctuation">)</span> Route Duration: 00h01m00s   Relay IP Nexthop: <span class="token number">45.1</span>.1.4 Relay IP Out-Interface: GigabitEthernet0/0/0 Original nexthop: <span class="token number">12.1</span>.1.1 Qos information <span class="token builtin class-name">:</span> 0x0 AS-path <span class="token number">1</span>, origin igp, MED <span class="token number">0</span>, localpref <span class="token number">100</span>, pref-val <span class="token number">0</span>, valid, internal, best, select, active, pre <span class="token number">255</span>, IGP cost <span class="token number">4</span> Originator:  <span class="token number">12.1</span>.1.2 Cluster list: <span class="token number">34.1</span>.1.4, <span class="token number">23.1</span>.1.3 Not advertised to any peer yet</code></pre><h3 id="å®éªŒå››-2-ï¼šè”é‚¦"><a href="#å®éªŒå››-2-ï¼šè”é‚¦" class="headerlink" title="å®éªŒå››$_2$ï¼šè”é‚¦"></a><strong>å®éªŒå››$_2$ï¼šè”é‚¦</strong></h3><p>å¤§ASä¸­å»ºç«‹å°ASï¼ŒASå¤–éƒ¨å»ºç«‹é‚»å±…å…³ç³»é€šè¿‡å¤§ASï¼Œ</p><ul><li><p>AS1ï¼š</p><ul><li>AR1</li></ul></li><li><p>AS2ï¼š</p><ul><li>64512ï¼šAR2ã€AR3</li><li>64513ï¼šAR4ã€AR5</li></ul></li><li><p><strong>STEP3.0ï¼š</strong> åˆ é™¤æ—§çš„BGPé…ç½®</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šåˆ é™¤æ—§çš„BGPé…ç½®</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>un bgp <span class="token number">2</span>Warning: All BGP configurations will be deleted. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>: y<span class="token comment"># todo AR3ï¼šåˆ é™¤æ—§çš„BGPé…ç½®</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>un bgp <span class="token number">2</span>Warning: All BGP configurations will be deleted. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>: y<span class="token comment"># todo AR4ï¼šåˆ é™¤æ—§çš„BGPé…ç½®</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>undo bgp <span class="token number">2</span>Warning: All BGP configurations will be deleted. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>: y<span class="token comment"># todo AR5ï¼šåˆ é™¤æ—§çš„BGPé…ç½®</span><span class="token punctuation">[</span>R5<span class="token punctuation">]</span>undo bgp <span class="token number">2</span>Warning: All BGP configurations will be deleted. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>: y</code></pre><ul><li><strong>STEP3.1ï¼š</strong> é…ç½®è”é‚¦</li></ul><p><strong>ç›®çš„</strong>ï¼šè®©AR2å’ŒAR3å»ºç«‹IBGPé‚»å±…å…³ç³»ï¼ŒAR2å’ŒAR1å»ºç«‹EBGPé‚»å±…å…³ç³»ï¼ŒAR3å’ŒAR4å»ºç«‹EBGPé‚»å±…å…³ç³»</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®è”é‚¦</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>bgp <span class="token number">64512</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>confederation <span class="token function">id</span> <span class="token number">2</span>  <span class="token comment"># å£°æ˜å¤§ASå·</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">23.1</span>.1.3 as-number <span class="token number">64512</span>  <span class="token comment"># å»ºç«‹IBGPå…³ç³»</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>peer <span class="token number">12.1</span>.1.1 as-number <span class="token number">1</span>  <span class="token comment"># å»ºç«‹EBGPå…³ç³»</span><span class="token comment"># todo AR3ï¼šé…ç½®è”é‚¦</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>bgp <span class="token number">64512</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>confederation <span class="token function">id</span> <span class="token number">2</span>  <span class="token comment"># å£°æ˜å¤§ASå·</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>peer <span class="token number">23.1</span>.1.2 as-number <span class="token number">64512</span>  <span class="token comment"># å»ºç«‹EBGPå…³ç³»</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>peer <span class="token number">34.1</span>.1.4 as-number <span class="token number">64513</span>  <span class="token comment"># å»ºç«‹IBGPå…³ç³»</span><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹BGPé‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R2-bgp<span class="token punctuation">]</span>dis bgp peer BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">12.1</span>.1.2 Local AS number <span class="token builtin class-name">:</span> <span class="token number">16</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">1</span>                Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">1</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv  <span class="token number">12.1</span>.1.1        <span class="token number">4</span>           <span class="token number">1</span>        <span class="token number">3</span>        <span class="token number">2</span>      <span class="token number">0</span> 00:00:50 Established       <span class="token number">1</span>  <span class="token number">23.1</span>.1.3        <span class="token number">4</span>       <span class="token number">64512</span>        <span class="token number">6</span>        <span class="token number">8</span>      <span class="token number">0</span> 00:24:20 Established       <span class="token number">0</span><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹BGPé‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>dis bgp peer BGP <span class="token builtin class-name">local</span> router ID <span class="token builtin class-name">:</span> <span class="token number">12.1</span>.1.1 Local AS number <span class="token builtin class-name">:</span> <span class="token number">1</span> Total number of peers <span class="token builtin class-name">:</span> <span class="token number">1</span>                Peers <span class="token keyword">in</span> established state <span class="token builtin class-name">:</span> <span class="token number">0</span>  Peer            V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv  <span class="token number">12.1</span>.1.2        <span class="token number">4</span>           <span class="token number">2</span>        <span class="token number">0</span>        <span class="token number">0</span>     <span class="token number">0</span> 00:06:36      Active       <span class="token number">0</span></code></pre><p>æ­¤æ—¶ï¼ŒAR1çš„é‚»å±…<code>12.1.1.1</code>çš„ASå·ä¸º2ï¼Œæ²¡é—®é¢˜ã€‚<br>ä½†æ˜¯AR3çš„ASå·ä¸º64513ï¼Œå¯¹AR4æ¥è¯´ï¼ŒAR4ä¸çŸ¥é“AR3çš„ASå·64513æ˜¯å¤§ASè¿˜æ˜¯å°ASï¼Œå°±ç”¨AS2å»ºç«‹é‚»å±…å…³ç³»ï¼Œé‚»å±…å…³ç³»å°±å»ºç«‹ä¸èµ·æ¥ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œè®©ASå·ä¸º64512å’ŒASå·ä¸º64513çš„è·¯ç”±å™¨å»ºç«‹é‚»å±…å…³ç³»</p><ul><li><strong>STEP3.2ï¼š</strong> é…ç½®è”é‚¦</li></ul><p><strong>ç›®çš„</strong>ï¼šè®©AR3å’ŒAR4å»ºç«‹IBGPé‚»å±…å…³ç³»ï¼ŒAR4å’ŒAR5å»ºç«‹EBGPé‚»å±…å…³ç³»ï¼Œéƒ½å’ŒAR1å»ºç«‹IBGPé‚»å±…å…³ç³»</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®è”é‚¦</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>un peer <span class="token number">34.1</span>.1.4 as-number <span class="token number">64513</span>  <span class="token comment"># ä¸èƒ½å…ˆæŒ‡é‚»å±…ï¼Œåº”è¯¥å…ˆconfederation peer-aså†peer</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>confederation peer-as <span class="token number">64513</span>  <span class="token comment"># æŒ‡å®šå±äºåŒä¸€ä¸ªè”ç›Ÿçš„å„å­è‡ªæ²»ç³»ç»Ÿå·ï¼Œå³è®©(è‡ªå·±)64512å’Œ(å¯¹æ–¹)64513å»ºç«‹é‚»å±…å…³ç³»ä½¿ç”¨å°ASå·</span><span class="token punctuation">[</span>R3-bgp<span class="token punctuation">]</span>peer <span class="token number">34.1</span>.1.4 as-number <span class="token number">64513</span>  <span class="token comment"># å»ºç«‹EBGPå…³ç³»</span><span class="token comment"># todo AR4ï¼šé…ç½®è”é‚¦</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>bgp <span class="token number">64513</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>confederation <span class="token function">id</span> <span class="token number">2</span>  <span class="token comment"># å£°æ˜å¤§ASå·</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>confederation peer-as <span class="token number">64512</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">34.1</span>.1.3 as-number <span class="token number">64512</span>  <span class="token comment"># å»ºç«‹IBGPå…³ç³»</span><span class="token punctuation">[</span>R4-bgp<span class="token punctuation">]</span>peer <span class="token number">45.1</span>.1.5 as-number <span class="token number">64513</span>  <span class="token comment"># å»ºç«‹EBGPå…³ç³»</span><span class="token comment"># todo AR5ï¼šé…ç½®è”é‚¦</span><span class="token punctuation">[</span>R5<span class="token punctuation">]</span>bgp <span class="token number">64513</span><span class="token punctuation">[</span>R5-bgp<span class="token punctuation">]</span>confederation <span class="token function">id</span> <span class="token number">2</span>  <span class="token comment"># å£°æ˜å¤§ASå·</span><span class="token punctuation">[</span>R5-bgp<span class="token punctuation">]</span>peer <span class="token number">45.1</span>.1.4 as-number <span class="token number">64513</span>  <span class="token comment"># å»ºç«‹IBGPå…³ç³»</span><span class="token comment"># todo AR5ï¼šæŸ¥çœ‹BGPè·¯ç”±è¡¨</span><span class="token punctuation">[</span>R5-bgp<span class="token punctuation">]</span>dis bgp rou BGP Local router ID is <span class="token number">45.1</span>.1.5  Status codes: * - valid, <span class="token operator">&gt;</span> - best, d - damped,               h - history,  i - internal, s - suppressed, S - Stale               Origin <span class="token builtin class-name">:</span> i - IGP, e - EGP, ? - incomplete Total Number of Routes: <span class="token number">1</span>      Network            NextHop        MED        LocPrf    PrefVal Path/Ogn *<span class="token operator">&gt;</span>i  <span class="token number">1.1</span>.1.1/32         <span class="token number">12.1</span>.1.1        <span class="token number">0</span>          <span class="token number">100</span>        <span class="token number">0</span>      <span class="token punctuation">(</span><span class="token number">64512</span><span class="token punctuation">)</span> 1i</code></pre><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬8æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬8æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬8æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬8æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬8æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="å®éªŒä¸€ï¼šè·¯ç”±ç­–ç•¥-é˜²æ­¢æ¬¡ä¼˜è·¯å¾„"><a href="#å®éªŒä¸€ï¼šè·¯ç”±ç­–ç•¥-é˜²æ­¢æ¬¡ä¼˜è·¯å¾„" class="headerlink" title="å®éªŒä¸€ï¼šè·¯ç”±ç­–ç•¥(é˜²æ­¢æ¬¡ä¼˜è·¯å¾„)"></a><strong>å®éªŒä¸€ï¼šè·¯ç”±ç­–ç•¥</strong>(é˜²æ­¢æ¬¡ä¼˜è·¯å¾„)</h2><p>æ³¨ï¼š<br>1.è·¯ç”±æ³¨å…¥ã€è·¯ç”±å¼•å…¥ã€è·¯ç”±é‡åˆ†å‘ä¸€ä¸ªä¸œè¥¿ï¼Œéƒ½æ˜¯è®©ä¸¤ä¸ªä¸åŒçš„è·¯ç”±åè®®äº’ç›¸å­¦ä¹ å¯¹æ–¹çš„è·¯ç”±æ¡ç›®<br>2.å¤šç‚¹åŒå‘é‡åˆ†å‘(å¤šä¸ªè¾¹ç•Œè·¯ç”±å™¨åšäº†è·¯ç”±å¼•å…¥)å®¹æ˜“å¼•èµ·æ¬¡ä¼˜è·¯å¾„å’Œè·¯ç”±ç¯è·¯ç­‰æƒ…å†µï¼Œæ‰€ä»¥è¦æ³¨æ„<strong>é˜²ç¯</strong><br>3.åœ¨å“ªé…ç½®ï¼Ÿï¼šè®©Båè®®å­¦ä¹ Aåè®®(è·¯ç”±æ¡ç›®)ï¼Œå°±è¿›å…¥Båè®®é…ç½®è·¯ç”±å¼•å…¥<br>4.ä¸åŒè·¯ç”±åè®®ä¹‹é—´çš„å¥½åæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œç›¸åŒè·¯ç”±åè®®ä¹‹é—´æ¯”è¾ƒcost</p><ul><li>STEP1.0ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><p>ç›´æ¥æ‰“å¼€è€å¸ˆçš„æ‹“æ‰‘(è™½ç„¶ä½†æ˜¯ï¼Œè€å¸ˆçš„æ‹“æ‰‘æ²¡æœ‰å®Œå…¨é…ç½®å¥½ï¼Œæ‰€ä»¥æ‰“å¼€æ‹“æ‰‘åè¿˜è¦å†é…ç½®ä¸€ä¸‹)</p><img src="/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/ç½‘ç»œæ‹“æ‰‘å®éªŒä¸€ï¼šæ¬¡ä¼˜è·¯å¾„-16564712862691.png"><ul><li>STEP1.1ï¼šAR2é…ç½®ç¯å›å£</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®ç¯å›å£åœ°å€</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>R2-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">2.2</span>.2.2 <span class="token number">32</span></code></pre><ul><li>STEP1.2ï¼šAR2é…ç½®è·¯ç”±å¼•å…¥</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®è·¯ç”±å¼•å…¥</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>R2-rip-1<span class="token punctuation">]</span><span class="token punctuation">[</span>R2-rip-1<span class="token punctuation">]</span>import-route ?  bgp     Border Gateway Protocol <span class="token punctuation">(</span>BGP<span class="token punctuation">)</span> routes  direct  Direct routes  isis    Intermediate System to Intermediate System <span class="token punctuation">(</span>ISIS<span class="token punctuation">)</span> routes  ospf    Open Shortest Path First <span class="token punctuation">(</span>OSPF<span class="token punctuation">)</span> routes  rip     Routing Information Protocol <span class="token punctuation">(</span>RIP<span class="token punctuation">)</span> routes  static  Static routes  unr     User Network Route<span class="token punctuation">[</span>R2-rip-1<span class="token punctuation">]</span>import-route direct ?  cost          Cost of the <span class="token function">import</span> route  route-policy  Apply the specified route policy to filter route  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>          Please press ENTER to execute <span class="token builtin class-name">command</span> <span class="token punctuation">[</span>R2-rip-1<span class="token punctuation">]</span>import-route direct</code></pre><ul><li>STEP1.3ï¼šåˆ é™¤å¤šä½™é…ç½®</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šåˆ é™¤è·¯ç”±å¼•å…¥é…ç½®</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>rip  <span class="token comment"># è¿›å…¥RIP</span><span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>un import-route ospf  <span class="token comment"># åˆ é™¤å¯¹OSPFçš„è·¯ç”±å¼•å…¥</span><span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>ospf  <span class="token comment"># è¿›å…¥OSPF</span><span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>un import-route rip  <span class="token comment"># åˆ é™¤å¯¹RIPçš„è·¯ç”±å¼•å…¥</span><span class="token comment"># todo AR3ï¼šåˆ é™¤è·¯ç”±å¼•å…¥é…ç½®</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>rip  <span class="token comment"># è¿›å…¥RIP</span><span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>un import-route ospf  <span class="token comment"># åˆ é™¤å¯¹OSPFçš„è·¯ç”±å¼•å…¥</span><span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>ospf  <span class="token comment"># è¿›å…¥OSPF</span><span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>un import-route rip  <span class="token comment"># åˆ é™¤å¯¹RIPçš„è·¯ç”±å¼•å…¥</span></code></pre><ul><li>STEP1.4ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><p>è¾¹ç•Œè·¯ç”±å™¨AR1å’ŒAR3éƒ½æœ‰<code>2.2.2.2</code>å’Œ<code>4.4.4.4</code>ä¸¤ä¸ªç¯å›åœ°å€ï¼Œä½†æ˜¯åŒºåŸŸå†…è·¯ç”±å™¨AR2å’ŒAR4åªæœ‰è‡ªå·±çš„ç¯å›åœ°å€</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">14.1</span>.1.4        GigabitEthernet0/0/1        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">11</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">11</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">34.1</span>.1.4        GigabitEthernet0/0/1        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR4ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">13</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">13</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interfaces        <span class="token number">4.4</span>.4.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">4.4</span>.4.4         LoopBack0        Â·Â·Â·Â·Â·Â·</code></pre><ul><li>STEP2.0ï¼šä¸€ä¸ªABRé…ç½®è·¯ç”±å¼•å…¥</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®è·¯ç”±å¼•å…¥</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>import-route ospf<span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>import-route rip</code></pre><ul><li>STEP2.1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><p>AR1è·¯ç”±è¡¨<strong>ä¸å˜</strong>ï¼ŒAR2å’ŒAR4è·¯ç”±è¡¨<strong>å¢åŠ </strong>äº†å¯¹æ–¹ç¯å›åœ°å€çš„è·¯ç”±æ¡ç›®ï¼ŒAR3åˆ°<code>4.4.4.4</code>çš„è·¯ç”±æ¡ç›®<strong>æ”¹å˜</strong>ï¼Œå› ä¸ºRIPæ¯”O_ASEçš„ä¼˜å…ˆçº§æ›´ä½(è¶Šä½è¶Šä¼˜å…ˆ)</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">14.1</span>.1.4        GigabitEthernet0/0/1        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0        <span class="token number">4.4</span>.4.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  RIP     <span class="token number">100</span>  <span class="token number">2</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR4ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">4</span>&gt;</span>dis <span class="token function">ip</span> rou  Route Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">16</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">16</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">14.1</span>.1.1        GigabitEthernet0/0/1        <span class="token number">4.4</span>.4.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">4.4</span>.4.4         LoopBack0        Â·Â·Â·Â·Â·Â·</code></pre><ul><li>STEP2.2ï¼šå¦ä¸€ä¸ªABRé…ç½®è·¯ç”±å¼•å…¥</li></ul><pre class="language-shel" data-language="shel"><code class="language-shel">[R3]rip[R3-rip-1]import-route ospf[R3-rip-1]ospf[R3-ospf-1]import-route rip</code></pre><ul><li>STEP2.3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨(ç•¥)</li></ul><p>AR1å’ŒAR3è·¯ç”±è¡¨<strong>ä¸å˜</strong>ï¼ŒAR2å’ŒAR4è·¯ç”±è¡¨<strong>å¢åŠ </strong>äº†è´Ÿè½½å‡è¡¡çš„è·¯ç”±æ¡ç›®</p><blockquote><p>ä¸ºä»€ä¹ˆAR3ä¸å­¦ä¹ æ›´ä¼˜è·¯å¾„ï¼Ÿ<br>å› ä¸ºOSPFé‡åˆ†å‘åï¼Œä¼˜å…ˆçº§å˜æˆ3ç±»LSAçš„150ï¼Œæ¯”ä¼˜å…ˆçº§ä¸º100çš„RIPæ›´å¤§ï¼Œæ ¹æ®è¶Šå°è¶Šä¼˜å…ˆï¼Œæ‰€ä»¥é€‰æ‹©RIPã€‚è€Œä¸”RIPæœ‰æ°´å¹³åˆ†å‰²(é»˜è®¤å¼€å¯)ï¼ŒAR3ä»AR2ä¸­å­¦ä¹ åˆ°çš„<code>4.4.4.4</code>ä¸ä¼šå†å‘é€æ›´æ–°ç»™AR2ã€‚</p></blockquote><p>AR4å‘æ›´æ–°ç»™AR1å’ŒAR3ï¼Œè¿™ä¿©å†å‘ç»™AR2ï¼Œæ­¤æ—¶AR2å°±æœ‰è´Ÿè½½å‡è¡¡çš„è·¯ç”±æ¡ç›®<br>æ­¤æ—¶å†å¼€å¯AR3çš„è·¯ç”±å¼•å…¥ï¼Œæ— æ³•æ›´æ–°æ›´ä¼˜çš„è·¯å¾„ï¼Œå› ä¸ºå·²ç»å­˜åœ¨ä¸€æ¡è·¯å¾„</p><ul><li>STEP3.0ï¼šAR3é…ç½®è·¯ç”±ç­–ç•¥</li></ul><p><strong>è·¯ç”±ç­–ç•¥é…ç½®æ€è·¯</strong>ï¼šACLåµŒå¥—åˆ°è·¯ç”±ç­–ç•¥ä¸­ï¼Œè·¯ç”±ç­–ç•¥å†è¢«OSPFç­‰åè®®è°ƒç”¨<br>ä¾‹AR3ï¼šã€é™¤äº†ç­–ç•¥è·¯ç”±é‡Œé¢çš„ä¼˜å…ˆçº§è®¾ä¸º99ï¼Œå…¶ä»–ä¼˜å…ˆçº§å…¨éƒ¨è®¾ä¸º150(é»˜è®¤)ï¼Œå³æŠŠä¼˜å…ˆçº§é»˜è®¤è®¾ç½®ä¸º150ï¼Œ<code>4.4.4.0</code>è®¾ç½®ä¸º99ã€‘<br>è®¾ç½®ACLè§„åˆ™ï¼š1.åŒ¹é…<code>4.4.4.0</code>ï¼Œ2.æ‹’ç»å…¶ä»–ç½‘æ®µ<br>è·¯ç”±ç­–ç•¥é€‰æ‹©å“åº”ACLï¼Œå¹¶ä¼˜å…ˆçº§è®¾ç½®ä¸º99</p><p>è·¯ç”±ç­–ç•¥æœ‰ä¸¤ä¸ªåŠ¨ä½œï¼šmatchå’Œapply<br>åªè¦ä¸matchå°±æ˜¯match any</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># show å‘½ä»¤ï¼šæŸ¥çœ‹ACLå’Œè·¯ç”±ç­–ç•¥</span>dis acl alldis route-policy</code></pre><p>ACLæ­¥é•¿5è‡ªå¢ï¼Œè€Œè·¯ç”±ç­–ç•¥nodeå€¼å¿…é¡»æ‰‹å†™</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®ACL</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>R3-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">4.4</span>.4.0 <span class="token number">0.0</span>.0.244<span class="token punctuation">[</span>R3-acl-basic-2000<span class="token punctuation">]</span>rule deny <span class="token comment"># todo AR3ï¼šé…ç½®è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route-policy ciyou permit <span class="token function">node</span> <span class="token number">10</span>  <span class="token comment"># è·¯ç”±ç­–ç•¥åå­—éšä¾¿å–ï¼Œä½†æ˜¯ä¸€å®šè¦è®°å¾—</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>if-match acl <span class="token number">2000</span>  <span class="token comment"># è·¯ç”±ç­–ç•¥åŒ¹é…4.4.4.0çš„åœ°å€</span><span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply preference <span class="token number">99</span>  <span class="token comment"># è®¾ç½®ä¼˜å…ˆçº§ä¸º99</span><span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>preference ase route-policy ciyou <span class="token number">150</span>  <span class="token comment"># è®¾ç½®ä¼˜å…ˆçº§ï¼šè·¯ç”±ç­–ç•¥ä¸­çš„ä¸º99ï¼Œå…¶ä½™ä¸º150(é»˜è®¤ï¼Œä¸å†™ä¹Ÿè¡Œ)</span><span class="token comment"># todo AR3ï¼šæŸ¥çœ‹å®Œæ•´é…ç½®</span><span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>dis th<span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span>ospf <span class="token number">1</span>  import-route rip <span class="token number">1</span> preference ase route-policy ciyou <span class="token number">150</span>  area <span class="token number">0.0</span>.0.0   network <span class="token number">34.1</span>.1.0 <span class="token number">0.0</span>.0.255 <span class="token comment">#</span><span class="token builtin class-name">return</span></code></pre><ul><li>STEP3.1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">14.1</span>.1.4        GigabitEthernet0/0/1        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">16</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">16</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  O_ASE   <span class="token number">99</span>   <span class="token number">1</span>           D   <span class="token number">34.1</span>.1.4        GigabitEthernet0/0/1        Â·Â·Â·Â·Â·Â·</code></pre><p>æ­¤æ—¶æš‚æ—¶æ²¡æœ‰æ¬¡ä¼˜è·¯å¾„ï¼Œä½†æ˜¯å¦‚æœAR1å’ŒAR2æ–­å¼€å†é‡è¿ï¼Œå°±å¯èƒ½å‡ºç°æ¬¡ä¼˜è·¯å¾„äº†ï¼Œå› ä¸ºå¦‚æœAR1å…ˆå‘é€æ›´æ–°ç»™AR2ï¼Œé‚£å°±æ²¡æœ‰é—®é¢˜ï¼›å¦‚æœAR3å…ˆå‘é€æ›´æ–°ç»™AR2ï¼Œå°±å‡ºç°æ¬¡ä¼˜è·¯å¾„ï¼Œæ‰€ä»¥è¿˜è¦é…ç½®AR1ã€‚</p><ul><li>STEP3.2ï¼šAR1é…ç½®è·¯ç”±ç­–ç•¥</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®ACL</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>R1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">4.4</span>.4.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>R1-acl-basic-2000<span class="token punctuation">]</span>rule deny <span class="token comment"># todo AR1ï¼šé…ç½®è·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>route-policy cy-rip permit <span class="token function">node</span> <span class="token number">10</span>  <span class="token comment"># è·¯ç”±ç­–ç•¥</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>if-match acl <span class="token number">2000</span><span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>apply preference <span class="token number">151</span><span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>preference route-policy cy-rip <span class="token number">100</span>  <span class="token comment"># é»˜è®¤100</span><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹å®Œæ•´é…ç½®</span><span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>dis th<span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span>rip <span class="token number">1</span> undo summary version <span class="token number">2</span> network <span class="token number">12.0</span>.0.0 preference route-policy cy-rip  <span class="token comment"># é»˜è®¤100</span> import-route ospf <span class="token number">1</span><span class="token comment">#</span><span class="token builtin class-name">return</span></code></pre><ul><li>STEP3.3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">14.1</span>.1.4        GigabitEthernet0/0/1        Â·Â·Â·Â·Â·Â·<span class="token comment"># todo AR3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨ </span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">14</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">14</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">2.2</span>.2.2/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0        <span class="token number">4.4</span>.4.0/24  O_ASE   <span class="token number">99</span>   <span class="token number">1</span>           D   <span class="token number">34.1</span>.1.4        GigabitEthernet0/0/1        Â·Â·Â·Â·Â·Â·</code></pre><h2 id="å®éªŒäºŒï¼šè·¯ç”±è¿‡æ»¤-é˜²æ­¢å¼•å…¥ç¯è·¯"><a href="#å®éªŒäºŒï¼šè·¯ç”±è¿‡æ»¤-é˜²æ­¢å¼•å…¥ç¯è·¯" class="headerlink" title="å®éªŒäºŒï¼šè·¯ç”±è¿‡æ»¤(é˜²æ­¢å¼•å…¥ç¯è·¯)"></a><strong>å®éªŒäºŒï¼šè·¯ç”±è¿‡æ»¤</strong>(é˜²æ­¢å¼•å…¥ç¯è·¯)</h2><p>è·¯ç”±è¿‡æ»¤ï¼šé‡åˆ†å‘RIPè¿›å…¥OSPFçš„æ¡ç›®ä¸ä¼šå†ä»OSPFè¿›å…¥RIP<br>æ‰“æ ‡ï¼šè¿‡æ»¤ç‰¹å®šæ ‡ç­¾</p><ul><li>STEP1.0ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/ç½‘ç»œæ‹“æ‰‘å®éªŒäºŒ-16564712862702.png"><ul><li>STEP1.1ï¼šæŸ¥çœ‹é…ç½®</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash">dis cur con ripdis <span class="token function">ip</span> int bri</code></pre><ul><li>STEP1.2ï¼šAR6é…ç½®é‡åˆ†å‘</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR6ï¼šé…ç½®é‡åˆ†å‘</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>rip  <span class="token comment"># è¿›å…¥RIP</span><span class="token punctuation">[</span>R6-rip-1<span class="token punctuation">]</span>import-route direct cost <span class="token number">4</span>  <span class="token comment"># è·¯ç”±å¼•å…¥ï¼Œè®¾ç½®costä¸º4</span></code></pre><ul><li>STEP1.3ï¼šAR2æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><p>æœ¬æ¥AR2åˆ°<code>6.6.6.6</code>åº”è¯¥æ˜¯ç›´è¿ï¼Œä½†æ˜¯AR2æŠŠæ›´æ–°å‘é€ç»™AR3ï¼ŒAR3å‘ç»™AR4ï¼ŒARå‘ç»™AR1ï¼ŒAR1å‘ç»™AR2ï¼Œæœ€ç»ˆAR2åˆ°<code>6.6.6.6</code>çš„ä¸‹ä¸€è·³å˜æˆäº†AR1ï¼Œå³<code>12.1.1.1</code>ï¼Œè¿™æ ·å°±å½¢æˆäº†<strong>è·¯ç”±ç¯è·¯</strong>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">17</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">20</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">4.4</span>.4.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0                    RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.3        GigabitEthernet0/0/1        <span class="token number">6.6</span>.6.6/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0        Â·Â·Â·Â·Â·Â·</code></pre><ul><li>STEP1.4ï¼šæµ‹è¯•è·¯ç”±ç¯è·¯</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæµ‹è¯•è·¯ç”±ç¯è·¯</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>tracert <span class="token number">6.6</span>.6.6 <span class="token function">traceroute</span> to  <span class="token number">6.6</span>.6.6<span class="token punctuation">(</span><span class="token number">6.6</span>.6.6<span class="token punctuation">)</span>, max hops: <span class="token number">30</span> ,packet length: <span class="token number">40</span>,press CTRL_C to <span class="token builtin class-name">break</span>  <span class="token number">1</span> <span class="token number">12.1</span>.1.1 <span class="token number">20</span> ms  <span class="token number">20</span> ms  <span class="token number">30</span> ms  <span class="token number">2</span> <span class="token number">14.1</span>.1.4 <span class="token number">20</span> ms  <span class="token number">20</span> ms  <span class="token number">30</span> ms  <span class="token number">3</span> <span class="token number">34.1</span>.1.3 <span class="token number">30</span> ms  <span class="token number">30</span> ms  <span class="token number">30</span> ms  <span class="token number">4</span> <span class="token number">23.1</span>.1.2 <span class="token number">40</span> ms  <span class="token number">20</span> ms  <span class="token number">20</span> ms Â·Â·Â·Â·Â·Â·<span class="token number">27</span> <span class="token number">34.1</span>.1.3 <span class="token number">120</span> ms  <span class="token number">140</span> ms  <span class="token number">110</span> ms <span class="token number">28</span> <span class="token number">23.1</span>.1.2 <span class="token number">140</span> ms  <span class="token number">130</span> ms  <span class="token number">130</span> ms <span class="token number">29</span> <span class="token number">12.1</span>.1.1 <span class="token number">150</span> ms  <span class="token number">140</span> ms  <span class="token number">130</span> ms <span class="token number">30</span> <span class="token number">14.1</span>.1.4 <span class="token number">120</span> ms  <span class="token number">140</span> ms  <span class="token number">150</span> ms <span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span></code></pre><ul><li>STEP1.5ï¼šé…ç½®è·¯ç”±è¿‡æ»¤æ€è·¯</li></ul><img src="/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/è·¯ç”±ç­–ç•¥æ€è·¯-16564712862713.png"><ul><li>STEP2.0ï¼šAR1é…ç½®è·¯ç”±è¿‡æ»¤ç­–ç•¥</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šè·¯ç”±ç­–ç•¥</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>route-policy r-o deny <span class="token function">node</span> <span class="token number">10</span>  <span class="token comment"># RIP-&gt;OSPF</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>if-match tag <span class="token number">40</span>  <span class="token comment"># deny if-match</span><span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>route-policy r-o permit <span class="token function">node</span> <span class="token number">20</span>  <span class="token comment"># RIP-&gt;OSPF</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>apply tag <span class="token number">10</span>  <span class="token comment"># permit apply</span><span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>route-policy o-r deny <span class="token function">node</span> <span class="token number">10</span>  <span class="token comment"># OSPF-&gt;RIP</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>if-match tag <span class="token number">30</span>  <span class="token comment"># deny if-match</span><span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>route-policy o-r permit <span class="token function">node</span> <span class="token number">20</span>  <span class="token comment"># OSPF-&gt;RIP</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>apply tag <span class="token number">20</span>  <span class="token comment"># permit apply</span><span class="token punctuation">[</span>R1-route-policy<span class="token punctuation">]</span>q</code></pre><ul><li>STEP2.1ï¼šAR1é…ç½®åŒºåŸŸå¯åŠ¨è·¯ç”±è¿‡æ»¤ç­–ç•¥</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®åŒºåŸŸå¯åŠ¨è·¯ç”±è¿‡æ»¤ç­–ç•¥</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>import-route ospf route-policy o-r <span class="token punctuation">[</span>R1-rip-1<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>import-route rip route-policy r-o</code></pre><ul><li>STEP2.2ï¼šæŸ¥çœ‹è·¯ç”±ç‰¹å®šè·¯ç”±æ¡ç›®è¯¦ç»†ä¿¡æ¯</li></ul><p>å‘½ä»¤ï¼š<code>dis ip rou [ç‰¹å®šåœ°å€] verbose</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹4.4.4.0æ¡ç›®ä¿¡æ¯</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis <span class="token function">ip</span> rou <span class="token number">4.4</span>.4.0 verRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Table <span class="token builtin class-name">:</span> PublicSummary Count <span class="token builtin class-name">:</span> <span class="token number">2</span>Destination: <span class="token number">4.4</span>.4.0/24     Protocol: RIP              Process ID: <span class="token number">1</span>   Preference: <span class="token number">100</span>                    Cost: <span class="token number">1</span>      NextHop: <span class="token number">12.1</span>.1.1          Neighbour: <span class="token number">12.1</span>.1.1        State: Active Adv              Age: 00h02m14s          Tag: <span class="token number">20</span>                 Priority: low        Label: NULL                QoSInfo: 0x0   IndirectID: 0x0               RelayNextHop: <span class="token number">0.0</span>.0.0           Interface: GigabitEthernet0/0/0     TunnelID: 0x0                   Flags:  DDestination: <span class="token number">4.4</span>.4.0/24     Protocol: RIP              Process ID: <span class="token number">1</span>   Preference: <span class="token number">100</span>                    Cost: <span class="token number">1</span>      NextHop: <span class="token number">23.1</span>.1.3          Neighbour: <span class="token number">23.1</span>.1.3        State: Active Adv              Age: 00h46m47s          Tag: <span class="token number">1</span>                  Priority: low        Label: NULL                QoSInfo: 0x0   IndirectID: 0x0               RelayNextHop: <span class="token number">0.0</span>.0.0           Interface: GigabitEthernet0/0/1     TunnelID: 0x0                   Flags:  D</code></pre><ul><li>STEP2.3ï¼šAR3é…ç½®è·¯ç”±è¿‡æ»¤ç­–ç•¥</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®è·¯ç”±è¿‡æ»¤ç­–ç•¥</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route-policy r-o deny <span class="token function">node</span> <span class="token number">10</span>  <span class="token comment"># RIP-&gt;OSPF</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>if-match tag <span class="token number">20</span>  <span class="token comment"># deny if-match</span><span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route-policy r-o permit <span class="token function">node</span> <span class="token number">20</span>  <span class="token comment"># RIP-&gt;OSPF</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply tag <span class="token number">30</span>  <span class="token comment"># permin apply</span><span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route-policy o-r deny <span class="token function">node</span> <span class="token number">10</span>  <span class="token comment"># OSPF-&gt;RIP</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>if-match tag <span class="token number">10</span>  <span class="token comment"># deny if-match</span><span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>route-policy o-r permit <span class="token function">node</span> <span class="token number">20</span>  <span class="token comment"># OSPF-&gt;RIP</span>Info: New Sequence of this List.<span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>apply tag <span class="token number">40</span>  <span class="token comment"># permin apply</span><span class="token punctuation">[</span>R3-route-policy<span class="token punctuation">]</span>q</code></pre><ul><li>STEP2.4ï¼šAR3é…ç½®åŒºåŸŸå¯åŠ¨è·¯ç”±è¿‡æ»¤ç­–ç•¥</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>import-route ospf route-policy o-r<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>import-route rip route-policy r-o</code></pre><p>æœ€åæœ€å¥½è‡ªå·±å†™ä¸€ä¸ªé»˜è®¤ç­–ç•¥ã€‚</p><p><em>ä½œä¸šï¼š</em> å®éªŒç”¨äº†ä¸¤ä¸ªè·¯ç”±ç­–ç•¥è§£å†³è·¯ç”±ç¯è·¯ï¼Œè‹¥åªç”¨ä¸€ä¸ªè·¯ç”±ç­–ç•¥æ€ä¹ˆè§£å†³ï¼Ÿ</p><h2 id="å®éªŒä¸‰ï¼šå‰ç¼€åˆ—è¡¨-è·¯ç”±è·¯å¾„æ§åˆ¶"><a href="#å®éªŒä¸‰ï¼šå‰ç¼€åˆ—è¡¨-è·¯ç”±è·¯å¾„æ§åˆ¶" class="headerlink" title="å®éªŒä¸‰ï¼šå‰ç¼€åˆ—è¡¨(è·¯ç”±è·¯å¾„æ§åˆ¶)"></a><strong>å®éªŒä¸‰ï¼šå‰ç¼€åˆ—è¡¨</strong>(è·¯ç”±è·¯å¾„æ§åˆ¶)</h2><p>å‰ç¼€åˆ—è¡¨ä½œç”¨ï¼š<strong>è¿‡æ»¤</strong></p><h3 id="å®éªŒä¸‰-1"><a href="#å®éªŒä¸‰-1" class="headerlink" title="å®éªŒä¸‰$_1$"></a>å®éªŒä¸‰$_1$</h3><p>å®éªŒç›®çš„ï¼š<strong>è¿‡æ»¤</strong>æ‰<code>192.168.1.1/32</code>ï¼Œ<strong>ä¿ç•™</strong><code>192.168.1.0/25</code></p><ul><li>STEP1.0ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><p>ç›´æ¥æ‰“å¼€è€å¸ˆçš„ç½‘ç»œæ‹“æ‰‘(é…ç½®ä¸å…¨ï¼Œå…¶å®å¥½åƒæ²¡å½±å“â€¦)</p><img src="/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/å®éªŒä¸‰-16564712862715.png"><ul><li>STEP1.1ï¼šå®Œå–„é…ç½®(å…¶å®å¥½åƒåº”è¯¥ä¸ç”¨é…â€¦)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šä¿®æ”¹OSPFç½‘ç»œç±»å‹</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>R1-LoopBack0<span class="token punctuation">]</span>ospf network-type broadcast </code></pre><ul><li>STEP1.2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">12</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">12</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">4.4</span>.4.4/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">23.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">23.1</span>.1.3        GigabitEthernet0/0/0       <span class="token number">23.1</span>.1.3/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0     <span class="token number">23.1</span>.1.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0      <span class="token number">127.0</span>.0.0/8   Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0      <span class="token number">127.0</span>.0.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">127.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0    <span class="token number">192.168</span>.1.0/25  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0    <span class="token number">192.168</span>.1.1/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0</code></pre><p>è·¯ç”±è¡¨ä¸­æœ‰<code>192.168.1.0/25</code>å’Œ<code>192.168.1.1/32</code></p><ul><li>STEP2.0ï¼šAR3ä½¿ç”¨è·¯ç”±è¿‡æ»¤ç­–ç•¥è¿›è¡Œè·¯ç”±è·¯å¾„æ§åˆ¶</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®ACL</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>R3-acl-basic-2000<span class="token punctuation">]</span>rule deny <span class="token builtin class-name">source</span> <span class="token number">192.168</span>.1.0 <span class="token number">0.0</span>.0.63<span class="token punctuation">[</span>R3-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token punctuation">[</span>R3-acl-basic-2000<span class="token punctuation">]</span>q<span class="token comment"># todo AR3ï¼šé…ç½®RIPè·¯ç”±è¿‡æ»¤ç­–ç•¥</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>filter-policy ?             INTEGER<span class="token operator">&lt;</span><span class="token number">2000</span>-299<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>  Apply basic ACL  acl-name            Specify IP Access Control List <span class="token punctuation">(</span>ACL<span class="token punctuation">)</span> name <span class="token keyword">for</span> filtering                         routes  gateway             Filter routes based on the distributing gateway  ip-prefix           Specify IP prefix <span class="token keyword">for</span> filtering routes<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>filter-policy <span class="token number">2000</span> ?  <span class="token builtin class-name">export</span>  Specify an <span class="token builtin class-name">export</span> policy  <span class="token function">import</span>  Specify an <span class="token function">import</span> policy<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>filter-policy <span class="token number">2000</span> <span class="token function">import</span> </code></pre><ul><li>STEP2.1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">10</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">10</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">4.4</span>.4.4/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">23.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">23.1</span>.1.3        GigabitEthernet0/0/0       <span class="token number">23.1</span>.1.3/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0     <span class="token number">23.1</span>.1.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0      <span class="token number">127.0</span>.0.0/8   Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0      <span class="token number">127.0</span>.0.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">127.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0</code></pre><p><code>192.168.1.0/25</code>å’Œ<code>192.168.1.1/32</code>éƒ½æ²¡æœ‰ï¼Œè¿‡æ»¤å¤±è´¥ã€‚</p><ul><li>STEP2.2ï¼šAR3é…ç½®å‰ç¼€åˆ—è¡¨</li></ul><p>ACLåªèƒ½åŸºäºè·¯ç”±æ¡ç›®çš„ç½‘ç»œå·åŒ¹é…ï¼ŒACLåªèƒ½è¿‡æ»¤ç½‘è·¯å·<br>å³åªè¦åœ°å€åŒ¹é…ï¼Œä¸ç®¡æ©ç ï¼Œå…¨éƒ¨æŒ‰ACLè§„åˆ™è¿›è¡Œæ¥æ”¶/æ‹’ç»<br>æ‰€ä»¥ï¼Œåœ¨è¿›è¡Œè·¯ç”±æ¡ç›®åˆ†ç±»ä¸å»ºè®®ä½¿ç”¨ACL</p><p>å‰ç¼€åˆ—è¡¨ï¼šåŒ¹é…ç½‘ç»œå·å’Œæ©ç </p><p>é€šé…ç¬¦ä¸èƒ½ä¸æ©ç é•¿åº¦å¤§</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ip ip-prefix ?  STRING<span class="token operator">&lt;</span><span class="token number">1</span>-16<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>  Specify prefix-list name<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ip ip-prefix dcm ?         deny    Specify a deny rule  index   Set the sequence number of this entry <span class="token keyword">for</span> IP prefix-list  permit  Specify a permit rule<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ip ip-prefix dcm deny ?  IP_ADDR<span class="token operator">&lt;</span>X.X.X.X<span class="token operator">&gt;</span>  Specify IP-address<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ip ip-prefix dcm deny <span class="token number">192.168</span>.1.0 ?  INTEGER<span class="token operator">&lt;</span><span class="token number">0</span>-3<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>  Mask length<span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ip ip-prefix dcm deny <span class="token number">192.168</span>.1.0 <span class="token number">24</span> ?  greater-equal  Set the greater-than-or-equal-to value of the mask length  less-equal     Set the less-than-or-equal-to value of the mask length  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>           Please press ENTER to execute <span class="token builtin class-name">command</span> <span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ip ip-prefix dcm deny <span class="token number">192.168</span>.1.0 <span class="token number">24</span> greater-equal <span class="token number">26</span> less-equal <span class="token number">26</span><span class="token comment"># ç­‰ä»·äº[R3]ip ip-prefix dcm deny 192.168.1.0 26</span></code></pre><ul><li>STEP2.3ï¼šAR3æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">11</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">11</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">4.4</span>.4.4/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">23.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">23.1</span>.1.3        GigabitEthernet0/0/0       <span class="token number">23.1</span>.1.3/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0     <span class="token number">23.1</span>.1.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0      <span class="token number">127.0</span>.0.0/8   Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0      <span class="token number">127.0</span>.0.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">127.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0    <span class="token number">192.168</span>.1.0/25  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0</code></pre><p>å¯ä»¥çœ‹åˆ°æœ‰<code>192.168.1.0/25</code>ï¼Œæ²¡æœ‰<code>192.168.1.1/32</code>ï¼Œè¯´æ˜æˆåŠŸè¿‡æ»¤ã€‚</p><p>å…³äºå‰ç¼€åˆ—è¡¨è¿‡æ»¤ï¼š<br>RIPéšä¾¿è¿‡æ»¤ï¼ŒOSPFä¸è¡Œï¼ŒOSPFåŒä¸€ä¸ªåŒºåŸŸå¿…é¡»ä¿æŒä¸€è‡´ï¼ŒOSPFåªèƒ½åœ¨è¿›OSPFæ–¹å‘åšè¿‡æ»¤ï¼Œå³importï¼Œä¸èƒ½åœ¨å‡ºOSPFæ–¹å‘åšè¿‡æ»¤ï¼Œå³exportï¼ŒåªæŠŠè·¯ç”±æ›´æ–°æ›´æ–°åˆ°æ•°æ®åº“ï¼Œä½†æ˜¯ä¸æŠŠè·¯ç”±æ›´æ–°åŠ è¡¨</p><h3 id="å®éªŒä¸‰-2"><a href="#å®éªŒä¸‰-2" class="headerlink" title="å®éªŒä¸‰$_2$"></a>å®éªŒä¸‰$_2$</h3><p>å®éªŒç›®çš„ï¼š<strong>è¿‡æ»¤</strong>æ‰Cç±»è·¯ç”±æ¡ç›®</p><p><font color="#999AAA">OSPFé‡åˆ†å‘é»˜è®¤ç±»å‹2ï¼Œæ¯ç»è¿‡è·¯ç”±å™¨åº¦é‡å€¼ä¸å˜</font></p><ul><li>STEP1.0ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><p>ç›´æ¥æ‰“å¼€è€å¸ˆçš„ç½‘ç»œæ‹“æ‰‘(æœªé…ç½®å®Œå…¨)</p><img src="/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/å®éªŒä¸‰-16564712862715.png"><ul><li>STEP1.1ï¼šAR2é…ç½®é‡åˆ†å‘</li></ul><pre class="language-SHELL" data-language="SHELL"><code class="language-SHELL"># todo AR2ï¼šé…ç½®é‡åˆ†å‘[R2]ospf[R2-ospf-1]import-route rip[R2-ospf-1]import-route direct</code></pre><ul><li>STEP1.2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">12</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">12</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       Â·Â·Â·Â·Â·Â·    <span class="token number">192.168</span>.1.0/25  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0    <span class="token number">192.168</span>.1.0/26  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">192.168</span>.1.1     LoopBack0    <span class="token number">192.168</span>.1.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0   <span class="token number">192.168</span>.1.63/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0</code></pre><p>æœ‰<code>192.168.1.0/25</code>è¿™ä¸ªéç›´è¿çš„Cç±»åœ°å€</p><ul><li>STEP2.0ï¼šAR1é…ç½®å‰ç¼€åˆ—è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®å‰ç¼€åˆ—è¡¨</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ip ip-prefix C deny <span class="token number">192.0</span>.0.0 <span class="token number">3</span> less-equal <span class="token number">32</span>  <span class="token comment"># å‰ç¼€åˆ—è¡¨åŒ¹é…æ‹’ç»Cç±»åœ°å€</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ip ip-prefix C permit <span class="token number">0.0</span>.0.0 <span class="token number">0</span> less-equal <span class="token number">32</span>  <span class="token comment"># å‰ç¼€åˆ—è¡¨åŒ¹é…é»˜è®¤ç­–ç•¥(å…è®¸å…¶ä»–æ‰€æœ‰åœ°å€)</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ospf  <span class="token comment"># è¿›å…¥OSPF</span><span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>filter-policy ip-prefix C <span class="token function">import</span>  <span class="token comment"># å¯¹è¿›å…¥çš„è·¯ç”±é‡‡å–å‰ç¼€åˆ—è¡¨è¿‡æ»¤</span></code></pre><ul><li>STEP2.1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">13</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">13</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       Â·Â·Â·Â·Â·Â·    <span class="token number">192.168</span>.1.0/26  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">192.168</span>.1.1     LoopBack0    <span class="token number">192.168</span>.1.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0   <span class="token number">192.168</span>.1.63/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0</code></pre><p>æ²¡æœ‰<code>192.168.1.0/25</code>ï¼ŒæˆåŠŸè¿‡æ»¤ã€‚(ç›´è¿çš„Cç±»åœ°å€æ— æ³•è¿‡æ»¤)</p><h2 id="å®éªŒå››ï¼šè·¯å¾„æ§åˆ¶"><a href="#å®éªŒå››ï¼šè·¯å¾„æ§åˆ¶" class="headerlink" title="å®éªŒå››ï¼šè·¯å¾„æ§åˆ¶"></a><strong>å®éªŒå››ï¼šè·¯å¾„æ§åˆ¶</strong></h2><p>åä¸‰ã€æ€ç§‘è®¾å¤‡çš„é…ç½®æ€è·¯ï¼šACL -&gt; PBR -&gt; INTERFACE<br>åä¸ºè®¾å¤‡çš„é…ç½®æ€è·¯ï¼š<br><strong>-&gt;</strong> ACL(åˆ†ç±»)<br><strong>-&gt;</strong> classifier(è°ƒç”¨ACLåˆ†ç±»)<br><strong>-&gt;</strong> behavior(åŠ¨ä½œ)<br><strong>-&gt;</strong> policy(å…³è”åˆ†ç±»å’ŒåŠ¨ä½œ)<br><strong>-&gt;</strong> æ¥å£è°ƒç”¨</p><p>ä¸€èˆ¬è·¯ç”±å™¨åŸºäºç›®çš„åœ°å€çš„è·¯ç”±è¡¨è¿›è¡Œè½¬å‘<br>ç­–ç•¥è·¯ç”±åŸºäºæºåœ°å€è¿›è¡Œè½¬å‘ï¼ŒåŸºäºç­–ç•¥è¿›è¡Œè½¬å‘<br>å¦‚æœåŒæ—¶æœ‰ç­–ç•¥è·¯ç”±å’Œè·¯ç”±æ¡ç›®ï¼Œå…ˆåŒ¹é…ç­–ç•¥è·¯ç”±(ç­–ç•¥è·¯ç”±ä¼˜å…ˆçº§é«˜äºè·¯ç”±æ¡ç›®)ï¼Œæ‰¾ä¸åˆ°å†æ ¹æ®è·¯ç”±è¡¨è½¬å‘</p><p>é…ç½®<strong>è¦æ±‚</strong>ï¼š<br>1ã€ç»™CEè·¯ç”±å™¨é…ç½®å…¬ç½‘åœ°å€<br>2ã€R4é€šè¿‡DHCPè·å–ipåœ°å€<br>3ã€è´¢åŠ¡éƒ¨4.4.4.4èµ°ç”µä¿¡ï¼Œå…¶ä»–é“¾è·¯(192.168.1.254)èµ°è”é€š</p><ul><li>STEP1.0ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-8-ci-bi-ji/å®éªŒå››-16564712862714.png"><ul><li>STEP1.1ï¼šé…ç½®IP</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®IP</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>dhcp enInfo: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>CE<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>CE-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">183.165</span>.11.2 <span class="token number">30</span><span class="token punctuation">[</span>CE-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>CE-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">61.16</span>.18.2 <span class="token number">30</span><span class="token punctuation">[</span>CE-GigabitEthernet0/0/1<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>CE-GigabitEthernet0/0/2<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.1.1 <span class="token number">24</span><span class="token comment"># todo AR3ï¼šé…ç½®DHCP</span><span class="token punctuation">[</span>CE-GigabitEthernet0/0/2<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> int<span class="token punctuation">[</span>CE-GigabitEthernet0/0/2<span class="token punctuation">]</span>dhcp server dns-list <span class="token number">192.168</span>.1.1 <span class="token number">114.114</span>.114.114<span class="token punctuation">[</span>CE-GigabitEthernet0/0/2<span class="token punctuation">]</span>dis th<span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span>interface GigabitEthernet0/0/2 <span class="token function">ip</span> address <span class="token number">192.168</span>.1.1 <span class="token number">255.255</span>.255.0  dhcp <span class="token keyword">select</span> interface dhcp server dns-list <span class="token number">192.168</span>.1.1 <span class="token number">114.114</span>.114.114 <span class="token comment">#</span><span class="token builtin class-name">return</span><span class="token comment"># todo AR4ï¼šé…ç½®DHCPè·å–IPåœ°å€</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>dhcp <span class="token builtin class-name">enable</span> Info: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>R4<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>R4-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> dhcp-alloc<span class="token comment"># todo AR4ï¼šæŸ¥çœ‹DHCPè·å–çš„åœ°å€</span><span class="token punctuation">[</span>R4-GigabitEthernet0/0/0<span class="token punctuation">]</span>dis <span class="token function">ip</span> int bri*down: administratively down^down: standby<span class="token punctuation">(</span>l<span class="token punctuation">)</span>: loopback<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: spoofingThe number of interface that is UP <span class="token keyword">in</span> Physical is <span class="token number">2</span>The number of interface that is DOWN <span class="token keyword">in</span> Physical is <span class="token number">2</span>The number of interface that is UP <span class="token keyword">in</span> Protocol is <span class="token number">2</span>The number of interface that is DOWN <span class="token keyword">in</span> Protocol is <span class="token number">2</span>Interface                         IP Address/Mask      Physical   Protocol  GigabitEthernet0/0/0              <span class="token number">192.168</span>.1.254/24     up         up        GigabitEthernet0/0/1              unassigned           down       down      GigabitEthernet0/0/2              unassigned           down       down      NULL0                             unassigned           up         up<span class="token punctuation">(</span>s<span class="token punctuation">)</span>     <span class="token comment"># todo AR4ï¼šé…ç½®ç¯å›åœ°å€</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>R4-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">4.4</span>.4.4 <span class="token number">24</span></code></pre><ul><li>STEP2.0ï¼šæµ‹è¯•è¿é€šæ€§</li></ul><p>é…ç½®NATå‰ï¼Œå…ˆæµ‹è¯•ç½‘ç»œè¿é€šæ€§ï¼š<br>ç”¨AR4 ping CNCå’ŒCTçš„åœ°å€ï¼Œå³<code>183.165.11.0</code>å’Œ<code>61.16.18.0</code>ï¼Œæ— æ³•pingé€šï¼Œä¹Ÿpingä¸é€š<code>1.1.1.1</code>å’Œ<code>2.2.2.2</code></p><ul><li>STEP2.1ï¼šé…ç½®NAT</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šNAT</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>acl <span class="token number">2002</span><span class="token punctuation">[</span>CE-acl-basic-2002<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> any<span class="token punctuation">[</span>CE-acl-basic-2002<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>CE-GigabitEthernet0/0/0<span class="token punctuation">]</span>nat outbound <span class="token number">2002</span><span class="token punctuation">[</span>CE-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>CE-GigabitEthernet0/0/1<span class="token punctuation">]</span>nat outbound <span class="token number">2002</span></code></pre><ul><li>STEP2.2ï¼šæµ‹è¯•è¿é€šæ€§</li></ul><p>é…ç½®NATåï¼Œæµ‹è¯•ç½‘ç»œè¿é€šæ€§ï¼š<br>pingé€š<code>183.165.11.1</code>å’Œ<code>61.16.18.1</code><br>pingä¸é€š<code>1.1.1.1</code>å’Œ<code>2.2.2.2</code></p><ul><li>STEP3.0ï¼šAR3é…ç½®PBR</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä¸€ã€AR3ä½¿ç”¨ACLè¿›è¡Œåˆ†ç±»</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>acl <span class="token number">2000</span>       <span class="token punctuation">[</span>CE-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">4.4</span>.4.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>CE-acl-basic-2000<span class="token punctuation">]</span>rule deny <span class="token builtin class-name">source</span> any<span class="token punctuation">[</span>CE-acl-basic-2000<span class="token punctuation">]</span>acl <span class="token number">2001</span><span class="token punctuation">[</span>CE-acl-basic-2001<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">192.168</span>.1.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>CE-acl-basic-2001<span class="token punctuation">]</span>rule deny <span class="token builtin class-name">source</span> any<span class="token comment"># todo äºŒã€AR3é…ç½® åˆ†ç±»(è°ƒç”¨ACL)</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>traffic classifier ?  STRING<span class="token operator">&lt;</span><span class="token number">1</span>-3<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>  Name of classifier<span class="token punctuation">[</span>CE<span class="token punctuation">]</span>traffic classifier cw<span class="token punctuation">[</span>CE-classifier-cw<span class="token punctuation">]</span>if-match acl <span class="token number">2000</span><span class="token punctuation">[</span>CE-classifier-cw<span class="token punctuation">]</span>q<span class="token punctuation">[</span>CE<span class="token punctuation">]</span>traffic classifier ot<span class="token punctuation">[</span>CE-classifier-ot<span class="token punctuation">]</span>if-match acl <span class="token number">2001</span><span class="token punctuation">[</span>CE-classifier-ot<span class="token punctuation">]</span>quit<span class="token comment"># todo ä¸‰ã€AR3é…ç½® åŠ¨ä½œ</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>traffic behavior ct<span class="token punctuation">[</span>CE-behavior-ct<span class="token punctuation">]</span>redirect ip-nexthop <span class="token number">61.16</span>.18.1 <span class="token punctuation">[</span>CE-behavior-ct<span class="token punctuation">]</span>q<span class="token punctuation">[</span>CE<span class="token punctuation">]</span>traffic behavior cnc<span class="token punctuation">[</span>CE-behavior-cnc<span class="token punctuation">]</span>redirect ip-nexthop <span class="token number">183.165</span>.11.1 <span class="token punctuation">[</span>CE-behavior-cnc<span class="token punctuation">]</span>quit<span class="token comment"># todo å››ã€AR3é…ç½®å…³è”åˆ†ç±»å’ŒåŠ¨ä½œ</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>traffic policy PBR <span class="token punctuation">[</span>CE-trafficpolicy-PBR<span class="token punctuation">]</span>classifier cw behavior ct<span class="token punctuation">[</span>CE-trafficpolicy-PBR<span class="token punctuation">]</span>classifier ot behavior cnc<span class="token comment"># todo äº”ã€AR3é…ç½®æ¥å£ä¸‹è°ƒç”¨</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>CE-GigabitEthernet0/0/2<span class="token punctuation">]</span>traffic-policy PBR inbound</code></pre><ul><li>STEP3.1ï¼šæµ‹è¯•è¿é€šæ€§</li></ul><p>AR4ä½¿ç”¨<code>4.4.4.4</code>ping<code>2.2.2.2</code>é€šäº†ï¼Œ<code>192.168.1.254</code>ping<code>1.1.1.1</code>æ²¡pingé€šÂ·Â·Â·Â·Â·Â·</p><ul><li>STEP4ï¼šé“¾è·¯æ£€æµ‹</li></ul><p>PBRé—®é¢˜ï¼šå³ä½¿çº¿è·¯downäº†ï¼ŒPBRä»ç„¶ç”Ÿæ•ˆ</p><p>è¦æ±‚ï¼šå¦‚æœæŸä¸ªé“¾è·¯downäº†ï¼Œå¯ä»¥é€šè¿‡å…¶ä»–é“¾è·¯åˆ°è¾¾ç›®çš„ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®é“¾è·¯æ§åˆ¶</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>nqa test-instance ct icmp  <span class="token comment"># nqaæ£€æµ‹</span><span class="token punctuation">[</span>CE-nqa-ct-icmp<span class="token punctuation">]</span>test-type icmp  <span class="token comment"># æ£€æµ‹åŒ…ç±»å‹</span><span class="token punctuation">[</span>CE-nqa-ct-icmp<span class="token punctuation">]</span>frequency <span class="token number">10</span>  <span class="token comment"># é¢‘ç‡ï¼Œæ¯éš”å¤šå°‘ç§’å‘ä¸€ä¸ªHelloåŒ…</span><span class="token punctuation">[</span>CE-nqa-ct-icmp<span class="token punctuation">]</span>probe-count <span class="token number">2</span>  <span class="token comment"># æ¯æ¬¡å‘åŒ…ä¸ªæ•°</span><span class="token punctuation">[</span>CE-nqa-ct-icmp<span class="token punctuation">]</span>destination-address ipv4 <span class="token number">61.16</span>.18.1  <span class="token comment"># æ£€æµ‹çš„ç›®æ ‡(åœ°å€)</span><span class="token punctuation">[</span>CE-nqa-ct-icmp<span class="token punctuation">]</span>start now  <span class="token comment"># å¼€å§‹ã€ç»“æŸæ—¶é—´</span><span class="token comment"># todo AR3ï¼šé…ç½®é“¾è·¯æ§åˆ¶</span><span class="token punctuation">[</span>CE<span class="token punctuation">]</span>nqa test-instance cnc icmp<span class="token punctuation">[</span>CE-nqa-cnc-icmp<span class="token punctuation">]</span>test-type icmp<span class="token punctuation">[</span>CE-nqa-cnc-icmp<span class="token punctuation">]</span>frequency <span class="token number">10</span><span class="token punctuation">[</span>CE-nqa-cnc-icmp<span class="token punctuation">]</span>probe-count <span class="token number">2</span><span class="token punctuation">[</span>CE-nqa-cnc-icmp<span class="token punctuation">]</span>destination-address ipv4 <span class="token number">183.165</span>.11.1<span class="token punctuation">[</span>CE-nqa-cnc-icmp<span class="token punctuation">]</span>start now</code></pre><p><font color="#999AAA">ä¸€ä¸ªæŠ€æœ¯ï¼šè¶…è¿‡å¸¦å®½æ‰“æ ‡ç­¾(æ•´å½¢ç›‘ç®¡)</font></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬7æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬7æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬7æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬7æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬7æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="ACL"><a href="#ACL" class="headerlink" title="ACL"></a>ACL</h2><h3 id="åŸç†ï¼šACLè®¿é—®æ§åˆ¶åˆ—è¡¨"><a href="#åŸç†ï¼šACLè®¿é—®æ§åˆ¶åˆ—è¡¨" class="headerlink" title="åŸç†ï¼šACLè®¿é—®æ§åˆ¶åˆ—è¡¨"></a><strong>åŸç†ï¼šACLè®¿é—®æ§åˆ¶åˆ—è¡¨</strong></h3><ul><li><strong>â‘ åŸç†ï¼šACLæ¦‚è¿°</strong></li></ul><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/0283a4ab8ab44f58aa4d2582ee7e777d.png"><p>åˆ°äº†é«˜é˜¶æ®µï¼ŒACLå‡ ä¹éƒ½æ˜¯ç”¨æ¥<strong>åˆ†ç±»</strong>ç”¨çš„ã€‚</p><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/157ab06523e24c3384dbb9d1939daf5c.png"><p>ACLå¯¹è¿›æ¥çš„æ•°æ®åŒ…è¿‡æ»¤è¿˜æ˜¯å¯¹å‡ºå»çš„æ•°æ®åŒ…è¿›è¡Œè¿‡æ»¤ï¼ŒACLè¿‡æ»¤æ–¹å‘åªæœ‰ä¸€ä¸ªï¼Œä¸èƒ½åŒæ—¶å¯¹åŒä¸€ä¸ªACLè®¾ç½®è¿›å‡ºä¸¤ç§æµå‘ã€‚</p><p>å†™å®ŒACLåï¼Œè¦æŒ‡å®šæ˜¯å¯¹è¿›æ¥çš„æ•°æ®æµè¿‡æ»¤è¿˜æ˜¯å¯¹å‡ºå»çš„æ•°æ®æµè¿‡æ»¤ã€‚</p><ul><li><strong>â‘¡åŸç†ï¼šåŸºäºACLçš„åŒ…è¿‡æ»¤æŠ€æœ¯</strong><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/7f67dff6574f4d9c98a8635816d24b6f.png"></li></ul><p>è¿›è·¯ç”±å™¨æ¥å£ï¼šæ— ACLï¼Œæ•°æ®åŒ…ç›´æ¥è¿›å…¥è·¯ç”±å™¨ï¼›æœ‰ACLï¼Œæ•°æ®åŒ…æ ¹æ®ACLè§„åˆ™åˆ¤æ–­èƒ½å¦è¿›å…¥è·¯ç”±å™¨<br>å‡ºè·¯ç”±å™¨æ¥å£ï¼šå…ˆåšè·¯ç”±è½¬å‘ï¼Œåˆ¤æ–­æ•°æ®åŒ…è¯¥ä»å“ªä¸ªæ¥å£å‡ºå»ï¼Œå†çœ‹è¯¥æ¥å£æ˜¯å¦åº”ç”¨äº†ACLï¼Œæ— ACLç›´æ¥å‡ºå»ï¼Œæœ‰ACLæ ¹æ®ACLè§„åˆ™åˆ¤æ–­èƒ½å¦å‡ºå»ã€‚</p><p><strong>å…¥ç«™åŒ…è¿‡æ»¤å·¥ä½œæµç¨‹</strong>ï¼š<br><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/ac6edf53dd7b4e9d8cbd0bbffb78093b.png"></p><p><strong>å‡ºç«™åŒ…è¿‡æ»¤å·¥ä½œæµç¨‹</strong>ï¼š<br><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/24a0278454494c43922007104d5c6efa.png"></p><p>ACLæŒ‰é¡ºåºåŒ¹é…ï¼Œä¸æ»¡è¶³å°±ä¸€ç›´å¾€ä¸‹åŒ¹é…ï¼Œä¸€ç›´åŒ¹é…åˆ°æœ€åä¸€æ¡åŒ¹é…æ‰€æœ‰çš„è§„åˆ™<br>é»˜è®¤è§„åˆ™ï¼š(åä¸º)å…è®¸ã€‚<font color="#999AAA">å…¶ä»–å‚å•†é»˜è®¤æ‹’ç»æ‰€æœ‰ï¼Œå› æ­¤è¦è®¾ç½®ç›¸å…³çš„å…è®¸ACLè§„åˆ™ã€‚</font></p><p>ACLè§„åˆ™å»ºè®®ï¼šè¶Šè¯¦ç»†è¶Šä¼˜å…ˆ</p><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/003b9e1751e44b36bf4b91ce10485304.png"><table><thead><tr><th align="center">IPv4ACLç±»å‹</th><th align="center">ACLåºå·èŒƒå›´</th><th>åŒºæŠ¥æ–‡ä¾æ®</th></tr></thead><tbody><tr><td align="center">WLAN ACL</td><td align="center">100 ~ 199</td><td>æ ¹æ®æ— çº¿ç”¨æˆ·ç«¯çš„SSIDåˆ¶å®šåŒ¹é…è§„åˆ™</td></tr><tr><td align="center">åŸºæœ¬IPV4 ACL</td><td align="center">2000 ~ 2999</td><td>åªæ ¹æ®æŠ¥æ–‡çš„æºIPåœ°å€ä¿¡æ¯åˆ¶å®šåŒ¹é…è§„åˆ™</td></tr><tr><td align="center">é«˜çº§IPv4 ACL</td><td align="center">3000 ~ 3999</td><td>æ ¹æ®æŠ¥æ–‡çš„æºIPåœ°å€ä¿¡æ¯ã€ç›®çš„IPåœ°å€ä¿¡æ¯ã€IPæ‰¿è½½çš„åè®®ç±»å‹ã€åè®®çš„ç‰¹æ€§ç­‰ä¸‰ã€å››å±‚ä¿¡æ¯åˆ¶å®šåŒ¹é…è§„åˆ™</td></tr><tr><td align="center">äºŒå±‚ACL</td><td align="center">4000 ~ 4999</td><td>æ ¹æ®æŠ¥æ–‡çš„æºMACåœ°å€ã€ç›®çš„MACåœ°å€ã€802.1Qä¼˜å…ˆçº§ã€äºŒå±‚åè®®ç±»å‹ç­‰äºŒå±‚ä¿¡æ¯åˆ¶å®šåŒ¹é…è§„åˆ™</td></tr><tr><td align="center">ç”¨æˆ·è‡ªå®šä¹‰ACL</td><td align="center">5000 ~ 5999</td><td>å¯ä»¥ä»¥æŠ¥æ–‡çš„æŠ¥æ–‡å¤´ã€IPå¤´ç­‰ä¸ºåŸºå‡†ï¼ŒæŒ‡å®šä»ç¬¬å‡ ä¸ªå­—èŠ‚å¼€å§‹ä¸æ©ç â€œä¸â€æ“ä½œï¼Œå°†ä»æŠ¥æ–‡æå–å‡ºæ¥çš„å­—ç¬¦ä¸²å’Œç”¨æˆ·å®šä¹‰çš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾åˆ°åŒ¹é…çš„æŠ¥æ–‡ã€‚</td></tr></tbody></table><p>åŸºæœ¬ACLï¼šåŸºæœ¬è®¿é—®æ§åˆ¶åˆ—è¡¨åªæ ¹æ®æŠ¥æ–‡çš„æºIPåœ°å€ä¿¡æ¯åˆ¶å®šè§„åˆ™â€”â€”å³åªèƒ½è¿‡æ»¤<font color="red">æºIP</font><br>é«˜çº§ACLï¼šé«˜çº§è®¿é—®æ§åˆ¶åˆ—è¡¨æ ¹æ®æŠ¥æ–‡çš„æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€IPæ‰¿è½½çš„åè®®ç±»å‹ã€åè®®ç‰¹æ€§ç­‰ä¸‰ã€å››å±‚åˆ¶å®šè§„åˆ™â€”â€”å³è¿‡æ»¤<font color="red">æºIPã€ç›®çš„IPã€åè®®ã€æºç«¯å£ã€ç›®æ ‡ç«¯å£</font></p><p>å»ºè®®(ä¸æ˜¯ç¡¬æ€§è§„å®š)ï¼š<br>åŸºæœ¬ACLï¼šç¦»ç›®æ ‡è¶Šè¿‘è¶Šå¥½ã€‚å¦‚æœACLè®¾ç½®åœ¨æºå‡ºå£ï¼Œé‚£ä¹ˆæºè®¾å¤‡å‘é€çš„æ•°æ®åŒ…éƒ½ä¸èƒ½å‘é€åˆ°å…¶ä»–åœ°æ–¹ï¼Œè€Œè¢«æ‹¦æˆªåœ¨æºå‡ºå£ï¼Œå› ä¸ºæºå‡ºå£è®¾ç½®äº†ACLã€‚<br>é«˜çº§ACLï¼šç¦»æºè¶Šè¿‘è¶Šå¥½</p><p>ACLé…ç½®å‘½ä»¤ï¼š<br><strong>1.</strong> ACLå‘½å</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># show ACLå‘½å</span><span class="token punctuation">[</span>R<span class="token punctuation">]</span>acl name dacongming <span class="token number">2000</span></code></pre><p><strong>2.</strong> ACLé…ç½®å‘½ä»¤</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># show å‘½ä»¤ï¼Œéšä¾¿çœ‹çœ‹</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>rule permit ?  fragment             Check fragment packet  none-first-fragment  Check the subsequence fragment packet    <span class="token builtin class-name">source</span>               Specify <span class="token builtin class-name">source</span> address  time-range           Specify a special <span class="token function">time</span>  vpn-instance         Specify a VPN-Instance  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>                 Please press ENTER to execute <span class="token builtin class-name">command</span> <span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">1.1</span>.1.1 ?  IP_ADDR<span class="token operator">&lt;</span>X.X.X.X<span class="token operator">&gt;</span>  Wildcard of <span class="token builtin class-name">source</span>  <span class="token number">0</span>                 Wildcard bits <span class="token builtin class-name">:</span> <span class="token number">0.0</span>.0.0 <span class="token punctuation">(</span> a <span class="token function">host</span> <span class="token punctuation">)</span><span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">1.1</span>.1.1 <span class="token number">0</span> ?  fragment             Check fragment packet  none-first-fragment  Check the subsequence fragment packet    time-range           Specify a special <span class="token function">time</span>  vpn-instance         Specify a VPN-Instance  <span class="token operator">&lt;</span>cr<span class="token operator">&gt;</span>                 Please press ENTER to execute <span class="token builtin class-name">command</span> <span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">1.1</span>.1.1 <span class="token number">0</span> </code></pre><h3 id="å®éªŒä¸€ï¼šåŸºæœ¬ACL"><a href="#å®éªŒä¸€ï¼šåŸºæœ¬ACL" class="headerlink" title="å®éªŒä¸€ï¼šåŸºæœ¬ACL"></a><strong>å®éªŒä¸€ï¼šåŸºæœ¬ACL</strong></h3><p>ACLåŒ…è¿‡æ»¤é…ç½®ï¼š<br><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/ab881086deaf4d84b6caecb1070bb810.png"></p><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/28819471e4684da2a05cbdf49f9359f1.png"><ul><li><strong>STEP2.1ï¼š</strong> é…ç½®DHCP</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®DCHPæ¥å£</span><span class="token punctuation">[</span>AR2-i<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/1<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> interface</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®DHCPåœ°å€æ± </span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>dhcp <span class="token builtin class-name">enable</span> Info: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>ip pool Info: It's successful to create an IP address pool.<span class="token punctuation">[</span>AR1-ip-pool-1<span class="token punctuation">]</span>network <span class="token number">192.168</span>.1.0 mask <span class="token number">24</span><span class="token punctuation">[</span>AR1-ip-pool-1<span class="token punctuation">]</span>gateway-list <span class="token number">192.168</span>.1.1<span class="token punctuation">[</span>AR1-ip-pool-1<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> interface<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/1<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> global</code></pre><ul><li><strong>STEP2.2ï¼š</strong> é…ç½®è·¯ç”±åè®®</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®OSPF</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>AR1-ospf-1<span class="token punctuation">]</span>a <span class="token number">0</span><span class="token punctuation">[</span>AR1-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">12.1</span>.1.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>AR1-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>a <span class="token number">1</span>  <span class="token comment"># åˆ›å»ºarea1</span><span class="token punctuation">[</span>AR1-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>a <span class="token number">2</span>  <span class="token comment"># åˆ›å»ºarea2</span><span class="token punctuation">[</span>AR1-ospf-1-area-0.0.0.2<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>ospf <span class="token builtin class-name">enable</span> <span class="token number">1</span> area <span class="token number">1</span><span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/1<span class="token punctuation">]</span>ospf <span class="token builtin class-name">enable</span> <span class="token number">1</span> area <span class="token number">2</span><span class="token comment"># todo AR2ï¼šé…ç½®OSPF</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>AR2-ospf-1<span class="token punctuation">]</span>a <span class="token number">0</span><span class="token punctuation">[</span>AR2-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">12.1</span>.1.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>AR2-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>a <span class="token number">3</span><span class="token punctuation">[</span>AR2-ospf-1-area-0.0.0.3<span class="token punctuation">]</span>network <span class="token number">10.1</span>.2.0 <span class="token number">0.0</span>.0.255</code></pre><ul><li><p><strong>STEP2.3ï¼š</strong> æŸ¥çœ‹è·¯ç”±è¡¨(ç•¥ï¼šæœ‰æ‰€æœ‰åŒºåŸŸçš„è·¯ç”±æ¡ç›®)</p></li><li><p><strong>STEP2.4ï¼š</strong> æµ‹è¯•ç½‘è¿é€šæ€§(ç•¥ï¼šå…¨ç½‘äº’é€š)</p></li><li><p><strong>STEP3.1ï¼š</strong> é…ç½®ACL</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®ACL</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>rule <span class="token number">5</span> deny <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.2.254 <span class="token number">0.0</span>.0.0<span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>dis th<span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span>acl number <span class="token number">2000</span>   rule <span class="token number">5</span> deny <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.2.254 <span class="token number">0</span> <span class="token comment">#</span><span class="token builtin class-name">return</span><span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span> <span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>int g0/0/0 <span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>traffic-filter ?  inbound   Apply ACL to the inbound direction of the interface   outbound  Apply ACL to the outbound direction of the interface <span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>traffic-filter outbound  acl <span class="token number">2000</span></code></pre><p>æ³¨ï¼š<br>1.ACLåºåˆ—å·æ­¥é•¿ä¸º5ï¼Œè¶Šå°è¶Šä¼˜å…ˆ<br>2.å°½é‡ä¸è¦åˆ é™¤ç”Ÿäº§ç¯å¢ƒä¸­çš„é…ç½®<br>3.0è¡¨ç¤ºåŒ¹é…ï¼Œ1è¡¨ç¤ºå¿½ç•¥ã€‚<br>4.ä»PC1åˆ°PC2ï¼Œä»AR1çš„g0/0/0æ¥å£å‡ºå»ï¼Œæ‰€ä»¥åœ¨g0/0/0é…ç½®ACL</p><ul><li><strong>STEP3.2ï¼š</strong> æµ‹è¯•è¿é€šæ€§</li></ul><p>PC1å’ŒPC2ä¸»é—´æ— æ³•é€šä¿¡</p><ul><li><strong>STEP0ï¼š</strong> ACLé»˜è®¤è§„åˆ™</li></ul><p>å„ä¸ªå‚å•†ACLé»˜è®¤è§„åˆ™ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘ACLé»˜è®¤è§„åˆ™ï¼Œè‡ªå·±å¢åŠ ï¼Œä¾‹å¦‚ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo åœ¨é…ç½®å®Œæ‰€æœ‰è§„åˆ™åï¼Œæœ€åé…ç½®æ”¾è¡Œ/æ‹’ç»æ‰€æœ‰è§„åˆ™</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> <span class="token number">1.1</span>.1.1 <span class="token number">255.255</span>.255.255  <span class="token comment"># æ”¾è¡Œæ‰€æœ‰å†™æ³•1</span><span class="token punctuation">[</span>AR1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> any  <span class="token comment"># æ”¾è¡Œæ‰€æœ‰å†™æ³•2</span></code></pre><ul><li><strong>STEP4.1ï¼š</strong> æ¥å£å–æ¶ˆåº”ç”¨ACL</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæ¥å£å–æ¶ˆåº”ç”¨ACL</span><span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>un traffic-filter outbound  <span class="token comment"># æ¥å£å–æ¶ˆåº”ç”¨ACL</span></code></pre><ul><li><strong>STEP4.2ï¼š</strong> æµ‹è¯•è¿é€šæ€§</li></ul><p>ä¸»æœºPC1å’ŒPC2èƒ½pingé€šã€‚</p><h3 id="å®éªŒäºŒï¼šæ‰©å±•ACL"><a href="#å®éªŒäºŒï¼šæ‰©å±•ACL" class="headerlink" title="å®éªŒäºŒï¼šæ‰©å±•ACL"></a><strong>å®éªŒäºŒï¼šæ‰©å±•ACL</strong></h3><ul><li><strong>STEP5.1ï¼š</strong> ä¿®æ”¹ç½‘ç»œæ‹“æ‰‘</li></ul><p>åœ¨ä¸Šä¸ªå®éªŒç½‘ç»œé…ç½®ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ è®¾å¤‡ã€‚</p><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/efac04187f8147cc8662f6a7ab13de67.png"><ul><li><strong>STEP5.2ï¼š</strong> å®¢æˆ·ã€æœåŠ¡åŒºé…ç½®</li></ul><p>åŸºç¡€é…ç½®ï¼š</p><table><thead><tr><th>è®¾å¤‡</th><th>æœ¬æœºåœ°å€</th><th>å­ç½‘æ©ç </th><th>ç½‘å…³</th></tr></thead><tbody><tr><td>Client1</td><td>10.1.2.250</td><td>255.255.255.0</td><td>10.1.2.2</td></tr><tr><td>Server1</td><td>192.168.1.250</td><td>255.255.255.0</td><td>192.168.1.1</td></tr></tbody></table><p>æœåŠ¡å™¨ä¿¡æ¯ï¼š<br>-&gt; HttpServerï¼šæ–‡ä»¶æ ¹ç›®å½•ï¼šé€‰æ‹©ä¸€ä¸ªæœ‰.htmlæ–‡ä»¶çš„ç›®å½•<br>-&gt; å¯åŠ¨</p><p><strong>æ‰©å±•ACLè¦æ±‚</strong>:<br><strong>1.</strong> PC2ä¸èƒ½å’ŒPC2é€šä¿¡<br><strong>2.</strong> PC1å¯ä»¥å’Œå…¶ä»–æ‰€æœ‰ä¸»æœºé€šä¿¡<br><strong>3.</strong> ä»…å…è®¸10.1.2.0/24ä¸­çš„Client1é€šè¿‡Server1<br><strong>4.</strong> å…¶ä»–é€šä¿¡éƒ½è¢«å…è®¸</p><ul><li><strong>STEP6.1ï¼š</strong> é…ç½®æ‰©å±•ACL</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæ‰©å±•ACL</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>acl <span class="token number">3000</span><span class="token punctuation">[</span>AR2-acl-adv-3000<span class="token punctuation">]</span>rule deny <span class="token function">ip</span> <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.2.254 <span class="token number">0</span> destination <span class="token number">10.1</span>.1.254 <span class="token number">0</span><span class="token punctuation">[</span>AR2-acl-adv-3000<span class="token punctuation">]</span>rule permit tcp <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.2.250 <span class="token number">0</span> destination <span class="token number">192.168</span>.1.250 <span class="token number">0</span> destination-port eq <span class="token number">80</span><span class="token punctuation">[</span>AR2-acl-adv-3000<span class="token punctuation">]</span>rule deny <span class="token function">ip</span> <span class="token builtin class-name">source</span> any destination <span class="token number">192.168</span>.1.250 <span class="token number">0</span><span class="token punctuation">[</span>AR2-acl-adv-3000<span class="token punctuation">]</span>rule permit <span class="token function">ip</span></code></pre><ul><li><strong>STEP6.2ï¼š</strong> æŸ¥çœ‹æ‰©å±•ACLä¿¡æ¯</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹ACLä¿¡æ¯</span><span class="token punctuation">[</span>AR2-acl-adv-3000<span class="token punctuation">]</span>dis acl <span class="token number">3000</span>  <span class="token comment"># æŸ¥çœ‹ä¸€ä¸ªACL</span>Advanced ACL <span class="token number">3000</span>, <span class="token number">4</span> rulesAcl<span class="token string">'s step is 5 rule 5 deny ip source 10.1.2.254 0 destination 10.1.1.254 0  rule 10 permit tcp source 10.1.2.250 0 destination 192.168.1.250 0 destination-port eq www  rule 15 deny ip destination 192.168.1.250 0  rule 20 permit ip [AR2-acl-adv-3000]dis acl all  # æŸ¥çœ‹æ‰€æœ‰ACL Total quantity of nonempty ACL number is 1 Advanced ACL 3000, 4 rulesAcl'</span>s step is <span class="token number">5</span> rule <span class="token number">5</span> deny <span class="token function">ip</span> <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.2.254 <span class="token number">0</span> destination <span class="token number">10.1</span>.1.254 <span class="token number">0</span>  rule <span class="token number">10</span> permit tcp <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.2.250 <span class="token number">0</span> destination <span class="token number">192.168</span>.1.250 <span class="token number">0</span> destination-port eq www  rule <span class="token number">15</span> deny <span class="token function">ip</span> destination <span class="token number">192.168</span>.1.250 <span class="token number">0</span>  rule <span class="token number">20</span> permit <span class="token function">ip</span> </code></pre><ul><li><strong>STEP6.3ï¼š</strong> è¿›å…¥æ¥å£è°ƒç”¨ALC</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># tood AR2ï¼šè¿›å…¥æ¥å£è°ƒç”¨ACL</span><span class="token punctuation">[</span>AR2-acl-adv-3000<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/1<span class="token punctuation">]</span>traffic-filter inbound acl <span class="token number">3000</span></code></pre><p>æ³¨ï¼š<br>1.é…ç½®inboundè¿˜æ˜¯outboundè¦çœ‹ACLçš„ç›®çš„å’Œæºåœ°å€<br>2.HTTPç«¯å£80ï¼ŒHTTPSç«¯å£43ï¼Œè‡ªå·±1024-62235éšæœºç«¯å£</p><ul><li><strong>STEP6.4ï¼š</strong> æµ‹è¯•è¿é€šæ€§</li></ul><p><strong>PC1ï¼š</strong><br>å¯ä»¥pingé€šï¼šPC3(192.168.1.254)<br>ä¸å¯ä»¥pingé€šï¼šPC2(10.1.1.254)ã€Server1(192.168.1.250)</p><p><strong>Client1ï¼š</strong><br>-&gt; åœ°å€ï¼š<code>http://192.168.1.250/[Server1ä¸­çš„æŸä¸ª.html</code><br>-&gt; è·å–<br>-&gt; å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹</p><pre class="language-bash" data-language="bash"><code class="language-bash">HTTP/1.1 <span class="token number">200</span> OKServer: ENSP HttpServerAuth: HUAWEICache-Control: privateContent-Type: text/htmlContent-Length: <span class="token number">34155</span></code></pre><p>å¯ä»¥çœ‹åˆ°æœåŠ¡å™¨çš„å“åº”çŠ¶æ€ç ä¸º<strong>200</strong>ï¼Œå³æˆåŠŸæ¥æ”¶ã€‚</p><ul><li><strong>STEP7.1ï¼š</strong> ä¿®æ”¹ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/892b1040ebcf4760a31582c1dc618898.png"><ul><li><strong>STEP7.2ï¼š</strong> Client2é…ç½®</li></ul><p>åŸºç¡€é…ç½®ï¼š</p><table><thead><tr><th>è®¾å¤‡</th><th>æœ¬æœºåœ°å€</th><th>å­ç½‘æ©ç </th><th>ç½‘å…³</th></tr></thead><tbody><tr><td>Client2</td><td>10.1.2.249</td><td>255.255.255.0</td><td>10.1.2.2</td></tr></tbody></table><ul><li><strong>STEP7.3ï¼š</strong> æµ‹è¯•è¿é€šæ€§</li></ul><p>å°è¯•ä½¿ç”¨Client2ç™»å½•Server1</p><p><strong>Client2ï¼š</strong><br>-&gt; åœ°å€ï¼š<code>http://192.168.1.250/[Server1ä¸­çš„æŸä¸ª.html</code><br>-&gt; è·å–<br>-&gt; å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹</p><pre class="language-bash" data-language="bash"><code class="language-bash">Connect server failure.</code></pre><p>è¿æ¥æœåŠ¡å™¨å¤±è´¥</p><h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2><h3 id="åŸç†ï¼šNATç½‘ç»œåœ°å€è½¬æ¢"><a href="#åŸç†ï¼šNATç½‘ç»œåœ°å€è½¬æ¢" class="headerlink" title="åŸç†ï¼šNATç½‘ç»œåœ°å€è½¬æ¢"></a><strong>åŸç†ï¼šNATç½‘ç»œåœ°å€è½¬æ¢</strong></h3><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/f15f5e05d92d4e9381cf5d5e6ddcbbd7.png"><p><strong>NATå®éªŒå‡ä½¿ç”¨ä»¥ä¸‹ç½‘ç»œæ‹“æ‰‘ï¼Œç›´æ¥æ‰“å¼€è€å¸ˆçš„ç½‘ç»œæ‹“æ‰‘å³å¯</strong>:</p><img src="/2022/06/29/ict-zhan-dui-di-7-ci-bi-ji/318d301e707c40e7939e8f734bd74d62.png"><h3 id="å®éªŒä¸‰ï¼šåŠ¨æ€åœ°å€NAT-Pooled-NAT"><a href="#å®éªŒä¸‰ï¼šåŠ¨æ€åœ°å€NAT-Pooled-NAT" class="headerlink" title="å®éªŒä¸‰ï¼šåŠ¨æ€åœ°å€NAT(Pooled NAT)"></a><strong>å®éªŒä¸‰ï¼šåŠ¨æ€åœ°å€NAT(Pooled NAT)</strong></h3><ul><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘(ç•¥)</p></li><li><p><strong>STEP2ï¼š</strong> é…ç½®ACL</p></li></ul><p>ä½¿ç”¨ACLåˆ†ç±»ï¼šå“ªäº›åœ°å€éœ€è¦åšNATï¼Œå“ªäº›åœ°å€ä¸éœ€è¦åš</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R1-acl-basic-2000<span class="token punctuation">]</span>rule deny <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.1.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>R1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> any</code></pre><ul><li><strong>STEP3ï¼š</strong> é…ç½®å…¬ç½‘åœ°å€æ± èŒƒå›´</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>nat address-group <span class="token number">0</span> <span class="token number">192.168</span>.1.66 <span class="token number">192.168</span>.1.67</code></pre><ul><li><strong>STEP4ï¼š</strong> å‡ºæ¥å£é…ç½®NAT</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R1-GigabitEthernet0/0/2<span class="token punctuation">]</span>nat outbound <span class="token number">2000</span> address-group <span class="token number">0</span></code></pre><p>NATï¼šéƒ½åœ¨æ¥å£è°ƒç”¨<br>PATï¼šåŸºäºç«¯å£portçš„NATè½¬æ¢<br>no-patï¼šä¸åŸºäºç«¯å£portçš„NATè½¬æ¢<br><font color="#999AAA">eNSPå¯¹NATå…¼å®¹æ€§æ¯”è¾ƒå·®</font></p><h3 id="å®éªŒå››ï¼šç½‘ç»œåœ°å€ç«¯å£è½¬æ¢NAPT-Port-Level-NAT"><a href="#å®éªŒå››ï¼šç½‘ç»œåœ°å€ç«¯å£è½¬æ¢NAPT-Port-Level-NAT" class="headerlink" title="å®éªŒå››ï¼šç½‘ç»œåœ°å€ç«¯å£è½¬æ¢NAPT(Port-Level NAT)"></a><strong>å®éªŒå››ï¼šç½‘ç»œåœ°å€ç«¯å£è½¬æ¢NAPT(Port-Level NAT)</strong></h3><ul><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘(ç•¥)</p></li><li><p><strong>STEP2ï¼š</strong> é…ç½®NAPT</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>R2-acl-basic-2000<span class="token punctuation">]</span>rule permit<span class="token punctuation">[</span>R2-acl-basic-2000<span class="token punctuation">]</span>inter g0/0/0<span class="token punctuation">[</span>R2-Gigï¼@abitEthernet0/0/0<span class="token punctuation">]</span>nat outbound <span class="token number">200</span></code></pre><ul><li><strong>STEP3ï¼š</strong> æµ‹è¯•ç½‘ç»œè¿é€šæ€§</li></ul><p>PC1 å¯ä»¥ ping é€š R1 æ¥å£ g0/0/2 çš„ IP</p><h3 id="å®éªŒäº”ï¼šç«¯å£æ˜ å°„"><a href="#å®éªŒäº”ï¼šç«¯å£æ˜ å°„" class="headerlink" title="å®éªŒäº”ï¼šç«¯å£æ˜ å°„"></a><strong>å®éªŒäº”ï¼šç«¯å£æ˜ å°„</strong></h3><p>ç«¯å£æ˜ å°„æŠ€æœ¯ï¼šå…¶å®æ˜¯é™æ€ NAT ä¸ PAT çš„ç»“åˆï¼Œå³å±€åŸŸç½‘ä¸­ä¸»æœºçš„æŸä¸€ç«¯å£é€šè¿‡é™æ€æ–¹å¼æ˜ å°„åˆ°å…¬ç½‘ IP åœ°å€ç«¯å£ä¸Šã€‚æ˜ å°„æŠ€æœ¯åªèƒ½å•ä¸€çš„å®ç°æ‰€æ˜ å°„ç«¯å£çš„ç‰¹å®šåŠŸèƒ½ï¼Œä½†ä¸€å°ä¸»æœºå¯æ˜ å°„å¤šä¸ªä¸åŒç«¯å£åˆ°åŒä¸€å…¬ç½‘ IP ç«¯å£ä¸Šã€‚å¦‚ 23 ä»£è¡¨ telnetï¼Œ80 ä»£è¡¨ httpï¼Œ21 ä»£è¡¨ ftp ç­‰çŸ¥åç«¯å£ã€‚</p><ul><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘(ç•¥)</p></li><li><p><strong>STEP2ï¼š</strong> é…ç½®NATç«¯å£æ˜ å°„</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R1-GigabitEthernet0/0/2<span class="token punctuation">]</span>nat server protocol tcp global current-interface <span class="token number">8003</span> inside <span class="token number">10.1</span>.3.250 <span class="token number">80</span></code></pre><ul><li><strong>STEP3ï¼š</strong> æµ‹è¯•è¿é€šæ€§</li></ul><p>Client1å¯ä»¥é€šè¿‡httpè®¿é—®Server1</p><h3 id="å®éªŒå…­ï¼šé™æ€NAT-Static-NAT"><a href="#å®éªŒå…­ï¼šé™æ€NAT-Static-NAT" class="headerlink" title="å®éªŒå…­ï¼šé™æ€NAT(Static NAT)"></a><strong>å®éªŒå…­ï¼šé™æ€NAT(Static NAT)</strong></h3><ul><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘(ç•¥)</p></li><li><p><strong>STEP2ï¼š</strong> é…ç½®é™æ€NAT</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R1-GigabitEthernet0/0/2<span class="token punctuation">]</span>nat static global <span class="token number">192.168</span>.1.68 inside <span class="token number">10.1</span>.1.254</code></pre><ul><li><strong>STEP3ï¼š</strong> æµ‹è¯•è¿é€šæ€§</li></ul><p>PC1ï¼šå¯ä»¥pingé€š192.168.1.68<br>PC2ï¼šæŠ“åŒ…å¯ä»¥çœ‹åˆ°ICMPæ•°æ®åŒ…</p><h3 id="ç¬”è®°"><a href="#ç¬”è®°" class="headerlink" title="ç¬”è®°"></a>ç¬”è®°</h3><p>åé¢æ²¡å£°ï¼Œä¸çŸ¥é“åœ¨å¹²å˜›ï¼Œéœ€è¦å¯ä»¥å»çœ‹ä¸Šä¸€å±Šçš„è§†é¢‘å’Œç¬”è®°ï¼š<a href="D:/STDATA/VSCodeData/MarkDown/ICTæ•°é€š19/2021-01-25/2021-01-25.md">æ•°é€š2021-01-25</a></p><ul><li>è€å¸ˆç¬”è®°</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash">åŠ¨æ€NATæ­¥éª¤ä¸€ï¼šä½¿ç”¨åˆ†ç±»å“ªäº›ä¸»æœºè¿›è¡ŒNATè½¬æ¢<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>R1-acl-basic-2000<span class="token punctuation">]</span>rule deny <span class="token builtin class-name">source</span> <span class="token number">10.1</span>.1.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>R1-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token builtin class-name">source</span> any<span class="token punctuation">[</span>R1-acl-basic-2000<span class="token punctuation">]</span>qæ­¥éª¤äºŒï¼šå®šä¹‰å…¬ç½‘åœ°å€æ± èŒƒå›´<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>nat <span class="token function">add</span> <span class="token number">0</span> <span class="token number">192.168</span>.1.66 <span class="token number">192.168</span>.1.67æ­¥éª¤ä¸‰ï¼šå‡ºæ¥å£é…ç½®NAT<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>R1-GigabitEthernet0/0/2<span class="token punctuation">]</span>nat outbound  <span class="token number">2000</span> address-group <span class="token number">0</span>NARTï¼šç«¯å£NAT<span class="token punctuation">[</span>R2<span class="token punctuation">]</span>acl <span class="token number">2000</span><span class="token punctuation">[</span>R2-acl-basic-2000<span class="token punctuation">]</span>rule permit <span class="token punctuation">[</span>R2-acl-basic-2000<span class="token punctuation">]</span>q<span class="token punctuation">[</span>R2<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>R2-GigabitEthernet0/0/0<span class="token punctuation">]</span>nat outbound <span class="token number">2000</span>æµ‹è¯•æ–¹æ³•ï¼šPC1å¯ä»¥pingé€šAR1ï¼Œg0/0/2æ¥å£IPNAT server<span class="token punctuation">(</span>æ¥å£æ˜ å°„<span class="token punctuation">)</span><span class="token punctuation">[</span>R1-GigabitEthernet0/0/2<span class="token punctuation">]</span>nat server protocol tcp global current-interface <span class="token number">8003</span> inside <span class="token number">10.1</span>.3.250 <span class="token number">80</span>æµ‹è¯•æ–¹æ³•ï¼šclient1å¯ä»¥é€šè¿‡httpè®¿é—®server1é™æ€NATè½¬æ¢<span class="token punctuation">[</span>R1-GigabitEthernet0/0/2<span class="token punctuation">]</span>nat static global <span class="token number">192.168</span>.1.68 inside <span class="token number">10.1</span>.1.254æµ‹è¯•æ–¹æ³•ï¼šPC1å¯ä»¥pingé€š192.168.1.68ï¼ŒåŒæ—¶åœ¨PC2ã€5ä¸ŠæŠ“åŒ…å¯ä»¥çœ‹åˆ°ICMPæ•°æ®åŒ…</code></pre><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬6æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬6æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬6æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬6æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬6æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h2><h3 id="åŸç†ï¼šOSPF"><a href="#åŸç†ï¼šOSPF" class="headerlink" title="åŸç†ï¼šOSPF"></a><strong>åŸç†ï¼šOSPF</strong></h3><ul><li><strong>â‘ OSPFç½‘ç»œç±»å‹</strong></li></ul><p>ç½‘ç»œç±»å‹ï¼šç‚¹åˆ°ç‚¹ã€å¹¿æ’­ã€éå¹¿æ’­å¤šè·¯è®¿é—®ã€ç‚¹åˆ°å¤šç‚¹<br>1.ç‚¹åˆ°ç‚¹ã€ç‚¹åˆ°å¤šç‚¹ç½‘ç»œç±»å‹ä¸é€‰DRå’ŒBDRï¼›å¹¿æ’­ã€éå¹¿æ’­ç½‘ç»œç±»å‹æ‰é€‰DRå’ŒBDRï¼Œä¸”ä½¿ç”¨224.0.0.5ã€224.0.0.6è¿™ä¸¤ä¸ªåœ°å€<br>2.DRæ˜¯<strong>ç«¯å£</strong>çš„è§’è‰²ï¼Œä¸æ˜¯è·¯ç”±å™¨çš„è§’è‰²<br>3.åä¸ºé»˜è®¤Serialä¸²è¡Œå£é»˜è®¤å°è£…PPP<br>4.éå¹¿æ’­å¤šè·¯è®¿é—®ï¼šå¸§ä¸­ç»§ï¼šä¸èƒ½å‘å¹¿æ’­å¸§ï¼Œä½†æ˜¯åˆæ˜¯ä¸€ä¸ªå¹¿æ’­å‹ç½‘ç»œï¼Œæ‰€ä»¥æŠŠå¹¿æ’­å¸§å°è£…æˆå•æ’­å¸§<br>5.OSPFæ­£å¸¸ä½¿ç”¨224.0.0.5å‘é€OSPFæ•°æ®åŒ…ï¼ŒDROtherå‘é€<strong>æ›´æ–°</strong>ç»™DRå’ŒBDRä½¿ç”¨224.0.0.6</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä¿®æ”¹OSPFè·¯ç”±åè®®</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>int s2/0/0<span class="token punctuation">[</span>R3-Serial2/0/0<span class="token punctuation">]</span>ospf network-type ?  broadcast  Specify OSPF broadcast network  nbma       Specify OSPF NBMA network  p2mp       Specify OSPF point-to-multipoint network  p2p        Specify OSPF point-to-point network<span class="token punctuation">[</span>R3-Serial2/0/0<span class="token punctuation">]</span>ospf network-type </code></pre><h3 id="å®éªŒä¸€ï¼šè™šé“¾è·¯"><a href="#å®éªŒä¸€ï¼šè™šé“¾è·¯" class="headerlink" title="å®éªŒä¸€ï¼šè™šé“¾è·¯"></a><strong>å®éªŒä¸€ï¼šè™šé“¾è·¯</strong></h3><p>è™šé“¾è·¯ï¼šè§£å†³ééª¨å¹²åŒºåŸŸè¿æ¥ééª¨å¹²åŒºåŸŸé—®é¢˜ã€‚<br>åšVirtual Linkåªæ‰¾ä¸¤ä¸ªåŒºåŸŸçš„ABR(åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨)ã€‚<br>æ‰¾ä¿©ä¸ªåŒºåŸŸçš„ABRï¼Œè®©ä»–ä»¬äº’æŒ‡Virtual-Linkå³å¯ã€‚</p><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/60a44e765e8940cfa3e33b8f01d5cb50.png"><ul><li><strong>STEP2ï¼š</strong> é…ç½®è™šé“¾è·¯</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹OSPFåŒºåŸŸçš„é‚»å±…å…³ç³»</span><span class="token punctuation">[</span>R<span class="token punctuation">]</span>dis ospf peer</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŒ‡å‘å¯¹æ–¹RID</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span><span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span>dis ospf peer   OSPF Process <span class="token number">1</span> with Router ID <span class="token number">10.0</span>.2.2     Neighbors  Area <span class="token number">0.0</span>.0.0 interface <span class="token number">12.1</span>.1.2<span class="token punctuation">(</span>GigabitEthernet0/0/0<span class="token punctuation">)</span><span class="token string">'s neighbors Router ID: 10.0.1.1         Address: 12.1.1.1           State: Full  Mode:Nbr is  Slave  Priority: 1   DR: 12.1.1.2  BDR: 12.1.1.1  MTU: 0       Dead timer due in 40  sec    Retrans timer interval: 5    Neighbor is up for 00:06:24        Authentication Sequence: [ 0 ]      Neighbors  Area 0.0.0.1 interface 23.1.1.2(GigabitEthernet0/0/1)'</span>s neighbors Router ID: <span class="token number">10.0</span>.3.3         Address: <span class="token number">23.1</span>.1.3           State: Full  Mode:Nbr is  Master  Priority: <span class="token number">1</span>   DR: <span class="token number">23.1</span>.1.3  BDR: <span class="token number">23.1</span>.1.2  MTU: <span class="token number">0</span>       Dead timer due <span class="token keyword">in</span> <span class="token number">30</span>  sec    Retrans timer interval: <span class="token number">5</span>    Neighbor is up <span class="token keyword">for</span> 00:06:19        Authentication Sequence: <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span>a <span class="token number">1</span><span class="token punctuation">[</span>R2-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>vlink-peer <span class="token number">10.0</span>.3.3  <span class="token comment"># å¯¹æ–¹çš„RID</span><span class="token comment"># todo AR3ï¼šæŒ‡å‘å¯¹æ–¹RID</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>a <span class="token number">1</span><span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>dis ospf peer   OSPF Process <span class="token number">1</span> with Router ID <span class="token number">10.0</span>.3.3     Neighbors  Area <span class="token number">0.0</span>.0.1 interface <span class="token number">23.1</span>.1.3<span class="token punctuation">(</span>GigabitEthernet0/0/0<span class="token punctuation">)</span><span class="token string">'s neighbors Router ID: 10.0.2.2         Address: 23.1.1.2           State: Full  Mode:Nbr is  Slave  Priority: 1   DR: 23.1.1.3  BDR: 23.1.1.2  MTU: 0       Dead timer due in 31  sec    Retrans timer interval: 5    Neighbor is up for 00:07:30        Authentication Sequence: [ 0 ]      Neighbors  Area 0.0.0.2 interface 34.1.1.3(GigabitEthernet0/0/1)'</span>s neighbors Router ID: <span class="token number">34.1</span>.1.4         Address: <span class="token number">34.1</span>.1.4           State: Full  Mode:Nbr is  Master  Priority: <span class="token number">1</span>   DR: <span class="token number">34.1</span>.1.3  BDR: <span class="token number">34.1</span>.1.4  MTU: <span class="token number">0</span>       Dead timer due <span class="token keyword">in</span> <span class="token number">39</span>  sec    Retrans timer interval: <span class="token number">5</span>    Neighbor is up <span class="token keyword">for</span> 00:04:02        Authentication Sequence: <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>vlink-peer <span class="token number">10.0</span>.2.2  <span class="token comment"># å¯¹æ–¹çš„RID</span></code></pre><p>åŒºåŸŸ2éœ€è¦é€šè¿‡åŒºåŸŸ1åˆ°è¾¾åŒºåŸŸ0ï¼Œæ‰€ä»¥è¦åœ¨åŒºåŸŸ1ä¸‹ï¼ŒæŒ‡å‘<strong>å¯¹æ–¹RID</strong>ã€‚</p><h3 id="åŸç†ï¼šLSAé“¾è·¯çŠ¶æ€é€šå‘Š"><a href="#åŸç†ï¼šLSAé“¾è·¯çŠ¶æ€é€šå‘Š" class="headerlink" title="åŸç†ï¼šLSAé“¾è·¯çŠ¶æ€é€šå‘Š"></a><strong>åŸç†ï¼šLSAé“¾è·¯çŠ¶æ€é€šå‘Š</strong></h3><ul><li>å¼„æ¸…æ¥šï¼šLSAç”±è°äº§ç”Ÿçš„ã€ä¼ æ’­èŒƒå›´ã€åŒ…å«äº†ä»€ä¹ˆä¸œè¥¿</li></ul><p>LSAä¸€å…±æœ‰11ç§ï¼Œå•æ’­ä½¿ç”¨çš„LSAæœ‰6ç§ç±»å‹</p><table><thead><tr><th>ç±»åˆ«</th><th>è¯´æ˜</th><th>è·¯ç”±è¡¨ä¸­çš„åè®®</th></tr></thead><tbody><tr><td>1</td><td>è·¯ç”±å™¨LSA</td><td>OSPF</td></tr><tr><td>2</td><td>ç½‘ç»œLSA</td><td>OSPF</td></tr><tr><td>3</td><td>ç½‘ç»œæ±‡æ€»LSA</td><td>OSPF</td></tr><tr><td>4</td><td>ASBRæ±‡æ€»LSA</td><td>OSPF</td></tr><tr><td>5</td><td>ASå¤–éƒ¨LSA</td><td>O_ASE</td></tr><tr><td>7</td><td>NSSAå¤–éƒ¨LSA</td><td>O_NSSA</td></tr></tbody></table><p><strong>LSA</strong>(Link-State Advertisement)é“¾è·¯çŠ¶æ€é€šå‘Šï¼Œè·¯ç”±æ¡ç›®çš„ç±»å‹ï¼Œåªæ˜¯è·¯ç”±æŠ¥æ–‡çš„ä¸€ä¸ªå­—æ®µã€‚<br><strong>LSACK</strong>(Link-State Acknowledge)é“¾è·¯çŠ¶æ€ç¡®è®¤ï¼Œè·¯ç”±æŠ¥æ–‡ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é‡ç½®è·¯ç”±å™¨é‚»å±…å…³ç³»</span><span class="token operator">&lt;</span>R<span class="token operator">&gt;</span>reset ospf process</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹OSPFé“¾è·¯çŠ¶æ€æ•°æ®åº“â€”â€”LSA1</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>display ospf lsdb router </code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹OSPFçš„LSDBé“¾è·¯çŠ¶æ€æ•°æ®åº“â€”â€”LSA2</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>dis ospf lsdb network </code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹OSPFâ€”â€”LSA3</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>display ospf lsdb summary</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹OSPFâ€”â€”LAS4</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>show <span class="token function">ip</span> ospf border-routers   <span class="token punctuation">[</span>R1<span class="token punctuation">]</span>show <span class="token function">ip</span> ospf database asbr-summary</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹OSPFâ€”â€”LSA5</span><span class="token punctuation">[</span>R6<span class="token punctuation">]</span>display ospf lsdb ase</code></pre><p><strong>åŒä¸€ä¸ªåŒºåŸŸçš„LSDB(é“¾è·¯çŠ¶æ€æ•°æ®åº“)å¿…é¡»ä¿æŒä¸€è‡´</strong>ï¼Œå¦åˆ™é‚»å±…å…³ç³»æ— æ³•å»ºç«‹</p><p>æœ«æ¢¢ç½‘ç»œï¼šæ¥å£æ²¡é€‰DRå’ŒBDRï¼Œä¸”ä¸‹é¢è¿æ¥äº†ä¸€ä¸ªç»ˆç«¯è®¾å¤‡PC</p><p>1ç±»LSAï¼šæ¯ä¸ªè·¯ç”±å™¨éƒ½äº§ç”Ÿ<br>2ç±»LSAï¼šDRäº§ç”Ÿ<br>3ç±»LSAï¼šæœ‰åŒºåŸŸé—´è·¯ç”±ABRäº§ç”Ÿï¼Œè·¨åŒºåŸŸä¼ æ’­è·¯ç”±æ¡ç›®ï¼Œåªæœ‰è·¯ç”±æ¡ç›®ä¿¡æ¯ï¼Œæ‰€æœ‰åŒºåŸŸå¯ä»¥ä¼ é€’ï¼<br>4ç±»LSAï¼šABRäº§ç”Ÿï¼Œå‘Šè¯‰ASBRè¯¥æ‰¾è°ï¼Œä¸º5ç±»LSAæœåŠ¡<br>5ç±»LSAï¼šASBRäº§ç”Ÿ<br>6ç±»LSAï¼šç»„æ’­ç”¨<br>7ç±»LSAï¼šNSSAä¸­çš„ASBRäº§ç”Ÿï¼Œä»…NSSAåŒºåŸŸä¼ æ’­ï¼ŒNSAAåŒºåŸŸçš„ABRå°†7è½¬5ï¼Œè®©å…¶ä»–è·¯ç”±å™¨å­¦ä¹ </p><p>OSPFå¼€é”€(å‘ä¸Šå–æ•´) = å‚è€ƒå¸¦å®½(é»˜è®¤100M) / æ¥å£å¸¦å®½</p><p><font color="#999AAA">äº¤æ¢æœºç¯ä¸€äº®ä¸€ç­ï¼š</font><br><font color="#999AAA">åŸå› ï¼šçº¿è¿‡é•¿æˆ–è€…æ°´æ™¶å¤´åšå·¥ä¸è¡Œï¼Œè·ç¦»è¶Šé•¿ï¼Œå¸¦å®½è¶Šä½</font><br><font color="#999AAA">è§£å†³æ–¹æ³•ï¼šæ‰€æœ‰è·¯ç”±å™¨éƒ½ä¿®æ”¹å‚è€ƒå¸¦å®½<code>bandwith-reference 1000</code></font></p><h3 id="å®éªŒäºŒï¼šè·¯ç”±æ³¨å…¥"><a href="#å®éªŒäºŒï¼šè·¯ç”±æ³¨å…¥" class="headerlink" title="å®éªŒäºŒï¼šè·¯ç”±æ³¨å…¥"></a><strong>å®éªŒäºŒï¼šè·¯ç”±æ³¨å…¥</strong></h3><p>è·¯ç”±æ³¨å…¥ï¼šè®©è·¯ç”±å™¨èƒ½äº¤æ¢<strong>ä¸åŒçš„è·¯ç”±åè®®</strong>çš„è·¯ç”±æ¡ç›®</p><p>é‡åˆ†å‘ï¼š<br>ç±»å‹1ï¼šæ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼Œå¼€é”€costä¼šè‡ªåŠ¨å¢åŠ <br>ç±»å‹2ï¼šä¸ç®¡ç»è¿‡å‡ ä¸ªè·¯ç”±å™¨ï¼Œå¼€é”€costæ’å®šä¸å˜(ä¸ºè®¾å®šçš„å€¼)ï¼Œä¸ç®¡æ¥å£å¼€é”€å¤šå¤§</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># show è·¯ç”±æ³¨å…¥å‘½ä»¤</span><span class="token punctuation">[</span>ospf-1<span class="token punctuation">]</span>import-route rip <span class="token number">1</span> <span class="token builtin class-name">type</span> <span class="token number">1</span> cost <span class="token number">50</span>  è®¾ç½®è·¯ç”±å¼•å…¥RIPåè®®é‡åˆ†å‘ç±»å‹1å¼€é”€cost<span class="token punctuation">[</span>ospf-1<span class="token punctuation">]</span>import-route rip <span class="token number">1</span> <span class="token builtin class-name">type</span> <span class="token number">2</span> cost <span class="token number">50</span>  è®¾ç½®è·¯ç”±å¼•å…¥RIPåè®®é‡åˆ†å‘ç±»å‹2å¼€é”€cost<span class="token punctuation">[</span>g0/0/0<span class="token punctuation">]</span>ospf cost <span class="token number">10</span>  è®¾ç½®è·¯ç”±å™¨æ¥å£OSPFå¼€é”€cost</code></pre><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><p><font color="#999AAA">æ³¨ï¼šè¿™ä¸ªæ‹“æ‰‘ä¸æ˜¯ä¸Šè¯¾çš„ç½‘ç»œæ‹“æ‰‘ï¼Œè¿™ä¸ªå®éªŒä¹Ÿä¸æ˜¯ä¸Šè¯¾åšçš„å®éªŒã€‚</font></p><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/634c0bbe3fd44a1a961f736a8890d058.png"><ul><li><p><strong>STEP2ï¼š</strong> é…ç½®IP(ç•¥)</p></li><li><p><strong>STEP3ï¼š</strong> é…ç½®è·¯ç”±æ³¨å…¥</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR5ï¼šè¿›å…¥RIPï¼Œé…ç½®OSPFå¼•å…¥</span><span class="token punctuation">[</span>AR5<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>AR5-rip-1<span class="token punctuation">]</span>import-route ospf<span class="token comment"># todo AR5ï¼šè¿›å…¥OSPFï¼Œé…ç½®RIPå¼•å…¥</span><span class="token punctuation">[</span>AR5<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>AR5-ospf-1<span class="token punctuation">]</span>import-route rip</code></pre><p>ASBRï¼šè‡ªæ²»ç³»ç»Ÿè¾¹ç•Œè·¯ç”±å™¨<br>æƒ³è¦å­¦ä¹ åˆ°å¯¹æ–¹è·¯ç”±æ¡ç›®ï¼ŒAdv rtrå¿…é¡»å¯è¾¾</p><h3 id="å®éªŒä¸‰ï¼šè·¯ç”±æ±‡æ€»"><a href="#å®éªŒä¸‰ï¼šè·¯ç”±æ±‡æ€»" class="headerlink" title="å®éªŒä¸‰ï¼šè·¯ç”±æ±‡æ€»"></a><strong>å®éªŒä¸‰ï¼šè·¯ç”±æ±‡æ€»</strong></h3><p>åšäº†è·¯ç”±æ±‡æ€»ä¹‹åï¼Œå¦‚æœæ±‡æ€»çš„è·¯ç”±æ‹“æ‰‘å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿä¸å½±å“</p><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/5efac16d31e145a1881e2e3267c97dfe.png"><ul><li><strong>STEP2.1ï¼š</strong> é…ç½®ç¯å›åœ°å€</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šé…ç½®ç¯å›åœ°å€</span><span class="token punctuation">[</span>AR4<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">14.1</span>.4.1 <span class="token number">255.255</span>.255.0<span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">14.1</span>.5.1 <span class="token number">255.255</span>.255.0 sub<span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">14.1</span>.6.1 <span class="token number">255.255</span>.255.0 sub<span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">14.1</span>.7.1 <span class="token number">255.255</span>.255.0 sub</code></pre><ul><li><strong>STEP2.2ï¼š</strong> å®£å‘Šç¯å›åœ°å€</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å®£å‘Šç¯å›åœ°å€ç½‘æ®µ</span><span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>ospf <span class="token builtin class-name">enable</span> <span class="token number">1</span> a <span class="token number">0</span></code></pre><ul><li><strong>STEP2.3ï¼š</strong> æŸ¥çœ‹ç¯å›åœ°å€æ˜¯å¦è¢«å­¦ä¹ åˆ°</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">15</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">15</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       <span class="token number">12.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.4.1/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.5.1/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.6.1/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.7.1/32  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>R3<span class="token punctuation">]</span></code></pre><p>å¯ä»¥çœ‹åˆ°æ©ç æ˜¯32</p><ul><li><strong>STEP2.4ï¼š</strong> æŸ¥çœ‹OSPFæ¥å£ç½‘ç»œç±»å‹</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šæŸ¥çœ‹OSPFæ¥å£ç½‘ç»œç±»å‹ </span><span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>dis ospf int         OSPF Process <span class="token number">1</span> with Router ID <span class="token number">14.1</span>.1.4                 Interfaces  Area: <span class="token number">0.0</span>.0.1          <span class="token punctuation">(</span>MPLS TE not enabled<span class="token punctuation">)</span> IP Address      Type         State    Cost    Pri   DR              BDR  <span class="token number">14.1</span>.1.4        Broadcast    DR       <span class="token number">1</span>       <span class="token number">1</span>     <span class="token number">14.1</span>.1.4        <span class="token number">14.1</span>.1.1 <span class="token number">14.1</span>.4.1        P2P          P-2-P    <span class="token number">0</span>       <span class="token number">1</span>     <span class="token number">0.0</span>.0.0         <span class="token number">0.0</span>.0.0 <span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span></code></pre><p>å¯ä»¥çœ‹å‡ºç¯å›åœ°å€æ˜¯ç‚¹åˆ°ç‚¹ç½‘ç»œç±»å‹</p><ul><li><strong>STEP2.5ï¼š</strong> ä¿®æ”¹OSPFæ¥å£ç½‘ç»œç±»å‹</li></ul><p>ä¿®æ”¹ç½‘ç»œç±»å‹ï¼Œè®©æ©ç å˜æˆ24</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä¿®æ”¹ç½‘ç»œç±»å‹</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>R2-LoopBack0<span class="token punctuation">]</span>ospf network-type broadcast  <span class="token comment"># ä¿®æ”¹ç½‘ç»œç±»å‹ä¸ºå¹¿æ’­ï¼Œæ©ç å˜æˆ24</span></code></pre><p>åä¸ºï¼šç¯å›å£è®¤ä¸ºæ˜¯ç‚¹åˆ°ç‚¹P2Pã€ç‚¹åˆ°å¤šç‚¹p2mpç½‘ç»œç±»å‹ï¼Œæ©ç æ˜¯32ï¼›ä¿®æ”¹æˆå¹¿æ’­Broadcastï¼Œæ©ç å˜æˆ24</p><ul><li><strong>STEP3.1ï¼š</strong> æ±‡æ€»æ–¹æ³•1</li></ul><p><strong>åŒä¸€ä¸ªåŒºåŸŸçš„LSDBå¿…é¡»ä¿æŒä¸€è‡´</strong>ï¼Œæ‰€ä»¥åªèƒ½åœ¨ABRæˆ–è€…ASBRä¸Šåšæ±‡æ€»ï¼Œè€Œä¸”æ˜¯åœ¨è¦æ±‡æ€»çš„åŒºåŸŸå†…è¿›è¡Œæ±‡æ€»ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ospf <span class="token number">1</span><span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>a <span class="token number">1</span>                                  <span class="token punctuation">[</span>R1-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>abr-summary <span class="token number">14.1</span>.4.0 <span class="token number">255.255</span>.252.0   </code></pre><ul><li><strong>STEP3.2ï¼š</strong> æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">12</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">12</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       <span class="token number">12.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">14.1</span>.4.0/22  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/0       Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>R3<span class="token punctuation">]</span></code></pre><ul><li><strong>STEP4.1ï¼š</strong> æ±‡æ€»æ–¹æ³•2</li></ul><p>åœ¨æ±‡æ€»ä¹‹å‰ï¼Œå…ˆé…ç½®ç¯å›åœ°å€å’Œè·¯ç”±å¼•å…¥ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®ç¯å›åœ°å€</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>R3-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.0.1 <span class="token number">24</span><span class="token punctuation">[</span>R3-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.1.1 <span class="token number">24</span> sub<span class="token punctuation">[</span>R3-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.2.1 <span class="token number">24</span> sub<span class="token punctuation">[</span>R3-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.3.1 <span class="token number">24</span> sub<span class="token comment"># å¤´éƒ½ AR3ï¼šå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>R3-LoopBack0<span class="token punctuation">]</span>rip <span class="token number">1</span><span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>net<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>network <span class="token number">192.168</span>.0.0<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>network <span class="token number">192.168</span>.1.0<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>network <span class="token number">192.168</span>.2.0<span class="token punctuation">[</span>R3-rip-1<span class="token punctuation">]</span>network <span class="token number">192.168</span>.3.0</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šè·¯ç”±å¼•å…¥</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>ospf <span class="token number">1</span><span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span>import-route rip</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">22</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">22</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface    Â·Â·Â·Â·Â·Â·    <span class="token number">192.168</span>.0.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0    <span class="token number">192.168</span>.1.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0    <span class="token number">192.168</span>.1.0/26  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">192.168</span>.1.1     LoopBack0    <span class="token number">192.168</span>.1.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0   <span class="token number">192.168</span>.1.63/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0    <span class="token number">192.168</span>.2.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0    <span class="token number">192.168</span>.3.0/24  O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0    Â·Â·Â·Â·Â·Â·<span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæ±‡æ€»</span><span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span>asbr-summary <span class="token number">192.168</span>.0.0 <span class="token number">255.255</span>.252.0 cost <span class="token number">66</span>  <span class="token comment"># ASBRæ±‡æ€»ï¼Œè®¾ç½®å¼€é”€ä¸º66</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">19</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">19</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface    Â·Â·Â·Â·Â·Â·    <span class="token number">192.168</span>.0.0/22  O_ASE   <span class="token number">150</span>  <span class="token number">66</span>          D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0    <span class="token number">192.168</span>.1.0/26  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">192.168</span>.1.1     LoopBack0    <span class="token number">192.168</span>.1.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0   <span class="token number">192.168</span>.1.63/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0   Â·Â·Â·Â·Â·Â·<span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span></code></pre><h3 id="å®éªŒå››ï¼šé»˜è®¤è·¯ç”±"><a href="#å®éªŒå››ï¼šé»˜è®¤è·¯ç”±" class="headerlink" title="å®éªŒå››ï¼šé»˜è®¤è·¯ç”±"></a><strong>å®éªŒå››ï¼šé»˜è®¤è·¯ç”±</strong></h3><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/30fff28111df4c24869e1f2d41d7e324.png"><ul><li><strong>STEP2ï¼š</strong> é…ç½®é»˜è®¤è·¯ç”±ã€ä¸‹æ”¾è·¯ç”±</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®é»˜è®¤è·¯ç”±</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ip route-static <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token number">192.168</span>.1.1</code></pre><p>æ­¤æ—¶ï¼Œå¦‚æœä¸‹é¢è·¯ç”±å™¨æƒ³é…ç½®é»˜è®¤è·¯ç”±ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥è€ƒè™‘ä½¿ç”¨OSPFä¸‹æ”¾ä¸€æ¡é»˜è®¤è·¯ç”±ï¼šæ›´æ–°åçš„é»˜è®¤è·¯ç”±ä¹Ÿèƒ½ä¸‹æ”¾ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šOSPFä¸‹æ”¾è·¯ç”±</span><span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>default-route-advertise</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">16</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">16</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">0.0</span>.0.0/0   O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.        Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>R2<span class="token punctuation">]</span></code></pre><p>é»˜è®¤è·¯ç”±é€šè¿‡OSPF(O_ASE)è·å–åˆ°</p><ul><li><strong>STEP3ï¼š</strong> æŠŠä¸‹æ”¾è·¯ç”±æ”¹æˆalwaysæŸ¥çœ‹ç°è±¡</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé¦–å…ˆåˆ é™¤é»˜è®¤è·¯ç”±</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>un <span class="token function">ip</span> route-static <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token number">192.168</span>.1.1<span class="token punctuation">[</span>R1<span class="token punctuation">]</span>un <span class="token function">ip</span> route-static <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token number">192.168</span>.3.254</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">15</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">15</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       <span class="token number">10.0</span>.1.1/32  OSPF    <span class="token number">10</span>   <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       <span class="token number">10.0</span>.2.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">10.0</span>.2.2        LoopBack0       <span class="token number">10.0</span>.2.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       LoopBack0      Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>R2<span class="token punctuation">]</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®ä¸‹æ”¾è·¯ç”±always</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ospf <span class="token number">1</span><span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>default-route-advertise always </code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">16</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">16</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">0.0</span>.0.0/0   O_ASE   <span class="token number">150</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>R2<span class="token punctuation">]</span></code></pre><p>æ³¨ï¼š<br>1.é»˜è®¤è·¯ç”±å¯ä»¥æŠŠå…¶ä»–è·¯ç”±å™¨çš„æ¡ç›®å¸å¼•åˆ°å‡ºå£è·¯ç”±å™¨<br>2.ä¸‹æ”¾é»˜è®¤è·¯ç”±å¿…é¡»å¾—æœ‰é»˜è®¤è·¯ç”±æ‰èƒ½ä¸‹æ”¾<br>3.alwaysï¼šä¸ç®¡æœ‰æ²¡æœ‰é»˜è®¤è·¯ç”±éƒ½ä¸‹æ”¾</p><h3 id="å®éªŒäº”ï¼šæœ«æ¢¢ç½‘ç»œ"><a href="#å®éªŒäº”ï¼šæœ«æ¢¢ç½‘ç»œ" class="headerlink" title="å®éªŒäº”ï¼šæœ«æ¢¢ç½‘ç»œ"></a><strong>å®éªŒäº”ï¼šæœ«æ¢¢ç½‘ç»œ</strong></h3><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/2f82af0675ac40ebb9430e4907964487.png"><ul><li><strong>STEP2.1ï¼š</strong> é…ç½®æœ«æ¢¢ç½‘ç»œ(å­¦ä¹ äº†3ç±»LSA)</li></ul><p>æœ«æ¢¢ç½‘ç»œï¼šä¸æ¥å—4ã€5ã€7ç±»LSAï¼Œåªæ¥å—1ã€3ç±»LSAã€‚æœ‰æ•ˆé™ä½ç½‘ç»œçš„å¤æ‚åº¦ã€‚<br>åªè¦åœ¨ä¸€ä¸ªè·¯ç”±å™¨ä¸Šé…ç½®æœ«æ¢¢ç½‘ç»œï¼Œæ•´ä¸ªåŒºåŸŸéƒ½è¦é…ç½®æœ«æ¢¢ç½‘ç»œ</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®æœ«æ¢¢ç½‘ç»œ</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span>a <span class="token number">1</span><span class="token punctuation">[</span>R2-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>stub<span class="token comment"># é…ç½®å®Œè¯¥å‘½ä»¤åï¼Œå¯ä»¥çœ‹åˆ°æ—¥å¿—ä¿¡æ¯</span><span class="token comment"># todo AR1ï¼šé…ç½®æœ«æ¢¢ç½‘ç»œ</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>a <span class="token number">1</span><span class="token punctuation">[</span>R1-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>stub<span class="token comment"># é…ç½®å®Œè¯¥å‘½ä»¤åï¼ŒABRä¼šä¸»åŠ¨äº§ç”Ÿä¸€ä¸ªé»˜è®¤è·¯ç”±ä¸‹æ”¾ç»™åŒºåŸŸå†…è·¯ç”±å™¨</span><span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨çš„é»˜è®¤è·¯ç”±</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rou</code></pre><p>æ­¤æ—¶ï¼Œ</p><ul><li><strong>STEP2.2ï¼š</strong> é…ç½®æœ«æ¢¢ç½‘ç»œ(ä¸å­¦ä¹ 3ç±»LSA)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®æœ«æ¢¢ç½‘ç»œä¸æ¥å—3ç±»LSA</span><span class="token punctuation">[</span>R1-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>stub no-summary <span class="token comment"># todo AR2ï¼šé…ç½®æœ«æ¢¢ç½‘ç»œä¸æ¥å—3ç±»LSA</span><span class="token punctuation">[</span>R2-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>stub no-summary <span class="token comment"># todo AR1ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rou<span class="token comment"># å¯ä»¥çœ‹åˆ°é™¤äº†ç›´è¿ï¼Œåªå‰©ä¸€æ¡é»˜è®¤è·¯ç”±ï¼Œä½†æ˜¯å¯ä»¥pingé€šå…¶ä»–åŒºåŸŸè·¯ç”±</span></code></pre><p>ä¸¤ä¸ªè·¯ç”±å™¨éƒ½é…ç½®ä¸æ¥å—3ç±»LSAé‚»å±…å…³ç³»æ‰èƒ½å»ºç«‹<br>éª¨å¹²åŒºåŸŸä¸èƒ½åšæˆæœ«æ¢¢ç½‘ç»œ<br>æœ«æ¢¢ç½‘ç»œ<strong>ä¸å…è®¸</strong>åœ¨æœ«æ¢¢åŒºåŸŸ<strong>é‡åˆ†å‘</strong><br>ä½†æ˜¯ NSSA å¯ä»¥åšåˆ°æœ«æ¢¢ç½‘ç»œå’Œé‡åˆ†å‘</p><ul><li><strong>STEP3.1ï¼š</strong> é…ç½®NSSA</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šé…ç½®NSSA</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R4-ospf-1<span class="token punctuation">]</span>a <span class="token number">2</span><span class="token punctuation">[</span>R4-ospf-1-area-0.0.0.2<span class="token punctuation">]</span>nssa <span class="token comment"># todo AR3ï¼šé…ç½®NSSA</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>a <span class="token number">2</span><span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.2<span class="token punctuation">]</span>nssa</code></pre><ul><li><strong>STEP3.2ï¼š</strong> NSSAä¸‹æ”¾è·¯ç”±</li></ul><p>æ­£å¸¸NSSAä¸ä¸‹æ”¾é»˜è®¤è·¯ç”±ï¼Œä¸‹æ”¾é»˜è®¤è·¯ç”±å¯ä»¥é…ç½®ä»¥ä¸‹å‘½ä»¤</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®NSSAä¸‹æ”¾è·¯ç”±</span><span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.2<span class="token punctuation">]</span>nssa default-route-advertise</code></pre><p>å¦‚æœæƒ³è¦ä¸æ¥å—3ç±»LSAï¼Œå¯ä»¥é…ç½®</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šä¸æ¥å—3ç±»LSA</span><span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.2<span class="token punctuation">]</span>nssa default-route-advertise no-summary<span class="token comment"># todo AR4ï¼šä¸æ¥å—4ç±»LSA</span><span class="token punctuation">[</span>R4-ospf-1-area-0.0.0.2<span class="token punctuation">]</span>nssa default-route-advertise no-summary</code></pre><h2 id="RIP"><a href="#RIP" class="headerlink" title="RIP"></a>RIP</h2><p>RIPå±äºIGP(å†…éƒ¨ç½‘å…³åè®®)</p><h3 id="åŸç†ï¼šè·ç¦»çŸ¢é‡è·¯ç”±åè®®"><a href="#åŸç†ï¼šè·ç¦»çŸ¢é‡è·¯ç”±åè®®" class="headerlink" title="åŸç†ï¼šè·ç¦»çŸ¢é‡è·¯ç”±åè®®"></a><strong>åŸç†ï¼šè·ç¦»çŸ¢é‡è·¯ç”±åè®®</strong></h3><p>è·ç¦»çŸ¢é‡ï¼šåªå…³å¿ƒæ–¹å‘å’Œåº¦é‡</p><p>OSPFå°è£…åœ¨IPä¸­ï¼Œåè®®å·89<br>RIPå°è£…åœ¨UDPä¸­ï¼Œç›®æ ‡ç«¯å£å·520</p><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/7b841e84c947488f9aa30ec124342629.png"><p>æ³¨ï¼š<br><strong>1.</strong> RIPæ¯éš”30så‘ä¸€æ¬¡æ›´æ–°ï¼Œ180sæœªåº”ç­”å°±ä»è·¯ç”±è¡¨åˆ é™¤ã€‚<br><strong>2.</strong> æ›´æ–°åŸåˆ™â€”â€”åˆ é™¤ï¼šå‘è·³æ•°ä¸º16çš„æ›´æ–°ï¼Œç„¶åå°†è¯¥è·¯ç”±æ¡ç›®ä»è·¯ç”±è¡¨ä¸­åˆ é™¤æ‰ã€‚<br><strong>3.</strong> é¿å…è·¯ç”±ç¯è·¯æ–¹æ³•ï¼šæœ€å¤§è·³æ•°ã€æ°´å¹³åˆ†å‰²ã€è·¯ç”±æ¯’åŒ–ã€æ¯’æ€§åè½¬ã€è§¦å‘æ›´æ–°</p><h3 id="å®éªŒå…­ï¼šRIPç‰ˆæœ¬"><a href="#å®éªŒå…­ï¼šRIPç‰ˆæœ¬" class="headerlink" title="å®éªŒå…­ï¼šRIPç‰ˆæœ¬"></a><strong>å®éªŒå…­ï¼šRIPç‰ˆæœ¬</strong></h3><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/4b56590fe7a24986b4ae1a076b172025.png"><p><strong>RIPv2ç»„æ’­è·¯ç”±æ›´æ–°çš„ç›®çš„åœ°å€ä½¿ç”¨<code>224.0.0.9</code></strong></p><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/0c885af960194cfa9eacc2d039cc4891.png"><ul><li><strong>STEP2.1ï¼š</strong> é…ç½®IP</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®ç«¯å£å’Œç¯å›åœ°å€</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">12.1</span>.1.1 <span class="token number">24</span>  <span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>AR1-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">1.1</span>.1.1 <span class="token number">32</span><span class="token comment"># todo AR2ï¼šé…ç½®ç«¯å£å’Œç¯å›åœ°å€</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">12.1</span>.1.2 <span class="token number">24</span><span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>AR2-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">2.2</span>.2.2 <span class="token number">32</span></code></pre><ul><li><strong>STEP2.2ï¼š</strong> é…ç½®ç‰ˆæœ¬å’Œå®£å‘Š</li></ul><p>RIPv1åªèƒ½æŒ‰åœ°å€ç±»åˆ«è¿›è¡Œå®£å‘Šã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šç‰ˆæœ¬ã€å®£å‘Š</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>version <span class="token number">1</span><span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>network <span class="token number">1.0</span>.0.0<span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>network <span class="token number">12.0</span>.0.0<span class="token comment"># todo AR2ï¼šç‰ˆæœ¬ã€å®£å‘Š</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>version <span class="token number">1</span><span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>network <span class="token number">2.0</span>.0.0<span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>network <span class="token number">12.0</span>.0.0</code></pre><ul><li><strong>STEP2.3ï¼š</strong> æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><p>å¯ä»¥çœ‹åˆ°è·¯ç”±è¡¨ä¸­æœ‰å¯¹æ–¹æ¥å£å’Œç¯å›åœ°å€æ¡ç›®ï¼Œä¸”æ˜¯æœ‰ç±»è·¯ç”±ã€‚</p><ul><li><strong>STEP2.4ï¼š</strong> ä¿®æ”¹RIPç‰ˆæœ¬</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šç‰ˆæœ¬</span><span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>version <span class="token number">2</span><span class="token comment"># todo AR2ï¼šç‰ˆæœ¬</span><span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>version <span class="token number">2</span></code></pre><ul><li><strong>STEP2.5ï¼š</strong> æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><p>å¯ä»¥çœ‹åˆ°è·¯ç”±è¡¨ä¸­çš„æœ‰ç±»è·¯ç”±å˜æˆæ— ç±»è·¯ç”±ã€‚</p><h3 id="å®éªŒä¸ƒï¼šRIPç›¸å…³é…ç½®"><a href="#å®éªŒä¸ƒï¼šRIPç›¸å…³é…ç½®" class="headerlink" title="å®éªŒä¸ƒï¼šRIPç›¸å…³é…ç½®"></a><strong>å®éªŒä¸ƒï¼šRIPç›¸å…³é…ç½®</strong></h3><ul><li><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/924ad19ecbdd497a93c903277172efcc.png"><ul><li><strong>STEP2.1ï¼š</strong> é…ç½®IP</li></ul><p>è·¯ç”±å™¨ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®IP</span><span class="token punctuation">[</span>AR3<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR3-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">23.1</span>.1.3 <span class="token number">24</span><span class="token punctuation">[</span>AR3-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR3-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.2.3 <span class="token number">24</span><span class="token comment"># todo AR2ï¼šé…ç½®IP</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>int g0/0/0     <span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">12.1</span>.1.2 <span class="token number">24</span><span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">23.1</span>.1.2 <span class="token number">24</span><span class="token comment"># todo AR3ï¼šé…ç½®IP</span><span class="token punctuation">[</span>AR3<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR3-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">23.1</span>.1.3 <span class="token number">24</span><span class="token punctuation">[</span>AR3-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR3-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.2.3 <span class="token number">24</span></code></pre><table><thead><tr><th>ä¸»æœº</th><th>IPåœ°å€</th><th>å­ç½‘æ©ç </th><th>ç½‘å…³</th></tr></thead><tbody><tr><td>PC1</td><td>10.1.1.250</td><td>255.255.255.0</td><td>10.1.1.1</td></tr><tr><td>PC2</td><td>10.1.2.250</td><td>255.255.255.0</td><td>10.1.2.3</td></tr></tbody></table><ul><li><strong>STEP2.2ï¼š</strong> æµ‹è¯•è¿é€šæ€§</li></ul><p>ä¸»æœºpingç½‘å…³ï¼Œè·¯ç”±å™¨pingé‚»å±…ï¼Œpingé€šå³å¯</p><ul><li><p><strong>â‘ é…ç½®ï¼šRIPåŸºæœ¬é…ç½®</strong></p></li><li><p><strong>STEP3ï¼š</strong> ä¿®æ”¹ç‰ˆæœ¬ä¸ºRIPv1ï¼Œå®£å‘Šç½‘æ®µ</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>version <span class="token number">2</span><span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>network <span class="token number">10.0</span>.0.0<span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>network <span class="token number">12.0</span>.0.0<span class="token comment"># todo AR2ï¼šå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>version <span class="token number">2</span><span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>network <span class="token number">12.0</span>.0.0 <span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>network <span class="token number">23.0</span>.0.0<span class="token comment"># todo AR3ï¼šå®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>AR3<span class="token punctuation">]</span>rip<span class="token punctuation">[</span>AR3-rip-1<span class="token punctuation">]</span>version <span class="token number">2</span><span class="token punctuation">[</span>AR3-rip-1<span class="token punctuation">]</span>network <span class="token number">23.0</span>.0.0<span class="token punctuation">[</span>AR3-rip-1<span class="token punctuation">]</span>network <span class="token number">10.0</span>.0.0</code></pre><ul><li><p><strong>â‘¡é…ç½®ï¼šè·¯ç”±æ±‡æ€»</strong></p></li><li><p><strong>STEP4ï¼š</strong> é…ç½®æ±‡æ€»</p></li></ul><p>RIPv1é»˜è®¤è‡ªåŠ¨æ±‡æ€»ï¼Œä¸èƒ½æ‰‹åŠ¨å¼€å¯æˆ–å…³é—­ï¼ŒRIPv2é»˜è®¤è‡ªåŠ¨æ±‡æ€»ï¼Œå¯ä»¥æ‰‹åŠ¨å¼€å¯æˆ–å…³é—­ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo STEP1ï¼šæ‰€æœ‰è·¯ç”±å™¨æ”¹ä¸ºRIPv2ï¼Œå¼€å¯è‡ªåŠ¨æ±‡æ€»</span><span class="token comment"># todo STEP2ï¼šæŸ¥çœ‹AR2è·¯ç”±è¡¨ï¼Œå‘ç°æ˜¯æ²¡æ±‡æ€»çš„æ˜ç»†è·¯ç”±</span><span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">12</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">12</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       <span class="token number">10.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       <span class="token number">10.1</span>.2.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.3        GigabitEthernet0/0/1       Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span><span class="token comment"># todo STEP3ï¼šæ‰€æœ‰è·¯ç”±å™¨å…³é—­è‡ªåŠ¨æ±‡æ€»ï¼Œè·¯ç”±è¡¨ä¸å˜</span><span class="token comment"># todo STEP4ï¼šæ‰€æœ‰è·¯ç”±å™¨æ”¹ä¸ºRIPv1ï¼Œå¼€å¯è‡ªåŠ¨æ±‡æ€»</span><span class="token comment"># todo STEP5ï¼šæŸ¥çœ‹AR2è·¯ç”±è¡¨ï¼Œå‘ç°æ±‡æ€»è·¯ç”±</span><span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">11</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">12</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       <span class="token number">10.0</span>.0.0/8   RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0                    RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.3        GigabitEthernet0/0/1       Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span><span class="token comment"># todo STEP6ï¼šæ‰€æœ‰è·¯ç”±å™¨å…³é—­è‡ªåŠ¨æ±‡æ€»ï¼Œè·¯ç”±è¡¨ä¸å˜</span></code></pre><ul><li><p><strong>â‘¢é…ç½®ï¼šé“¾è·¯èšåˆ</strong></p></li><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</p></li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/2affc9fb6a9b44178218ccef6cc2c94e.png"><ul><li><strong>STEP2ï¼š</strong> é…ç½®ç¯å›åœ°å€</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®ç¯å›åœ°å€</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>int lo <span class="token number">0</span><span class="token punctuation">[</span>AR1-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.2</span>.0.1 <span class="token number">24</span><span class="token punctuation">[</span>AR1-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.2</span>.1.1 <span class="token number">24</span> sub<span class="token punctuation">[</span>AR1-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.2</span>.2.1 <span class="token number">24</span> sub<span class="token punctuation">[</span>AR1-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.2</span>.3.1 <span class="token number">24</span> sub</code></pre><ul><li><strong>STEP3.1ï¼š</strong> ä¿®æ”¹æ‰€æœ‰è·¯ç”±å™¨ä¸ºRIPv2</li><li><strong>STEP3.2ï¼š</strong> é…ç½®é“¾è·¯èšåˆ</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1é…ç½®é“¾è·¯èšåˆ</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>rip summary-address <span class="token number">10.2</span>.0.0 <span class="token number">255.255</span>.252.0</code></pre><ul><li><strong>STEP3.3ï¼š</strong> æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹AR2è·¯ç”±è¡¨</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">13</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">13</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       <span class="token number">10.1</span>.1.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       <span class="token number">10.1</span>.2.0/24  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">23.1</span>.1.3        GigabitEthernet0/0/1       <span class="token number">10.2</span>.0.0/22  RIP     <span class="token number">100</span>  <span class="token number">1</span>           D   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       Â·Â·Â·Â·Â·Â·<span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span></code></pre><ul><li><p><strong>â‘£é…ç½®ï¼šä¸‹æ”¾è·¯ç”±</strong></p></li><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</p></li></ul><img src="/2022/06/29/ict-zhan-dui-di-6-ci-bi-ji/c8aa4658042942c88cf32cfcc8d21c49.png"><ul><li><strong>STEP2ï¼š</strong> é…ç½®äº‘</li></ul><p>ç»‘å®šä¿¡æ¯ï¼š1.UDPã€2.ä»¥å¤ªç½‘<br>å‡ºç«¯å£ï¼š1<br>å…¥ç«¯å£ï¼š2<br>åŒå‘é€šé“ï¼šâˆš</p><ul><li><strong>STEP3ï¼š</strong> é…ç½®ä¸‹æ”¾é»˜è®¤è·¯ç”±</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®ä¸‹æ”¾é»˜è®¤è·¯ç”±</span><span class="token punctuation">[</span>AR2-rip-1<span class="token punctuation">]</span>default-route originate </code></pre><ul><li><strong>STEP4ï¼š</strong> æŸ¥çœ‹è·¯ç”±è¡¨</li></ul><p>æŸ¥çœ‹AR1ã€AR3è·¯ç”±è¡¨ï¼Œå¯ä»¥çœ‹åˆ°é»˜è®¤è·¯ç”±çš„æ¡ç›®ï¼š<br><code>0.0.0.0/0   RIP     100  1           D   12.1.1.2        GigabitEthernet0/0/0</code><br><code>0.0.0.0/0   RIP     100  1           D   23.1.1.2        GigabitEthernet0/0/0</code></p><ul><li><strong>â‘¤é…ç½®ï¼šæŠ‘åˆ¶æ¥å£</strong></li></ul><p>æŠ‘åˆ¶æ¥å£ï¼šåªæ”¶ä¸å‘ï¼Œä¸€èˆ¬è¿æ¥ç»ˆç«¯æ¥å£é…ç½®æŠ‘åˆ¶æ¥å£</p><ul><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘(åŒä¸Š)</p></li><li><p><strong>STEP2ï¼š</strong> é…ç½®æŠ‘åˆ¶æ¥å£</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šè®¾ç½®æŠ‘åˆ¶æ¥å£</span><span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>silent-interface g0/0/1<span class="token comment"># [AR1-rip-1]silent-interface all  # æŠŠæ‰€æœ‰ç«¯å£è®¾ç½®ä¸ºæŠ‘åˆ¶æ¥å£</span></code></pre><p>å®é™…ä¸Šï¼Œå¯ä»¥å…ˆæŠŠæ‰€æœ‰ç«¯å£è®¾ç½®ä¸ºæŠ‘åˆ¶æ¥å£ï¼Œç„¶åå†å–æ¶ˆå…¶ä¸­æŸä¸ªéœ€è¦çš„æ¥å£</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># show è¯¥é…ç½®æ¨¡æ‹Ÿå™¨ä¸Šä¸å¯ç”¨ï¼Œå®é™…ä¸­å¯ç”¨</span><span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>silent-interface all<span class="token punctuation">[</span>AR1-rip-1<span class="token punctuation">]</span>un silent-interface g0/0/0</code></pre><ul><li><strong>â‘¥é…ç½®ï¼šè®¤è¯</strong></li></ul><p>è®¤è¯éƒ½æ˜¯åœ¨æ¥å£ä¸‹é…ç½®çš„</p><ul><li><p><strong>STEP1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘(åŒä¸Š)</p></li><li><p><strong>STEP2ï¼š</strong> é…ç½®è®¤è¯</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®è®¤è¯</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>rip authentication-mode md5 usual cipher <span class="token number">123456</span><span class="token comment"># todo AR2ï¼šé…ç½®è®¤è¯</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>rip authentication-mode md5 usual cipher <span class="token number">123456</span></code></pre><p><strong>å¯†ç ä¸è¦åŠ ç©ºæ ¼ï¼ï¼ï¼</strong></p><h2 id="ä½¿ç”¨æŠ€å·§"><a href="#ä½¿ç”¨æŠ€å·§" class="headerlink" title="ä½¿ç”¨æŠ€å·§"></a>ä½¿ç”¨æŠ€å·§</h2><p>ä½¿ç”¨SecureCRTè¿æ¥eNSPè®¾å¤‡ï¼š<a href="https://blog.csdn.net/qq_41490561/article/details/104894891">CRT(Securecrt)è¿æ¥ENSPè®¾å¤‡</a></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬5æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬5æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬5æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬5æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬5æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="è·¯ç”±åè®®"><a href="#è·¯ç”±åè®®" class="headerlink" title="è·¯ç”±åè®®"></a>è·¯ç”±åè®®</h2><h3 id="å®éªŒä¸€ï¼šé™æ€è·¯ç”±"><a href="#å®éªŒä¸€ï¼šé™æ€è·¯ç”±" class="headerlink" title="å®éªŒä¸€ï¼šé™æ€è·¯ç”±"></a><strong>å®éªŒä¸€ï¼šé™æ€è·¯ç”±</strong></h3><ul><li>STEP1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/2f4fbfc4c48246bcb81ce7296075cf04.png"><ul><li>STEP2.1ï¼šè·¯ç”±å™¨é…ç½®IP</li></ul><p>è¯´æ˜ï¼š<code>ARå‡ </code>å°±é…ç½®<code>X.X.X.å‡ /24</code>çš„åœ°å€ï¼Œä¾‹ï¼šAR2ï¼š12.1.5.2/24ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># AR1</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.1.1 <span class="token number">24</span><span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">12.1</span>.1.1 <span class="token number">24</span><span class="token comment"># AR2</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">12.1</span>.1.2 <span class="token number">24</span><span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">23.1</span>.1.2 <span class="token number">24</span><span class="token comment"># AR3</span><span class="token punctuation">[</span>AR3<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR3-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">23.1</span>.1.3 <span class="token number">24</span><span class="token punctuation">[</span>AR3-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR3-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.2.3 <span class="token number">24</span></code></pre><ul><li>STEP2.2ï¼šä¸»æœºé…ç½®IP</li></ul><table><thead><tr><th align="center">ä¸»æœº</th><th align="center">IPåœ°å€</th><th align="center">æ©ç </th><th align="center">ç½‘å…³</th></tr></thead><tbody><tr><td align="center">PC1</td><td align="center">192.168.1.250</td><td align="center">255.255.255.0</td><td align="center">192.168.1.1</td></tr><tr><td align="center">PC2</td><td align="center">192.168.2.250</td><td align="center">255.255.255.0</td><td align="center">192.168.2.3</td></tr></tbody></table><ul><li>STEP2.3ï¼šæµ‹è¯•ç½‘ç»œè¿é€šæ€§(ç•¥)</li></ul><p>ç”¨PC1 ping PC2ï¼Œpingä¸é€šã€‚</p><ul><li>STEP2.4ï¼šæŸ¥çœ‹è·¯ç”±è¡¨</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">10</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">10</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface       <span class="token number">12.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0     <span class="token number">12.1</span>.1.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0       <span class="token number">23.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">23.1</span>.1.2        GigabitEthernet0/0/1       <span class="token number">23.1</span>.1.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/1     <span class="token number">23.1</span>.1.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/1      <span class="token number">127.0</span>.0.0/8   Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0      <span class="token number">127.0</span>.0.1/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">127.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token punctuation">[</span>AR2<span class="token punctuation">]</span></code></pre><ul><li>STEP2.5ï¼šDEBUG</li></ul><p>åœ¨ç†æƒ³ç¯å¢ƒä¸‹ï¼ŒæŠ“åŒ…å®¹æ˜“ï¼Œä½†æ˜¯åœ¨çœŸå®ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒæŠ“åŒ…å¾ˆéš¾å®ç°ã€‚å› æ­¤ï¼Œä¸€èˆ¬ä½¿ç”¨DEBUGå†™æ—¥å¿—ã€‚</p><p><font color="#999AAA">è®©å®¢æˆ·ä¸»åŠ¨æ‰¾ä½ ï¼Œåˆ«ä¸»åŠ¨å»æ‰¾å®¢æˆ·ã€‚</font></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æ˜¾ç¤ºæ—¥å¿—</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>terminal monitor  <span class="token comment"># åœ¨ç»ˆç«¯æ˜¾ç¤ºæ—¥å¿—</span>Info: Current terminal monitor is on.<span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>terminal debugging  <span class="token comment"># æ˜¾ç¤ºæ—¥å¿—ç­‰çº§</span>Info: Current terminal debugging is on.<span class="token comment"># &lt;AR2&gt;terminal all  # æ°¸è¿œä¸è¦ä½¿ç”¨è¯¥å‘½ä»¤</span><span class="token comment"># todo æ˜¾ç¤ºç›¸åº”æ—¥å¿—</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>debugging <span class="token function">ip</span> icmp</code></pre><p>ç„¶åï¼Œä½¿ç”¨AR1 ping AR2ï¼Œå¯ä»¥åœ¨AR2ç»ˆç«¯çœ‹åˆ°(pingé€šäº†)ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ç»ˆç«¯ä¿¡æ¯</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:11.832.2-08:00 AR2 IP/7/debug_icmp:ICMP Send: echo-reply<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">256</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:12.272.1-08:00 AR2 IP/7/debug_icmp:ICMP Receive: echo<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">2048</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">512</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:12.272.2-08:00 AR2 IP/7/debug_icmp:ICMP Send: echo-reply<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">512</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:12.772.1-08:00 AR2 IP/7/debug_icmp:ICMP Receive: echo<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">2048</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">768</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:12.772.2-08:00 AR2 IP/7/debug_icmp:ICMP Send: echo-reply<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">768</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:13.272.1-08:00 AR2 IP/7/debug_icmp:ICMP Receive: echo<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">2048</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">1024</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:13.272.2-08:00 AR2 IP/7/debug_icmp:ICMP Send: echo-reply<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">1024</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:13.762.1-08:00 AR2 IP/7/debug_icmp:ICMP Receive: echo<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">2048</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">1280</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>Oct <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">17</span>:46:13.762.2-08:00 AR2 IP/7/debug_icmp:ICMP Send: echo-reply<span class="token punctuation">(</span>Type<span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>, Src <span class="token operator">=</span> <span class="token number">2.1</span>.1.12, Dst <span class="token operator">=</span> <span class="token number">1.1</span>.1.12, ICMP Id <span class="token operator">=</span> 0xabcd, ICMP Seq <span class="token operator">=</span> <span class="token number">1280</span><span class="token operator">&lt;</span>AR<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span></code></pre><p><a href="https://blog.csdn.net/zhenyi2000/article/details/79795095">ICMPç±»å‹å­—æ®µ(Type)ä»¥åŠä»£ç å­—æ®µ(Code)å«ä¹‰æ±‡æ€»</a></p><ul><li>STEP3.1ï¼šé…ç½®é™æ€è·¯ç”±</li></ul><p>é™æ€è·¯ç”±é…ç½®è¯­æ³•ï¼š<code>[AR]ip route-static &lt;ç›®æ ‡ç½‘æ®µ&gt; &lt;å­ç½‘æ©ç &gt; &lt;ä¸‹è·³åœ°å€&gt;</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1é…ç½®é™æ€è·¯ç”±</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>ip route-static <span class="token number">192.168</span>.2.0 <span class="token number">255.255</span>.255.0 <span class="token number">12.1</span>.1.2<span class="token comment"># todo AR2é…ç½®é™æ€è·¯ç”±</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>ip route-static <span class="token number">192.168</span>.2.0 <span class="token number">255.255</span>.255.0 <span class="token number">23.1</span>.1.3<span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>ip route-static <span class="token number">192.168</span>.1.0 <span class="token number">255.255</span>.255.0 <span class="token number">12.1</span>.1.1<span class="token comment"># todo AR3é…ç½®é™æ€è·¯ç”±</span><span class="token punctuation">[</span>AR3<span class="token punctuation">]</span>ip route-static <span class="token number">192.168</span>.1.0 <span class="token number">255.255</span>.255.0 <span class="token number">23.1</span>.1.2</code></pre><ul><li>STEP3.2ï¼šæµ‹è¯•ç½‘ç»œè¿é€šæ€§</li></ul><p>ä¸»æœºä¹‹é—´å¯ä»¥pingé€šï¼Œå…¶é€šä¿¡è¿‡ç¨‹ä¸ºï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/33d9c319820d41ddb02fabbe4654a383.png"><p><strong>è·¯ç”±å™¨åŸºäºè·¯ç”±è¡¨è¿›è¡Œè½¬å‘</strong>ã€‚</p><h3 id="å°å®éªŒ-1"><a href="#å°å®éªŒ-1" class="headerlink" title="å°å®éªŒ$_1$"></a>å°å®éªŒ$_1$</h3><p>ä¸¤ä¸ªè·¯ç”±å™¨åœ°å€ä¸åœ¨åŒä¸€ç½‘æ®µèƒ½å¦é€šä¿¡ã€‚</p><ul><li>STEP1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/62af52d773c54532bb3cd64d843be2e8.png"><ul><li>STEP2ï¼šè·¯ç”±å™¨é…ç½®IP(ç•¥)</li><li>STEP3ï¼šæµ‹è¯•è¿é€šæ€§(ç•¥ï¼šè·¯ç”±å™¨äº’ç›¸pingä¸é€š)</li><li>STEP4ï¼šæ·»åŠ é™æ€è·¯ç”±</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>ip route-static <span class="token number">192.168</span>.1.1 <span class="token number">255.255</span>.255.0 g0/0/0Info: The destination address and mask of the configured static route mismatched, and the static route <span class="token number">192.168</span>.1.0/24 was generated.<span class="token comment"># todo AR2</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>ip route-static <span class="token number">12.1</span>.1.1 <span class="token number">255.255</span>.255.0 g0/0/0Info: The destination address and mask of the configured static route mismatched, and the static route <span class="token number">12.1</span>.1.0/24 was generated.</code></pre><ul><li>STEP5ï¼šæµ‹è¯•è¿é€šæ€§</li></ul><p>æ­¤æ—¶ï¼Œ<strong>æŒ‰ç†æ¥è¯´</strong>ï¼Œåº”è¯¥èƒ½pingé€šäº†ã€‚<br>ä½†æ˜¯ï¼Œæ¶‰åŠåˆ°ARPè½®è¯¢æŠ€æœ¯(?)ï¼Œæ²¡æœ‰pingé€šã€‚</p><blockquote><p>æ³¨ï¼›å¦‚æœè·¯ç”±å™¨æ²¡æœ‰åŸºäºè·¯ç”±è¡¨è¿›è¡Œè½¬å‘ï¼Œä¸€èˆ¬å°±æ˜¯è·¯ç”±å™¨å‡ºBUGäº†ã€‚</p></blockquote><h3 id="åŸç†ï¼šè·¯ç”±åè®®"><a href="#åŸç†ï¼šè·¯ç”±åè®®" class="headerlink" title="åŸç†ï¼šè·¯ç”±åè®®"></a><strong>åŸç†ï¼šè·¯ç”±åè®®</strong></h3><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/ac940265ba7d419bb08b350e0f188a80.png"><p>æŸ¥è¯¢ASï¼š<a href="https://www.cidr-report.org/as2.0/">CIDR Report</a></p><table><thead><tr><th>ç®—æ³•</th><th>åè®®</th></tr></thead><tbody><tr><td>è·ç¦»çŸ¢é‡è·¯ç”±é€‰æ‹©åè®®</td><td>RIPã€BGP</td></tr><tr><td>é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©åè®®</td><td>OSPFã€ISIS</td></tr></tbody></table><p>è·ç¦»çŸ¢é‡ï¼šå®æ—¶æ ¹æ®æ–¹å‘çš„è·ç¦»è½¬å‘æ•°æ®<br>é“¾è·¯çŠ¶æ€ï¼šå·²ç»è®¡ç®—å¥½è½¬å‘æ•°æ®çš„æœ€çŸ­è·¯å¾„</p><p>è·¯ç”±åº¦é‡ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/1849c73748a74dba92878c6f96ce3003.png"><p>ç­‰ä»·è·¯ç”±ï¼šECMP</p><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/b8f533e8554148be93a4b4cb5f58f219.png"><p>ä¾‹ï¼šç­‰ä»·è·¯ç”±</p><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/c74f445e32564661b7d857b3d856a1d6.png"><p>è·¯ç”±è¡¨<strong>æœ€é•¿åŒ¹é…åŸåˆ™</strong></p><p>VRPç¼ºçœè·¯ç”±ä¼˜å…ˆçº§ï¼š</p><table><thead><tr><th align="center">è·¯ç”±åè®®</th><th align="center">ä¼˜å…ˆçº§</th></tr></thead><tbody><tr><td align="center">DIRECT</td><td align="center">0</td></tr><tr><td align="center">OSPF</td><td align="center">10</td></tr><tr><td align="center">IS-IS</td><td align="center">15</td></tr><tr><td align="center">STATIC</td><td align="center">60</td></tr><tr><td align="center">RIP</td><td align="center">100</td></tr><tr><td align="center">OSPF ASE</td><td align="center">150</td></tr></tbody></table><h3 id="å°å®éªŒ-2"><a href="#å°å®éªŒ-2" class="headerlink" title="å°å®éªŒ$_2$"></a>å°å®éªŒ$_2$</h3><ul><li>STEP1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/8aaf15f88feb46068eec0ef6c6ba23f3.png"><ul><li>STEP2.1ï¼šè·¯ç”±å™¨é…ç½®ç¯å›å£åœ°å€</li></ul><p>è·¯ç”±å™¨çš„ç¯å›å£å¯ä»¥è‡ªå·±æŒ‡å®šï¼Œé…ç½®ä»»æ„IPåœ°å€ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®ç¯å›å£</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>int LoopBack <span class="token number">0</span><span class="token punctuation">[</span>AR1-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">1.1</span>.1.1 <span class="token number">32</span><span class="token comment"># todo æŸ¥çœ‹ç¯å›åœ°å€</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>dis <span class="token function">ip</span> rou<span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>dis <span class="token function">ip</span> int bri</code></pre><ul><li>STEP2.2ï¼šé…ç½®IPåœ°å€</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®IP</span><span class="token punctuation">[</span>AR1int g0/0/0<span class="token punctuation">[</span>AR1-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">12.1</span>.1.1 <span class="token number">24</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®IP</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">12.1</span>.1.2 <span class="token number">24</span><span class="token punctuation">[</span>AR2-GigabitEthernet0/0/0<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>AR2-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.1.2 <span class="token number">24</span></code></pre><table><thead><tr><th>ä¸»æœº</th><th>IPåœ°å€</th><th>å­ç½‘æ©ç </th><th>ç½‘å…³</th></tr></thead><tbody><tr><td>PC1</td><td>192.168.1.250</td><td>255.255.255.0</td><td>192.168.1.2</td></tr></tbody></table><ul><li>STEP2.3ï¼šé…ç½®é»˜è®¤è·¯ç”±</li></ul><p>æœ«æ¢¢ç½‘ç»œä¸€èˆ¬æ·»åŠ é»˜è®¤è·¯ç”±</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®é»˜è®¤è·¯ç”±</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>ip route-static <span class="token number">192.168</span>.1.0 <span class="token number">255.255</span>.255.0 <span class="token number">12.1</span>.1.2</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®é»˜è®¤è·¯ç”±</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>ip route-static <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token number">12.1</span>.1.1</code></pre><ul><li>STEP0ï¼šæµ‹è¯•è¿é€š</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># tood AR1ï¼š</span><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>ping -a <span class="token number">1.1</span>.1.1 <span class="token number">192.168</span>.1.250    PING <span class="token number">192.168</span>.1.250: <span class="token number">56</span>  data bytes, press CTRL_C to <span class="token builtin class-name">break</span>    Request <span class="token function">time</span> out    Reply from <span class="token number">192.168</span>.1.250: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">127</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">40</span> ms    Reply from <span class="token number">192.168</span>.1.250: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">127</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">30</span> ms    Reply from <span class="token number">192.168</span>.1.250: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">127</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">30</span> ms    Reply from <span class="token number">192.168</span>.1.250: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">127</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">20</span> ms  --- <span class="token number">192.168</span>.1.250 <span class="token function">ping</span> statistics ---    <span class="token number">5</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> transmitted    <span class="token number">4</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> received    <span class="token number">20.00</span>% packet loss    round-trip min/avg/max <span class="token operator">=</span> <span class="token number">20</span>/30/40 ms<span class="token punctuation">[</span>AR1<span class="token punctuation">]</span></code></pre><ul><li>STEP3ï¼šåˆ é™¤ä¸»æœºè¿çº¿ï¼Œè·¯ç”±å™¨ä¹‹é—´æˆç¯</li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/3d43052de942494c9a89739643363d1a.png"><p>æ­¤æ—¶æµ‹è¯•è¿é€šæ€§ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>AR1<span class="token punctuation">]</span>tracert -a <span class="token number">1.1</span>.1.1 <span class="token number">192.168</span>.1.250 <span class="token function">traceroute</span> to  <span class="token number">192.168</span>.1.250<span class="token punctuation">(</span><span class="token number">192.168</span>.1.250<span class="token punctuation">)</span>, max hops: <span class="token number">30</span> ,packet length: <span class="token number">40</span>,press CTRL_C to <span class="token builtin class-name">break</span>  <span class="token number">1</span> <span class="token number">12.1</span>.1.2 <span class="token number">50</span> ms  <span class="token number">20</span> ms  <span class="token number">20</span> ms  <span class="token number">2</span> <span class="token number">12.1</span>.1.1 <span class="token number">10</span> ms  <span class="token number">20</span> ms  <span class="token number">10</span> ms  <span class="token number">3</span> <span class="token number">12.1</span>.1.2 <span class="token number">20</span> ms  <span class="token number">10</span> ms  <span class="token number">30</span> ms  <span class="token number">4</span> <span class="token number">12.1</span>.1.1 <span class="token number">20</span> ms  <span class="token number">20</span> ms  <span class="token number">20</span> ms Â·Â·Â·Â·Â·Â·<span class="token number">27</span> <span class="token number">12.1</span>.1.2 <span class="token number">80</span> ms  <span class="token number">60</span> ms  <span class="token number">100</span> ms <span class="token number">28</span> <span class="token number">12.1</span>.1.1 <span class="token number">70</span> ms  <span class="token number">80</span> ms  <span class="token number">80</span> ms <span class="token number">29</span> <span class="token number">12.1</span>.1.2 <span class="token number">70</span> ms  <span class="token number">100</span> ms  <span class="token number">80</span> ms <span class="token number">30</span> <span class="token number">12.1</span>.1.1 <span class="token number">80</span> ms  <span class="token number">90</span> ms  <span class="token number">80</span> ms <span class="token punctuation">[</span>AR1<span class="token punctuation">]</span></code></pre><p>ç¯è·¯åŸå› ï¼šè·¯ç”±å™¨ç«¯å£downäº†åï¼Œå…¶è·¯ç”±è¡¨ä¸­çš„å¯¹åº”çš„è·¯ç”±æ¡ç›®ä¼šè¢«åˆ é™¤ï¼Œæ­¤æ—¶è·¯ç”±å™¨å°±ä¼šæ ¹æ®é»˜è®¤è·¯ç”±è¿›è¡Œè½¬å‘ï¼Œè¿™ä¸¤å°è·¯ç”±å™¨éƒ½æ ¹æ®é»˜è®¤è·¯ç”±è¿›è¡Œè½¬å‘å°±å½¢æˆäº†ç¯è·¯ã€‚</p><ul><li>STEP4ï¼šé…ç½®é˜²ç¯çš„ä¸¢å¼ƒè·¯ç”±</li></ul><p>ä¸¢å¼ƒè·¯ç”±ï¼šåŒ¹é…åˆ°æŒ‡å®šçš„åœ°å€éƒ½ä¸¢å¼ƒæ‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®ä¸¢å¼ƒè·¯ç”±</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>ip route-static <span class="token number">192.168</span>.1.0 <span class="token number">255.255</span>.255.0 NULL <span class="token number">0</span></code></pre><ul><li>STEP0ï¼šåˆ†åˆ«è¿æ¥/æ–­å¼€è¿çº¿æµ‹è¯•è¿é€šæ€§</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šçº¿è·¯è¿æ¥æ—¶çš„è·¯ç”±è¡¨</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">11</span>       Routes <span class="token builtin class-name">:</span> <span class="token number">11</span>       Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">0.0</span>.0.0/0   Static  <span class="token number">60</span>   <span class="token number">0</span>          RD   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0    Â·Â·Â·Â·Â·Â·    <span class="token number">192.168</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">192.168</span>.1.2     GigabitEthernet0/0/1    <span class="token number">192.168</span>.1.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/1  <span class="token number">192.168</span>.1.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/1<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0<span class="token comment"># todo AR2ï¼šçº¿è·¯æ–­å¼€æ—¶çš„è·¯ç”±è¡¨</span><span class="token punctuation">[</span>AR2<span class="token punctuation">]</span>dis <span class="token function">ip</span> rouRoute Flags: R - relay, D - download to fib------------------------------------------------------------------------------Routing Tables: Public         Destinations <span class="token builtin class-name">:</span> <span class="token number">9</span>        Routes <span class="token builtin class-name">:</span> <span class="token number">9</span>        Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface        <span class="token number">0.0</span>.0.0/0   Static  <span class="token number">60</span>   <span class="token number">0</span>          RD   <span class="token number">12.1</span>.1.1        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.0/24  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">12.1</span>.1.2        GigabitEthernet0/0/0       <span class="token number">12.1</span>.1.2/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       GigabitEthernet0/0/0    Â·Â·Â·Â·Â·Â·    <span class="token number">192.168</span>.1.0/24  Static  <span class="token number">60</span>   <span class="token number">0</span>           D   <span class="token number">0.0</span>.0.0         NULL0<span class="token number">255.255</span>.255.255/32  Direct  <span class="token number">0</span>    <span class="token number">0</span>           D   <span class="token number">127.0</span>.0.1       InLoopBack0</code></pre><p>æ³¨æ„åˆ°ï¼š<br>è¿æ¥ï¼š<code>192.168.1.0/24  Direct  0    0           D   192.168.1.2     GigabitEthernet0/0/1</code><br>æ–­å¼€ï¼š<code>192.168.1.0/24  Static  60   0           D   0.0.0.0         NULL0</code></p><ul><li>æ€»ç»“<ul><li>è·¯ç”±ï¼šRIPã€OSPGã€BGP</li><li>åŠ¨æ€åè®®ï¼šè·ç¦»çŸ¢é‡ã€é“¾è·¯çŠ¶æ€</li><li>è·¯ç”±è¡¨ï¼šç›®çš„åœ°å€ã€åè®®ã€ä¼˜å…ˆçº§ã€åº¦é‡ã€ä¸‹ä¸€è·³ã€ä¸‹ä¸€è·³ç«¯å£</li><li>ç­‰ä»·è·¯ç”±ï¼šåŒä¸€åè®®ï¼Œåˆ°åŒä¸€ç›®çš„æœ‰å¤šä¸ªç›¸åŒåº¦é‡</li></ul></li></ul><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><h3 id="é™æ€è·¯ç”±"><a href="#é™æ€è·¯ç”±" class="headerlink" title="é™æ€è·¯ç”±"></a>é™æ€è·¯ç”±</h3><p><font color="#999AAA">ç•¥ï¼šä¸Šé¢å·²ç»åšè¿‡</font></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å‘½ä»¤ï¼šé…ç½®åˆ°è¾¾æŸä¸ªç½‘æ®µçš„é™æ€è·¯ç”±</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å‡ºå£åœ°å€<span class="token operator">&gt;</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç ä½æ•°<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>ä¸‹ä¸€è·³åœ°å€<span class="token operator">&gt;</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç ä½æ•°<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>ä¸‹ä¸€è·³ç«¯å£<span class="token operator">&gt;</span></code></pre><h3 id="è´Ÿè½½åˆ†æ‹…"><a href="#è´Ÿè½½åˆ†æ‹…" class="headerlink" title="è´Ÿè½½åˆ†æ‹…"></a>è´Ÿè½½åˆ†æ‹…</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å‘½ä»¤ï¼šé…ç½®ç­‰ä»·è·¯ç”±å®ç°è´Ÿè½½åˆ†æ‹…</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å‡ºå£åœ°å€<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å‡ºå£åœ°å€<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å‡ºå£åœ°å€<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span></code></pre><h3 id="è·¯ç”±å¤‡ä»½"><a href="#è·¯ç”±å¤‡ä»½" class="headerlink" title="è·¯ç”±å¤‡ä»½"></a>è·¯ç”±å¤‡ä»½</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å‘½ä»¤ï¼šé™æ€è·¯ç”±çš„è·¯ç”±å¤‡ä»½</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å‡ºå£åœ°å€<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token operator">&lt;</span>ç›®æ ‡ç½‘æ®µ<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å­ç½‘æ©ç <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>å‡ºå£åœ°å€<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> preference <span class="token number">100</span></code></pre><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/9a6bb1b37b814f4f9ad645286c1befb7.png"><h3 id="ç¼ºçœè·¯ç”±"><a href="#ç¼ºçœè·¯ç”±" class="headerlink" title="ç¼ºçœè·¯ç”±"></a>ç¼ºçœè·¯ç”±</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å‘½ä»¤ï¼šé…ç½®ç¼ºçœè·¯ç”±</span><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>ip route-static <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token operator">&lt;</span>ä¸‹ä¸€è·³åœ°å€<span class="token operator">&gt;</span></code></pre><h2 id="OSPFè·¯ç”±åè®®"><a href="#OSPFè·¯ç”±åè®®" class="headerlink" title="OSPFè·¯ç”±åè®®"></a>OSPFè·¯ç”±åè®®</h2><h3 id="åŸç†ï¼šOSPFè·¯ç”±åè®®"><a href="#åŸç†ï¼šOSPFè·¯ç”±åè®®" class="headerlink" title="åŸç†ï¼šOSPFè·¯ç”±åè®®"></a><strong>åŸç†ï¼šOSPFè·¯ç”±åè®®</strong></h3><ul><li><strong>â‘ å¼€æ–¹å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®OSPF</strong></li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/a7cc17215aba44b2a7f5d4bc5b7b1c34.png"><p>åè®®å·ï¼š<a href="https://blog.csdn.net/zhenyi2000/article/details/79795140">IPåè®®(Protocol)å­—æ®µé‡Šä¹‰</a></p><p>æœ‰äº›ç‰¹å®š<strong>é˜²ç«å¢™è¿‡æ»¤</strong>æŸä¸€åè®®å¾—å†™åè®®å·ã€‚</p><ul><li><strong>â‘¡OSPFåŸºæœ¬ç‰¹ç‚¹</strong></li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/d9775633684f4fc68de933983ab55079.png"><p>æ— ç±»ï¼šä¸å…³å¿ƒIPåœ°å€çš„ç±»åˆ«<br>åŒºåŸŸåˆ’åˆ†ï¼šéª¨å¹²ã€ééª¨å¹²åŒºåŸŸ(ééª¨å¹²å¿…é¡»å’Œéª¨å¹²ç›´è¿)<br>æ— è·¯ç”±è‡ªç¯ï¼šè¿ªæ°æ–¯ç‰¹æ‹‰<br>æ”¶æ•›å¿«ï¼šæ¯«ç§’çº§åˆ«<br>ç»„æ’­ï¼šä»£æ›¿å¹¿æ’­ï¼Œä½¿ç”¨224.0.0.5å’Œ224.0.0.6<br>ç­‰å€¼è·¯ç”±ï¼šè´Ÿè½½å‡è¡¡<br>è®¤è¯ï¼šæ”¯æŒè®¤è¯</p><ul><li><strong>â‘¢OSPFæŠ¥æ–‡</strong></li></ul><p>OSPFçš„3å¼ è¡¨ï¼šé‚»å±…è¡¨ã€é“¾è·¯çŠ¶æ€æ•°æ®åº“ã€è·¯ç”±è¡¨</p><p>OSPFäº”ç§æŠ¥æ–‡ï¼š<a href="https://blog.csdn.net/qq_43499889/article/details/104987294">OSPFæŠ¥æ–‡ç±»å‹åŠæ ¼å¼æ€»ç»“</a><br><font color="#999AAA">LSA( Link-State Advertisement )é“¾è·¯çŠ¶æ€é€šå‘Š</font></p><ol><li>HelloæŠ¥æ–‡ï¼šç”¨æ¥å‘ç°å¹¶ç»´æŒé‚»å±…</li><li>DDæŠ¥æ–‡(Database Description)ï¼šç”¨æ¥æè¿°æœ¬åœ°LSDBä¿¡æ¯(å’Œé‚»å±…æ˜¯å¦äº’é€š)ï¼Œåªæºå¸¦LSAçš„Header</li><li>LSRæŠ¥æ–‡(Link State Requestï¼Œé“¾è·¯çŠ¶æ€è¯·æ±‚)ï¼šç”¨äºè¯·æ±‚é‚»å±…çš„LSA</li><li>LSUæŠ¥æ–‡()ï¼šå‘é€LSAå…·ä½“ä¿¡æ¯ï¼Œæˆ–è€…ç”¨äºæ³›æ´ªLSAï¼Œæˆ–è€…ç”¨äºéšå¼å›åº”LSUæŠ¥æ–‡</li><li>LSAckæŠ¥æ–‡()ï¼šç”¨äºå›åº”LSUæŠ¥æ–‡</li></ol><ul><li><strong>â‘£OSPFçŠ¶æ€è¿‡ç¨‹</strong></li></ul><p><strong>Init</strong>ï¼šå·²ç»æŠŠHelloæŠ¥æ–‡å‘å‡ºå»ï¼Œä½†æ˜¯æš‚æ²¡æ”¶åˆ°å›åº”ï¼Œé»˜è®¤10så‘ä¸€æ¬¡ï¼Œå¦‚æœæ”¶åˆ°å›å¤ï¼Œåˆ™è¿›å…¥ 2-way çŠ¶æ€<br><strong>2-way</strong>ï¼šé€‰ä¸¾DRå’ŒBDRï¼Œ2-wayè¿™ä¸ªçŠ¶æ€æœ€é•¿æŒç»­40sã€‚<br><strong>ExStart</strong>ï¼š<br><strong>Exchange</strong>ï¼š<br><strong>Loading</strong>ï¼š<br><strong>Full</strong>ï¼š</p><ul><li><strong>â‘¤DRå’ŒBDR</strong></li></ul><p>é¿å…ä¸€ä¸ªæ›´æ–°è¢«é‡å¤ä¼ é€’å¤šæ¬¡ï¼Œå‡å°‘è·¯ç”±æ›´æ–°æ¶ˆè€—çš„èµ„æºã€‚</p><p>DRotheråªèƒ½å’ŒDRã€BDRå»ºç«‹é‚»æ¥å…³ç³»ï¼ŒDRotheråªèƒ½å»ºç«‹ 2-way çŠ¶æ€</p><p>é€‰DRå’ŒBDRï¼šæ¯”è¾ƒRouterID(RID)å¤§å°(è¶Šå¤§è¶Šä¼˜)</p><p><strong>RIDæ¥æº</strong>ï¼š<br>1.ç®¡ç†å‘˜æ‰‹åŠ¨è®¾ç½®<br>2.æ´»åŠ¨çš„ç¯å›å£æœ€å¤§IP<br>3.æ´»åŠ¨çš„ç‰©ç†æ¥å£æœ€å¤§IP</p><p>åœ¨Wiresharkä¸­ï¼ŒOSPFæ•°æ®å¸§çš„<code>Source OSPF Router</code>å°±æ˜¯RID</p><p>OSPFå…ˆé€‰ä¸¾BDRï¼šæ¯”å¤§å°ï¼Œè°å¤§è°å…ˆæˆä¸ºBDRï¼Œå¦‚æœæ²¡æœ‰DRï¼ŒBDRå°±å˜æˆDRï¼Œç„¶åå†é€‰ä¸¾BDRã€‚</p><p>æ˜¾ç¤ºç¡®è®¤ï¼šä½¿ç”¨ä¸“æœ‰çš„æŠ¥æ–‡è¿›è¡Œç¡®è®¤<br><strong>éšå¼ç¡®è®¤</strong>ï¼š(åŸºäº<strong>åºåˆ—å·</strong>çš„ç¡®è®¤æœºåˆ¶)æ”¶åˆ°ä¸€ä»½æŠ¥æ–‡ï¼Œç„¶åå‘å‘é€è€…å›å¤ä¸€ä»½<strong>åºåˆ—å·ç›¸åŒ</strong>çš„æŠ¥æ–‡ã€‚ä»…æœ‰OSPFæ”¯æŒè¿™ç§ç¡®è®¤æœºåˆ¶ã€‚</p><h3 id="å®éªŒäºŒï¼šä½¿ç”¨debugè§‚å¯Ÿé‚»æ¥å…³ç³»å½¢æˆè¿‡ç¨‹"><a href="#å®éªŒäºŒï¼šä½¿ç”¨debugè§‚å¯Ÿé‚»æ¥å…³ç³»å½¢æˆè¿‡ç¨‹" class="headerlink" title="å®éªŒäºŒï¼šä½¿ç”¨debugè§‚å¯Ÿé‚»æ¥å…³ç³»å½¢æˆè¿‡ç¨‹"></a><strong>å®éªŒäºŒï¼šä½¿ç”¨debugè§‚å¯Ÿé‚»æ¥å…³ç³»å½¢æˆè¿‡ç¨‹</strong></h3><ul><li>STEP1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/332dc88ff0414092aa2b22ee4142ebcf.png"><ul><li>STEP2ï¼šæŸ¥çœ‹OSPFè¡¨</li></ul><p>é¦–å…ˆæ‰“å¼€æŠ“åŒ…</p><p>ç„¶åæ¸…ç©ºé‚»å±…å…³ç³»</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>reset ospf process Warning: The OSPF process will be reset. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>:y</code></pre><p>æŸ¥çœ‹æŠ“åˆ°çš„æ•°æ®åŒ…/æŸ¥è¯¢è·¯ç”±è¡¨Stateï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹OSPFé‚»å±…è¡¨</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>dis ospf peer         OSPF Process <span class="token number">1</span> with Router ID <span class="token number">12.1</span>.1.1                 Neighbors  Area <span class="token number">0.0</span>.0.0 interface <span class="token number">12.1</span>.1.1<span class="token punctuation">(</span>GigabitEthernet0/0/0<span class="token punctuation">)</span>'s neighbors Router ID: <span class="token number">12.1</span>.1.2         Address: <span class="token number">12.1</span>.1.2           State: Full  Mode:Nbr is  Master  Priority: <span class="token number">1</span>   DR: <span class="token number">12.1</span>.1.2  BDR: <span class="token number">12.1</span>.1.1  MTU: <span class="token number">0</span>       Dead timer due <span class="token keyword">in</span> <span class="token number">31</span>  sec    Retrans timer interval: <span class="token number">5</span>    Neighbor is up <span class="token keyword">for</span> 00:03:03        Authentication Sequence: <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span>R1<span class="token punctuation">]</span></code></pre><h3 id="å®éªŒä¸‰ï¼šDRå’ŒBDR"><a href="#å®éªŒä¸‰ï¼šDRå’ŒBDR" class="headerlink" title="å®éªŒä¸‰ï¼šDRå’ŒBDR"></a><strong>å®éªŒä¸‰ï¼šDRå’ŒBDR</strong></h3><ul><li>STEP1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/d946c30a16fc44918cc8e3406bbfdd3b.png"><ul><li>STEP2ï¼šé…ç½®IPåœ°å€(ç•¥)</li></ul><p>é™¤äº†ç½‘ç»œæ‹“æ‰‘ä¸­çš„ç«¯å£IPåœ°å€ï¼Œè¿˜æœ‰ï¼š</p><table><thead><tr><th>è·¯ç”±å™¨</th><th>ç¯å›åœ°å€</th></tr></thead><tbody><tr><td>AR1</td><td>10.0.1.1</td></tr><tr><td>AR2</td><td>10.0.2.2</td></tr><tr><td>AR3</td><td>10.0.3.3</td></tr></tbody></table><ul><li>STEP3ï¼šé…ç½®OSPF</li></ul><p>OSPFå®£å‘Šç½‘æ®µï¼š<code>network &lt;ç›®æ ‡ç½‘æ®µ&gt; &lt;åæ©ç &gt;</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®OSPF</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ospf  <span class="token comment"># OSPFè¿›ç¨‹ID</span><span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>a <span class="token number">0</span>  <span class="token comment"># è¿›å…¥åŒºåŸŸ</span><span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">10.0</span>.123.0 <span class="token number">0.0</span>.0.255  <span class="token comment"># å®£å‘Šç›´è¿ç½‘æ®µ</span><span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">10.0</span>.3.0 <span class="token number">0.0</span>.0.255  <span class="token comment"># å®£å‘Šæ¢å›ç½‘æ®µ</span><span class="token comment"># [R3-ospf-1]silent-interface LoopBack 0  # å¦‚æœéœ€è¦ï¼Œå¯ç”¨æŠ‘åˆ¶ç«¯å£</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ï¼šé…ç½®OSPF</span><span class="token punctuation">[</span>R1<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R1-ospf-1<span class="token punctuation">]</span>a <span class="token number">0</span><span class="token punctuation">[</span>R1-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">10.0</span>.123.0 <span class="token number">0.0</span>.0.255Â·Â·Â·Â·Â·Â·<span class="token punctuation">(</span>å¯ä»¥çœ‹åˆ°ï¼šDown-<span class="token operator">&gt;</span>Init-<span class="token operator">&gt;</span>2Way-<span class="token operator">&gt;</span>ExStart-<span class="token operator">&gt;</span>Exchange-<span class="token operator">&gt;</span>Loading<span class="token punctuation">)</span><span class="token punctuation">[</span>R1-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">10.0</span>.1.0 <span class="token number">0.0</span>.0.255</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR2ï¼šé…ç½®OSPF</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span>a <span class="token number">0.0</span>.0.0<span class="token punctuation">[</span>R2-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">10.0</span>.123.0 <span class="token number">0.0</span>.0.255<span class="token punctuation">[</span>R2-ospf-1-area-0.0.0.0<span class="token punctuation">]</span>network <span class="token number">10.0</span>.2.0 <span class="token number">0.0</span>.0.255</code></pre><blockquote><p>é—®ï¼šç›´è¿è·¯ç”±è¿˜æœ‰å¿…è¦å®£å‘Šå—ï¼Ÿ<br>ç­”ï¼šå¦‚æœä¸å®£å‘Šï¼Œé‚£ä¹ˆè¯¥æ¥å£æ— æ³•æ”¶å‘OSPFæŠ¥æ–‡ã€‚</p></blockquote><p><code>network</code>åŠŸèƒ½ï¼š1.å®£å‘Šç½‘æ®µï¼Œ2.æ¥å£æ”¶å‘OSPFæŠ¥æ–‡</p><p>å¦‚æœè·¯ç”±å™¨ç«¯å£è¿æ¥äº†ç»ˆç«¯PCï¼Œå»ºè®®é…ç½®å¥½<code>network</code>åï¼Œå†æŠŠæ¥å£åŠŸèƒ½è¿‡æ»¤æ‰ï¼Œå³æŠ‘åˆ¶ç«¯å£<code>silent-interface</code>ï¼šåªå®£å‘Šç½‘æ®µï¼Œä½†ä¸èƒ½æ”¶å‘OSPFæŠ¥æ–‡ã€‚(æ²¡å¿…è¦å’ŒPCæ”¶å‘OSPFæŠ¥æ–‡)</p><ul><li>STEP4ï¼šæŸ¥çœ‹DRå’ŒBDR</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>AR<span class="token punctuation">]</span>dis ospf peer  <span class="token comment"># æŸ¥çœ‹OSPFé‚»å±…å…³ç³»</span></code></pre><p>åœ¨è¿™é‡Œï¼Œå› ä¸ºæˆ‘ä»¬è·¯ç”±å™¨é…ç½®é¡ºåºä¸ºï¼šAR3-&gt;AR1-&gt;AR2<br>å› ä¸ºæ²¡å¼€å¯æŠ¢å ç‰¹æ€§ï¼Œæ‰€ä»¥AR3ä¸ºDRï¼ŒAR1ä¸ºBDRï¼ŒAR2ä¸ºDROther</p><p>æ¯éš”10så‘é€ä¸€ä¸ªHelloæŠ¥æ–‡ï¼Œ40sæ”¶ä¸åˆ°Helloï¼Œæ–­å¼€é‚»å±…å…³ç³»(æ­»äº¡é—´éš”40s)</p><h3 id="å®éªŒå››ï¼šOSPFè®¤è¯"><a href="#å®éªŒå››ï¼šOSPFè®¤è¯" class="headerlink" title="å®éªŒå››ï¼šOSPFè®¤è¯"></a><strong>å®éªŒå››ï¼šOSPFè®¤è¯</strong></h3><ul><li>STEP1ï¼šç½‘ç»œæ‹“æ‰‘(ç•¥ï¼šåŒä¸Š)</li><li>STEP2ï¼šé…ç½®è®¤è¯</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR1ã€AR2ã€AR3å‡é…ç½®è®¤è¯</span><span class="token punctuation">[</span>R1-GigabitEthernet0/0/0<span class="token punctuation">]</span>ospf authentication-mode md5 <span class="token number">1</span> cipher huawei<span class="token comment"># md5æ–¹å¼åŠ å¯†ï¼ŒKet idä¸º1ï¼ŒKey idä¿æŒä¸€è‡´ï¼</span></code></pre><p>hmac-md5ï¼š<a href="https://blog.csdn.net/chy2z/article/details/80828770">HMAC-MD5 ç­¾åç®—æ³•</a><br>simpleï¼šé˜²å›å­ä¸å¦¨å°äººï¼Œè®¤è¯ä¹‹åæ­£å¸¸æ”¶å‘OSPFåŒ…ï¼Œä½†æ˜¯æŠ“åŒ…èƒ½ç›´æ¥çœ‹åˆ°å¯†ç </p><p>ä¿®æ”¹**å¡ä¿¡æ¯ï¼šç½‘ç»œéªŒè¯ï¼šåªèƒ½æ”¹æœåŠ¡å™¨æ•°æ®ï¼›æœ¬åœ°éªŒè¯ï¼šæƒ³å’‹æ”¹å’‹æ”¹(ä¸ä¼šâ€¦)</p><blockquote><p>æŠ€å·§ï¼šæ¯ä¸ªæ–‡ä»¶éƒ½ä¼šæœ‰ä¸€ä¸ªè‡ªå·±çš„æŒ‡çº¹ä¿¡æ¯ï¼Œç”Ÿæˆä¸€ä¸ª32ä½/64ä½çš„å“ˆå¸Œå€¼ï¼Œä¸”è¯¥å€¼å”¯ä¸€ï¼Œæ‰«ææ–‡ä»¶çš„MD5å€¼ï¼Œåªè¦å‘ç°æœ‰ä¸è¿æ³•è§†é¢‘/æ–‡ä»¶MD5å€¼åŒ¹é…çš„ï¼Œå°±è®¤ä¸ºæ‰«æçš„æ–‡ä»¶è¿æ³•ã€‚æ‰€ä»¥ï¼Œå¦‚æœæƒ³åœ¨ç™¾åº¦ç½‘ç›˜ä¸Šä¼ ä¸€ä¸ªä¸å¥åº·çš„å°è§†é¢‘/è½¯ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠä¸€ä¸ªéç©ºçš„.txtæ–‡ä»¶å’Œæƒ³è¦ä¸Šä¼ çš„æ–‡ä»¶ä¸€èµ·å‹ç¼©ï¼Œå†ä¸Šä¼ å³å¯ã€‚</p></blockquote><p><font color="#999AAA">é¥±æ±‰ä¸çŸ¥é¥¿æ±‰é¥¥<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></font></p><h3 id="å®éªŒäº”ï¼šå¤šåŒºåŸŸOSPF"><a href="#å®éªŒäº”ï¼šå¤šåŒºåŸŸOSPF" class="headerlink" title="å®éªŒäº”ï¼šå¤šåŒºåŸŸOSPF"></a><strong>å®éªŒäº”ï¼šå¤šåŒºåŸŸOSPF</strong></h3><ul><li>STEP1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-5-ci-bi-ji/169b2c3f83ec4f608e592b6b3adcfaef.png"><ul><li>STEP2ï¼šé…ç½®å¤šåŒºåŸŸOSPF</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR3ï¼šé…ç½®å¤šåŒºåŸŸOSPF</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>R3-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.0</span>.34.3 <span class="token number">24</span>  <span class="token comment"># æ¥å£æ·»åŠ IPåœ°å€</span><span class="token punctuation">[</span>R3<span class="token punctuation">]</span>ospf <span class="token number">1</span><span class="token punctuation">[</span>R3-ospf-1<span class="token punctuation">]</span>a <span class="token number">1</span>  <span class="token comment"># è¿›å…¥åŒºåŸŸ1</span><span class="token punctuation">[</span>R3-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>network <span class="token number">10.0</span>.34.0 <span class="token number">0.0</span>.0.255  <span class="token comment"># å®£å‘ŠåŒºåŸŸ</span></code></pre><table><thead><tr><th>è·¯ç”±å™¨</th><th>IPåœ°å€</th><th>ç¯å›åœ°å€</th></tr></thead><tbody><tr><td>AR4</td><td>10.0.34.4</td><td>10.0.4.4</td></tr></tbody></table><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo AR4ï¼šé…ç½®å¤šåŒºåŸŸOSPF</span><span class="token punctuation">[</span>AR4<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>AR4-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.0</span>.34.4 <span class="token number">24</span>  <span class="token comment"># æ¥å£é…ç½®åœ°å€</span><span class="token punctuation">[</span>AR4-GigabitEthernet0/0/0<span class="token punctuation">]</span>int loo <span class="token number">0</span><span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.0</span>.4.4 <span class="token number">24</span>  <span class="token comment"># ç¯å›å£ç½‘ç»œç±»å‹ï¼šç‚¹åˆ°ç‚¹ï¼Œæ©ç æŒ‰32å®£å‘Š</span><span class="token punctuation">[</span>R4<span class="token punctuation">]</span>ospf <span class="token number">1</span><span class="token punctuation">[</span>R4-ospf-1<span class="token punctuation">]</span>a <span class="token number">1</span>  <span class="token comment"># è¿›å…¥åŒºåŸŸ1</span><span class="token punctuation">[</span>R4-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>network <span class="token number">10.0</span>.34.0 <span class="token number">0.0</span>.0.255  <span class="token comment"># å®£å‘Šç½‘æ®µ</span><span class="token punctuation">[</span>R4-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>int loo <span class="token number">0</span><span class="token punctuation">[</span>AR4-LoopBack0<span class="token punctuation">]</span>ospf <span class="token builtin class-name">enable</span> <span class="token number">1</span> a <span class="token number">1</span><span class="token comment"># å®£å‘Šç¯å›å£ç½‘æ®µçš„ä¸€ç§æ–¹å¼ï¼Œå’Œåœ¨OSPF areaé‡Œé¢ç”¨networkæ•ˆæœä¸€æ ·</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>AR4-ospf-1-area-0.0.0.1<span class="token punctuation">]</span>network <span class="token number">10.0</span>.34.4 <span class="token number">0.0</span>.0.0<span class="token comment"># å®£å‘Šç«¯å£ï¼Œè™½ç„¶åæ©ç æ˜¯32ï¼Œä½†æ˜¯è¿˜æ˜¯æŒ‰ç«¯å£åæ©ç è¿›è¡Œæ­£å¸¸å®£å‘Š</span></code></pre><p>(ç†è®ºä¸Šä¸å…è®¸ï¼)ç‰©ç†ä¸Šééª¨å¹²åŒºåŸŸè¿æ¥ééª¨å¹²åŒºåŸŸï¼Œå¯ä»¥æƒ³åŠæ³•æŠŠä¸¤ä¸ªåŒºåŸŸå˜æˆä¸€ä¸ªåŒºåŸŸï¼šVirtual Linkã€‚</p><ul><li>ç»ƒä¹ é¢˜ï¼šOSPFæ•…éšœæ’æŸ¥</li></ul><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬4æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬4æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬4æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬4æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬4æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="STPç”Ÿæˆæ ‘åè®®"><a href="#STPç”Ÿæˆæ ‘åè®®" class="headerlink" title="STPç”Ÿæˆæ ‘åè®®"></a>STPç”Ÿæˆæ ‘åè®®</h2><h3 id="å®éªŒä¸€ï¼šSTPç”Ÿæˆæ ‘åè®®é…ç½®"><a href="#å®éªŒä¸€ï¼šSTPç”Ÿæˆæ ‘åè®®é…ç½®" class="headerlink" title="å®éªŒä¸€ï¼šSTPç”Ÿæˆæ ‘åè®®é…ç½®"></a><strong>å®éªŒä¸€ï¼šSTPç”Ÿæˆæ ‘åè®®é…ç½®</strong></h3><ul><li><strong>Step1ï¼š</strong> ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/å®éªŒä¸€STPç½‘ç»œæ‹“æ‰‘-16564712180951.png"><ul><li><strong>Step1.5ï¼š</strong> é…ç½®ä¸»æœºIP</li></ul><table><thead><tr><th>ä¸»æœº</th><th>IPåœ°å€</th><th>æ©ç </th><th>ç½‘å…³</th></tr></thead><tbody><tr><td>PC1</td><td>10.1.10.1</td><td>255.255.255.0</td><td>10.1.10.254</td></tr><tr><td>PC2</td><td>10.1.20.1</td><td>255.255.255.0</td><td>10.1.20.254</td></tr></tbody></table><ul><li><strong>Step2ï¼š</strong> æŒ‡å®šæ ¹æ¡¥äº¤æ¢æœºLSW2</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æ¯ä¸ªäº¤æ¢æœºæ‰§è¡Œ</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>stp mode rstp  <span class="token comment"># å¯ç”¨å¿«é€Ÿç”Ÿæˆæ ‘RSTPæ¨¡å¼</span>Info: This operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment<span class="token punctuation">..</span>.done.<span class="token comment"># todo æŒ‡å®šLSW2ä¸ºæ ¹æ¡¥ï¼ˆæ¯”è¾ƒæ¡¥IDï¼šç½‘æ¡¥äº¤æ¢æœºä¼˜å…ˆçº§ã€MACåœ°å€ï¼‰</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>stp priority <span class="token number">4096</span>  <span class="token comment"># æŒ‡å®šäº¤æ¢æœºä¼˜å…ˆçº§</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dis stp bri  <span class="token comment"># æŸ¥çœ‹ç”Ÿæˆæ ‘ç®€è¦ä¿¡æ¯</span> MSTID  Port                        Role  STP State     Protection   <span class="token number">0</span>    GigabitEthernet0/0/1        DESI  FORWARDING      NONE   <span class="token number">0</span>    GigabitEthernet0/0/2        DESI  FORWARDING      NONE   <span class="token number">0</span>    GigabitEthernet0/0/3        DESI  FORWARDING      NONE   <span class="token number">0</span>    GigabitEthernet0/0/4        DESI  FORWARDING      NONE   <span class="token number">0</span>    GigabitEthernet0/0/5        DESI  DISCARDING      NONE<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span></code></pre><ul><li><strong>Step3ï¼š</strong> åˆ’åˆ†VLAN</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æ¯ä¸ªäº¤æ¢æœºæ‰¹é‡åˆ›å»ºVLAN10ã€VLAN20</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>vlan batch <span class="token number">10</span> <span class="token number">20</span>Info: This operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment<span class="token punctuation">..</span>.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span></code></pre><ul><li><strong>Step4ï¼š</strong> é…ç½®äº¤æ¢æœºæ¥å£æ¨¡å¼</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># äº¤æ¢æœºä¸ä¸»æœºé…accessï¼Œäº¤æ¢æœºä¹‹é—´é…trunk</span><span class="token comment"># todo LSW1</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>int g0/0/3<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>int g0/0/4<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>int g0/0/5<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token comment"># todo LSW2</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>int g0/0/3<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>int g0/0/4<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>int g0/0/5<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token comment"># todo LSW3</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>int g0/0/3<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type access<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port default vlan <span class="token number">10</span><span class="token comment"># todo LSW4</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port trunk allow-pass vlan all<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>int g0/0/3<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type access<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port default vlan <span class="token number">20</span></code></pre><ul><li><strong>Step5ï¼š</strong> LSW1é…ç½®ç½‘å…³</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo LSW1é…ç½®ç½‘å…³</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">10</span><span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.10.254 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>int vlan <span class="token number">20</span><span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.20.254 <span class="token number">24</span></code></pre><ul><li><p><strong>Step6ï¼š</strong> ä¸¤å°ä¸»æœºä¹‹é—´å¯ä»¥pingé€š</p></li><li><p><strong>Step7ï¼š</strong> æ€è€ƒï¼š</p><ul><li>é—®é¢˜1.æ•°æ®åŒ…è½¬å‘çš„è·¯å¾„</li><li>é—®é¢˜2.è¯¥ç½‘ç»œçš„æ¯›ç—…(ç›®æ ‡æ˜¯å†—ä½™æ€§)</li></ul></li></ul><p>ç­”1ã€<br>PC1-&gt;LSW3(g0/0/2)-&gt;LSW2(g0/0/4)-&gt;LSW1(g0/0/4)-&gt;LSW2(g0/0/2)-&gt;LSW4(g0/0/3)-PC2<br><font color="#999AAA">ä»æ ¹ç«¯å£å’ŒéæŒ‡å®šç«¯å£å‡ºå»çš„æ•°æ®åŒ…ç¦»æ ¹æ¡¥è¶Šèµ°è¶Šè¿‘ï¼ŒæŒ‡å®šç«¯å£è¶Šèµ°è¶Šè¿œ</font></p><p>ç­”2ã€<br>1.äº¤æ¢æœºå®•æ‰ä¸€ä¸ªæ— æ³•ä¸»æœºæ­£å¸¸é€šä¿¡<br>2.æ— æ³•è”å¤–ç½‘<br>3.ç½‘å…³æ²¡æœ‰å†—ä½™æ€§</p><p>è®¾ç½®æ ¹æ¡¥å’Œå¤‡ä»½æ ¹æ¡¥ï¼šæ ¹æ¡¥å®•æ‰åï¼Œå¤‡ä»½æ ¹æ¡¥å……å½“æ ¹æ¡¥<br>åœ¨è¦è®¾ç½®æ ¹æ¡¥çš„äº¤æ¢æœºä¸Šé…ç½®ï¼šstp root primaryï¼Œè®¾ç½®æ¯”æ ¹æ¡¥ä¼˜å…ˆçº§æ›´ä½(-4096)<br>åœ¨è¦è®¾ç½®å¤‡ä»½æ ¹æ¡¥çš„äº¤æ¢æœºä¸Šé…ç½®ï¼šstp root secondary</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æ ¹æ¡¥</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>stp root primary<span class="token comment"># todo å¤‡ä»½æ ¹æ¡¥</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>stp root secondary</code></pre><p><font color="#999AAA">ä»£ç†ARPï¼šproxy ARP<br>proxy ARPä½¿ç”¨åœ¨ä¸»æœºæ²¡æœ‰é…ç½®é»˜è®¤ç½‘å…³æˆ–æ²¡æœ‰ä»»ä½•è·¯ç”±ç­–ç•¥çš„ç½‘ç»œä¸Šã€‚<br>ç®€ç­”æ¥è¯´å°±æ˜¯ï¼Œå¦‚æœä»£ç†ARPè·¯ç”±å™¨æ”¶åˆ°è·¯ç”±è¡¨ä¸­å·²çŸ¥ç½‘æ®µçš„IPåœ°å€ï¼Œè™½ç„¶è·¯ç”±è¡¨æ²¡æœ‰è¯¥IPæ¡ç›®ï¼Œä½†æ˜¯ä»£ç†ARPä»ç„¶å‘è¯¥IPåœ°å€æ‰€å±ç½‘æ®µè½¬å‘è¯¥IPåœ°å€ã€‚</font></p><h2 id="VRRPè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®"><a href="#VRRPè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®" class="headerlink" title="VRRPè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®"></a>VRRPè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®</h2><p>VRRPï¼šæŠŠä¸¤ä¸ªç½‘å…³é€»è¾‘ä¸Šå˜æˆä¸€ä¸ªç½‘å…³(ç½‘å…³çš„å†—ä½™æ€§)</p><p>ç½‘ç»œå¿Œè®³ï¼š<strong>è·¯å¾„ä¸å¯¹ç§°</strong></p><p>è™šæ‹ŸIPï¼š<br>LSW1 254 -&gt; ç½‘å…³250(ä¸»)<br>LSW2 253 -&gt; ç½‘å…³250(å¤‡)</p><h3 id="å®éªŒäºŒï¼šVRRPç®€å•é…ç½®"><a href="#å®éªŒäºŒï¼šVRRPç®€å•é…ç½®" class="headerlink" title="å®éªŒäºŒï¼šVRRPç®€å•é…ç½®"></a><strong>å®éªŒäºŒï¼šVRRPç®€å•é…ç½®</strong></h3><ul><li>Step1ï¼šç½‘ç»œæ‹“æ‰‘(ä¹¦æ¥ä¸Šå›<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</li></ul><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/å®éªŒäºŒVRRPç½‘ç»œæ‹“æ‰‘-16564712180952.png"><ul><li>Step2ï¼šLSW2æ·»åŠ IP(ä¸ºäº†åšè™šæ‹ŸIP)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo LSW2æ·»åŠ IP</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">10</span><span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.10.253 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>int vlan <span class="token number">20</span><span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.20.253 <span class="token number">24</span></code></pre><ul><li>Step3ï¼šé…ç½®è™šæ‹ŸIP</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo LSW1ã€LSW2é…ç½®è™šæ‹ŸIP</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">10</span><span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>vrrp vrid <span class="token number">10</span> virtual-ip <span class="token number">10.1</span>.10.250<span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>int vlan <span class="token number">20</span><span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span>vrrp vrid <span class="token number">20</span> virtual-ip <span class="token number">10.1</span>.20.250<span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span></code></pre><p>1.vridéšæ„ï¼Œä¸ºäº†å¥½è®¤ï¼Œå–ç‰¹æ®Šå€¼<br>2.VRRPå¯ä»¥ç”¨ç‰©ç†æ¥å£ä½œä¸ºè™šæ‹ŸIP(ä¸æ¨èï¼ŒåŸå› ï¼šç‰©ç†æ¥å£ä½œä¸ºè™šæ‹ŸIPé—®é¢˜ï¼šéƒ¨åˆ†é“¾è·¯æ®µæ‰ä¹‹åï¼Œä¸»å¤‡æ— æ³•åˆ‡æ¢)</p><ul><li>Step3.5ï¼šä¿®æ”¹ä¸»æœºç½‘å…³</li></ul><table><thead><tr><th>ä¸»æœº</th><th>IPåœ°å€</th><th>æ©ç </th><th>ç½‘å…³</th></tr></thead><tbody><tr><td>PC1</td><td>10.1.10.1</td><td>255.255.255.0</td><td>10.1.10.250</td></tr><tr><td>PC2</td><td>10.1.20.1</td><td>255.255.255.0</td><td>10.1.20.250</td></tr></tbody></table><ul><li>Step4ï¼šä¸»æœºæµ‹è¯•è¿é€šæ€§</li></ul><h3 id="å®éªŒä¸‰ï¼šVRRPå…¶ä»–é…ç½®"><a href="#å®éªŒä¸‰ï¼šVRRPå…¶ä»–é…ç½®" class="headerlink" title="å®éªŒä¸‰ï¼šVRRPå…¶ä»–é…ç½®"></a><strong>å®éªŒä¸‰ï¼šVRRPå…¶ä»–é…ç½®</strong></h3><ul><li><p><strong>Step5.0ï¼š</strong> æµ‹è¯•(ä»¥ä¸‹å®éªŒåŸºäºä¸Šé¢çš„ç½‘ç»œæ‹“æ‰‘çš„å°å®éªŒ)</p></li><li><p><strong>Step5.1ï¼š</strong> é€šè¿‡ä¿®æ”¹è·¯ç”±å™¨ä¼˜å…ˆçº§æ›´æ”¹ä¸»è·¯ç”±å™¨</p></li></ul><p>VRRP<br>VRIDæœ€å¤§255ä¸ªè™šæ‹ŸMACï¼š00-00-5E-00-01-XXï¼ŒXXå¯¹åº”vridå·<br>æˆä¸ºä¸»è·¯ç”±å™¨çš„æ¡ä»¶ï¼š<br>1.æ¯”è¾ƒä¼˜å…ˆçº§ï¼Œé»˜è®¤100ï¼Œè¶Šå¤§è¶Šä¼˜å…ˆï¼Œæœ‰æŠ¢å ç‰¹æ€§<br>2.æ¯”è¾ƒç‰©ç†æ¥å£IPå¤§å°ï¼Œè¶Šå¤§è¶Šä¼˜å…ˆï¼Œæ²¡æœ‰æŠ¢å ç‰¹æ€§<br><font color="#999AAA">æŠ¢å ç‰¹æ€§ï¼šé»˜è®¤å¼€å¯ï¼Œå…³é—­åˆ™ä¼˜å…ˆçº§å¤±å»æŠ¢å ç‰¹æ€§</font></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä¿®æ”¹ä¹‹å‰æŸ¥çœ‹è·¯ç”±å™¨VRRPä¿¡æ¯</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dis vrrp<span class="token comment"># todo é€‰æ‹©çŠ¶æ€ä¸ºBackupçš„è·¯ç”±å™¨ï¼Œä¿®æ”¹å…¶ä¼˜å…ˆçº§ï¼Œä½¿å…¶æˆä¸ºMaster</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">10</span><span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>vrrp vrid <span class="token number">10</span> priority <span class="token number">101</span></code></pre><ul><li><strong>Step5.2ï¼š</strong> æŸ¥çœ‹å„è·¯ç”±å™¨VRRPä¿¡æ¯</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹å„è·¯ç”±å™¨VRRPä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°è·¯ç”±å™¨çŠ¶æ€æ”¹å˜</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dis vrrp</code></pre><ul><li><strong>Step5.3ï¼š</strong> å…³é—­æŠ¢å ç‰¹æ€§</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å…³é—­æŠ¢å ç‰¹æ€§</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">10</span><span class="token punctuation">[</span>Huawei-Vlanif10<span class="token punctuation">]</span>vrrp vrid <span class="token number">10</span> preempt-mode disable</code></pre><ul><li><strong>Step5.4ï¼š</strong> è®¾ç½®Helloæ—¶é—´é—´éš”</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo è®¾ç½®å¤‡ä»½Masteræ—¶é—´é—´éš”</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">20</span><span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span>vrrp vrid <span class="token number">20</span> timer advertise <span class="token number">1</span>  <span class="token comment"># å‘½ä»¤ç”¨æ¥é…ç½®å¤‡ä»½ç»„ä¸­Masterå‘é€VRRPæŠ¥æ–‡çš„æ—¶é—´é—´éš”ä¸º1s</span></code></pre><ul><li><strong>Step5.5ï¼š</strong> ä¿®æ”¹VLANçŠ¶æ€</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å…³æ‰</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">20</span><span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span>shutdown  <span class="token comment"># çŠ¶æ€ï¼šBackup -&gt; Initialize</span><span class="token comment"># todo å¼€å¯</span><span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span>undo <span class="token function">shutdown</span>  <span class="token comment"># çŠ¶æ€ï¼šInitialize -&gt; Backup</span></code></pre><ul><li><strong>Step5.6ï¼š</strong> è§‚å¯Ÿä¿®æ”¹ä¸»è·¯ç”±å™¨VLANçŠ¶æ€åï¼Œä¸»æœºè¿é€šæ€§æƒ…å†µ</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo PC2</span>PC<span class="token operator">&gt;</span>ping <span class="token number">10.1</span>.20.250 -t  <span class="token comment"># æŒç»­pingç›®çš„IPåœ°å€</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä¸»è·¯ç”±å™¨LSW1</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">20</span><span class="token punctuation">[</span>Huawei-Vlanif20<span class="token punctuation">]</span>shutdown  <span class="token comment"># çŠ¶æ€ï¼šMaster -&gt; Initialize</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo PC2ä¼šçŸ­æš‚å‡ºç°ï¼š</span>Request timeout<span class="token operator">!</span></code></pre><p>è§£é‡Šï¼šä¸»Masteè·¯ç”±å™¨çº¿è·¯æ–­æ‰ä¹‹åï¼Œå¤‡Backupè·¯ç”±å™¨é©¬ä¸Šæˆä¸ºä¸»Masterè·¯ç”±å™¨</p><p>VRRPç›¸å…³èµ„æ–™ï¼š<br><a href="http://www1.h3c.com/cn/d_200904/631528_30003_0.htm">VRRPæŠ€æœ¯ä»‹ç»</a><br><a href="http://www.h3c.com/cn/d_200802/335873_30003_0.htm">VRRPæŠ€æœ¯ç™½çš®ä¹¦</a></p><h2 id="é€»è¾‘é“¾è·¯èšåˆ"><a href="#é€»è¾‘é“¾è·¯èšåˆ" class="headerlink" title="é€»è¾‘é“¾è·¯èšåˆ"></a>é€»è¾‘é“¾è·¯èšåˆ</h2><p>1.æœ€å¤šå¯èšåˆ8ä¸ªç«¯å£<br>2.æ‰€æœ‰èšåˆç«¯å£link-modeå¿…é¡»ä¸€è‡´<br>3.link-mode trunkä¸‹ç¡®ä¿trunkå…è®¸VLANå¿…é¡»ä¸€è‡´<br>5.æ¥å£ç±»å‹å¿…é¡»ä¿æŒä¸€è‡´<br>6.åŠ å…¥èšåˆç«¯å£ä¹‹å‰ä¸èƒ½æœ‰ä»»ä½•é…ç½®</p><h3 id="å®éªŒå››ï¼šé€»è¾‘é“¾è·¯èšåˆ"><a href="#å®éªŒå››ï¼šé€»è¾‘é“¾è·¯èšåˆ" class="headerlink" title="å®éªŒå››ï¼šé€»è¾‘é“¾è·¯èšåˆ"></a><strong>å®éªŒå››ï¼šé€»è¾‘é“¾è·¯èšåˆ</strong></h3><ul><li>Step1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo LSW2é…ç½®</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int Eth-Trunk <span class="token number">1</span>  <span class="token comment"># å»ºç«‹æ±‡èšç«¯å£</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>clear configuration int g0/0/4  <span class="token comment"># æ¸…é™¤æ¥å£é…ç½®</span>Warning: All configurations of the interface will be cleared, and its state will be shutdown. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span> :yInfo: Total execute <span class="token number">2</span> command<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, <span class="token number">2</span> successful, <span class="token number">0</span> failed.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>clear configuration int g0/0/5  <span class="token comment"># æ¸…é™¤æ¥å£é…ç½®</span>Warning: All configurations of the interface will be cleared, and its state will be shutdown. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span> :yInfo: Total execute <span class="token number">2</span> command<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, <span class="token number">2</span> successful, <span class="token number">0</span> failed.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/4<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>un shut  <span class="token comment"># å¼€å¯é“¾è·¯</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>eth-trunk <span class="token number">1</span>  <span class="token comment"># å°†è¯¥ç«¯å£g0/0/4åŠ å…¥èšåˆæ¥å£eth-trunk 1</span>Info: This operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment<span class="token punctuation">..</span>.done.<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>int g0/0/5<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>un shut  <span class="token comment"># å¼€å¯é“¾è·¯</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>eth-trunk <span class="token number">1</span>  <span class="token comment"># å°†è¯¥ç«¯å£g0/0/5åŠ å…¥èšåˆæ¥å£eth-trunk 1</span>Info: This operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment<span class="token punctuation">..</span>.done.<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span><span class="token comment"># todo LSW1é…ç½®</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int Eth-Trunk <span class="token number">1</span>  <span class="token comment"># å»ºç«‹æ±‡èšç«¯å£</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>clear configuration int g0/0/4  <span class="token comment"># æ¸…é™¤æ¥å£é…ç½®</span>Warning: All configurations of the interface will be cleared, and its state will be shutdown. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span> :yInfo: Total execute <span class="token number">2</span> command<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, <span class="token number">2</span> successful, <span class="token number">0</span> failed.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>clear configuration int g0/0/5  <span class="token comment"># æ¸…é™¤æ¥å£é…ç½®</span>Warning: All configurations of the interface will be cleared, and its state will be shutdown. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span> :yInfo: Total execute <span class="token number">2</span> command<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, <span class="token number">2</span> successful, <span class="token number">0</span> failed.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/4<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>un shut  <span class="token comment"># å¼€å¯é“¾è·¯</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>eth-trunk <span class="token number">1</span>  <span class="token comment"># å°†è¯¥ç«¯å£g0/0/4åŠ å…¥èšåˆæ¥å£eth-trunk 1</span>Info: This operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment<span class="token punctuation">..</span>.done.<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>int g0/0/5<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>un shut  <span class="token comment"># å¼€å¯é“¾è·¯</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>eth-trunk <span class="token number">1</span>  <span class="token comment"># å°†è¯¥ç«¯å£g0/0/5åŠ å…¥èšåˆæ¥å£eth-trunk 1</span>Info: This operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment<span class="token punctuation">..</span>.done.<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span><span class="token comment"># todo æ£€æŸ¥é€»è¾‘é“¾è·¯èšåˆ</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>dis eth-trunk <span class="token number">1</span>Eth-Trunk1's state information is:WorkingMode: NORMAL         Hash arithmetic: According to SIP-XOR-DIP         Least Active-linknumber: <span class="token number">1</span>  Max Bandwidth-affected-linknumber: <span class="token number">8</span>              Operate status: up          Number Of Up Port In Trunk: <span class="token number">2</span>                     --------------------------------------------------------------------------------PortName                      Status      Weight GigabitEthernet0/0/4          Up          <span class="token number">1</span>      GigabitEthernet0/0/5          Up          <span class="token number">1</span>      </code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo LSW2é…ç½®</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int Eth-Trunk <span class="token number">1</span><span class="token punctuation">[</span>Huawei-Eth-Trunk1<span class="token punctuation">]</span>port link-type  trunk <span class="token punctuation">[</span>Huawei-Eth-Trunk1<span class="token punctuation">]</span>port trunk allow-pass vlan all <span class="token punctuation">[</span>Huawei-Eth-Trunk1<span class="token punctuation">]</span>dis vlanThe total number of vlans is <span class="token builtin class-name">:</span> <span class="token number">3</span>--------------------------------------------------------------------------------U: Up<span class="token punctuation">;</span>         D: Down<span class="token punctuation">;</span>         TG: Tagged<span class="token punctuation">;</span>         UT: Untagged<span class="token punctuation">;</span>MP: Vlan-mapping<span class="token punctuation">;</span>               ST: Vlan-stacking<span class="token punctuation">;</span><span class="token comment">#: ProtocolTransparent-vlan;    *: Management-vlan;</span>--------------------------------------------------------------------------------VID  Type    Ports                                                          --------------------------------------------------------------------------------<span class="token number">1</span>    common  UT:GE0/0/1<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      GE0/0/2<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      GE0/0/3<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      GE0/0/6<span class="token punctuation">(</span>D<span class="token punctuation">)</span>                      GE0/0/7<span class="token punctuation">(</span>D<span class="token punctuation">)</span>      GE0/0/8<span class="token punctuation">(</span>D<span class="token punctuation">)</span>      GE0/0/9<span class="token punctuation">(</span>D<span class="token punctuation">)</span>      GE0/0/10<span class="token punctuation">(</span>D<span class="token punctuation">)</span>                     GE0/0/11<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/12<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/13<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/14<span class="token punctuation">(</span>D<span class="token punctuation">)</span>                     GE0/0/15<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/16<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/17<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/18<span class="token punctuation">(</span>D<span class="token punctuation">)</span>                     GE0/0/19<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/20<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/21<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/22<span class="token punctuation">(</span>D<span class="token punctuation">)</span>                     GE0/0/23<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     GE0/0/24<span class="token punctuation">(</span>D<span class="token punctuation">)</span>     Eth-Trunk1<span class="token punctuation">(</span>U<span class="token punctuation">)</span>   Eth-Trunk11<span class="token punctuation">(</span>D<span class="token punctuation">)</span>  <span class="token number">10</span>   common  TG:GE0/0/1<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      GE0/0/2<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      GE0/0/3<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      Eth-Trunk1<span class="token punctuation">(</span>U<span class="token punctuation">)</span>   <span class="token number">20</span>   common  TG:GE0/0/1<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      GE0/0/2<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      GE0/0/3<span class="token punctuation">(</span>U<span class="token punctuation">)</span>      Eth-Trunk1<span class="token punctuation">(</span>U<span class="token punctuation">)</span>   VID  Status  Property      MAC-LRN Statistics Description      --------------------------------------------------------------------------------<span class="token number">1</span>    <span class="token builtin class-name">enable</span>  default       <span class="token builtin class-name">enable</span>  disable    VLAN 0001                         <span class="token number">10</span>   <span class="token builtin class-name">enable</span>  default       <span class="token builtin class-name">enable</span>  disable    VLAN 0010                         <span class="token number">20</span>   <span class="token builtin class-name">enable</span>  default       <span class="token builtin class-name">enable</span>  disable    VLAN 0020                         <span class="token punctuation">[</span>Huawei-Eth-Trunk1<span class="token punctuation">]</span></code></pre><p>åå•†ï¼šÂ·Â·Â·Â·Â·Â·</p><h2 id="äº¤æ¢æœºç«¯å£å®‰å…¨æŠ€æœ¯"><a href="#äº¤æ¢æœºç«¯å£å®‰å…¨æŠ€æœ¯" class="headerlink" title="äº¤æ¢æœºç«¯å£å®‰å…¨æŠ€æœ¯"></a>äº¤æ¢æœºç«¯å£å®‰å…¨æŠ€æœ¯</h2><h3 id="å®éªŒäº”ï¼šç«¯å£éš”ç¦»"><a href="#å®éªŒäº”ï¼šç«¯å£éš”ç¦»" class="headerlink" title="å®éªŒäº”ï¼šç«¯å£éš”ç¦»"></a><strong>å®éªŒäº”ï¼šç«¯å£éš”ç¦»</strong></h3><p>åº”ç”¨åœºæ™¯ï¼šé…’åº—ã€å®¿èˆ<br>ç«¯å£éš”ç¦»ï¼šåšäº†ç«¯å£éš”ç¦»çš„ç«¯å£ä¹‹é—´äº’ç›¸é€šä¿¡ï¼Œåšäº†å’Œæ²¡åšçš„å¯ä»¥é€šä¿¡</p><ul><li>Step1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/å®éªŒäº”ç«¯å£éš”ç¦»ç½‘ç»œæ‹“æ‰‘-165647121809715.png"><ul><li>Step2ï¼šäº‘å’Œä¸»æœºçš„é…ç½®</li></ul><p>äº‘é…ç½®ï¼š<br>ç»‘å®šä¿¡æ¯ï¼š1.UDPã€2.VMwareÂ·Â·Â·IP: 192.168.126.1<br>ç«¯å£ç±»å‹ï¼šEthernet<br>å…¥ç«¯å£å·ï¼š1<br>å‡ºç«¯å£å·ï¼š2<br>åŒå‘é€šé“ï¼šâˆš</p><p>è®¡ç®—æœºé…ç½®ï¼šDHCP</p><ul><li>Step3ï¼šåšç«¯å£éš”ç¦»</li></ul><p><strong>éš”ç¦»ç»„ä¸­çš„ç”¨æˆ·ä¹‹é—´ä¸èƒ½é€šä¿¡ï¼Œåªèƒ½å’Œä¸Šè¡Œç«¯å£è¿›è¡Œé€šä¿¡</strong>ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo äº¤æ¢æœºåšç«¯å£éš”ç¦»</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port-isolate <span class="token builtin class-name">enable</span> <span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port-isolate <span class="token builtin class-name">enable</span></code></pre><ul><li>Step5.0ï¼šæäº‹ï¼šåœ¨PC3æŠ“PC1è·ŸPC2é€šä¿¡çš„æ•°æ®åŒ…</li></ul><p>é¦–å…ˆè¦å…³æ‰ä¸Šé¢é…ç½®çš„ç«¯å£éš”ç¦»ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å…³é—­ç«¯å£éš”ç¦»</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>undo mac-add dynamic<span class="token comment"># todo å¿«é€Ÿæ‰‹åŠ¨æ¸…é™¤äº¤æ¢æœºMACåœ°å€è¡¨</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>undo mac-address<span class="token comment"># todo åœ¨MACåœ°å€è¡¨ä¸­æŸ¥æ‰¾æŒ‡å®šçš„MACåœ°å€</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dis mac-address <span class="token operator">|</span> include <span class="token number">4491</span></code></pre><p><font color="#999AAA">æ¸…é™¤äº¤æ¢è¡¨çš„æ”»å‡»æ–¹å¼ï¼š<br>æ”»å‡»æœºå‘é€ä¼ªé€ BPDUç»™äº¤æ¢æœºï¼Œäº¤æ¢æœºä¸»åŠ¨æ¸…é™¤MACåœ°å€è¡¨ã€‚<br>TCBPDUï¼Œè§¦å‘MACåœ°å€è¡¨è€åŒ–æ—¶é—´ç”±30så˜æˆ15sã€‚</font></p><ul><li>Step5.1ï¼šæ”»å‡»æœºMACåœ°å€æ³›æ´ª</li></ul><p>æ”»å‡»æœºä½¿ç”¨MACåœ°å€æ³›æ´ªï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">â”Œâ”€â”€<span class="token punctuation">(</span>kaliã‰¿kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~<span class="token punctuation">]</span>â””â”€$ <span class="token function">sudo</span> macof</code></pre><p>æ­¤åï¼Œäº¤æ¢æœºMACåœ°å€è¡¨è¢«åƒåœ¾MACå¡«æ»¡ï¼Œæ‰€ä»¥äº¤æ¢æœºä¼šæ³›æ´ªæ•°æ®å¸§ï¼Œå³å¹¿æ’­ï¼Œæ‰€ä»¥å®ç°äº†æŠ“åŒ…çš„æ•ˆæœã€‚</p><ul><li>Step5.2ï¼šæŠ“åŒ…</li></ul><p>åœ¨PC3çš„çº¿è·¯ä¸Šå¼€å§‹æŠ“åŒ…ï¼Œç„¶åç”¨PC1 ping PC2ï¼Œåœ¨wiresharkä¸Šé¢å¯ä»¥çœ‹åˆ°pingä½¿ç”¨çš„ICMPæŠ¥æ–‡ä¿¡æ¯ã€‚</p><p>æ­¤æ—¶ï¼Œå¦‚æœäº¤æ¢æœºä½¿ç”¨telnetæ˜æ–‡ç™»å½•æ–¹å¼ï¼Œé‚£ä¸å¯„äº†å˜›<span class="github-emoji"><span>ğŸ˜…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f605.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><ul><li>Step5.3ï¼šäº¤æ¢æœºé…ç½®Telnetæ˜æ–‡è¿œç¨‹ç™»å½•</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo äº¤æ¢æœºé…IP</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">1</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.126.24 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span><span class="token comment"># todo äº¤æ¢æœºé…ç½®telnet</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>telnet server <span class="token builtin class-name">enable</span> Info: The Telnet server has been enabled.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>user-interface vty <span class="token number">0</span> <span class="token number">4</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>set authentication password cipher <span class="token number">123456</span></code></pre><ul><li>Step5.4ï¼šè¿œç¨‹ç™»å½•äº¤æ¢æœº</li></ul><p>æ­¤æ—¶ï¼Œç”¨kaliè¿œç¨‹ç™»å½•äº¤æ¢æœºæ—¶ï¼Œåœ¨ç™»å½•çº¿è·¯ä¸Šå¼€å§‹æŠ“åŒ…ï¼Œå°±èƒ½çœ‹è§ä½¿ç”¨telnetç™»å½•ã€‚å¯„ï¼<span class="github-emoji"><span>ğŸ˜¬</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f62c.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><h3 id="å®éªŒå…­ï¼šç«¯å£å®‰å…¨"><a href="#å®éªŒå…­ï¼šç«¯å£å®‰å…¨" class="headerlink" title="å®éªŒå…­ï¼šç«¯å£å®‰å…¨"></a><strong>å®éªŒå…­ï¼šç«¯å£å®‰å…¨</strong></h3><p><font color="#999AAA">ä»¥ä¸Šæ˜¯æ”»å‡»ï¼Œä»¥ä¸‹æ˜¯é˜²å¾¡ã€‚</font></p><p>MACåœ°å€è¡¨åˆ†ä¸ºï¼š<br>é™æ€MACåœ°å€è¡¨ï¼šæ‰‹å·¥ç»‘å®šï¼Œä¼˜å…ˆçº§é«˜äºåŠ¨æ€MACåœ°å€è¡¨<br>åŠ¨æ€MACåœ°å€è¡¨ï¼šäº¤æ¢æœºæ”¶åˆ°æ•°æ®å¸§åï¼Œå°†æºMACåœ°å€å­¦ä¹ åˆ°MACåœ°å€è¡¨ä¸­<br>é»‘æ´MACåœ°å€è¡¨ï¼šæ‰‹å·¥ç»‘å®šæˆ–è‡ªåŠ¨å­¦ä¹ ï¼Œç”¨äºä¸¢å¼ƒæŒ‡å®šMACåœ°å€</p><ul><li>Step6ï¼šç«¯å£å®‰å…¨é…ç½®</li></ul><p>ç«¯å£å®‰å…¨ï¼šæ§åˆ¶ä¸€ä¸ªç«¯å£èƒ½æ”¶å‘çš„MACåœ°å€æ•°é‡</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo äº¤æ¢æœºé…ç½®ç«¯å£å®‰å…¨</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/4<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port-security <span class="token builtin class-name">enable</span>  <span class="token comment"># å¼€å¯ç«¯å£å®‰å…¨</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port-security max-mac-num <span class="token number">1</span>  <span class="token comment"># æ¥å£æœ€å¤šå­¦ä¹ å¤šå°‘åœ°å€ï¼Œå¦‚æœè¿è¾“å‡ºç«¯ï¼Œé‚£ä¹ˆå­¦ä¹ æœ€å¤šä¸€ä¸ªå°±è¡Œ</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port-security mac-address sticky  <span class="token comment"># ç«¯å£å®‰å…¨åœ°å€é€šè¿‡**è‡ªåŠ¨å­¦ä¹ **è·å–ï¼Œå³è‡ªåŠ¨å­¦ä¹ åˆæ³•çš„MACåœ°å€</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port-security protect-action <span class="token function">shutdown</span>  <span class="token comment"># æƒ©ç½šï¼šæŠŠç«¯å£downæ‰</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>int g0/0/3<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port-security <span class="token builtin class-name">enable</span>  <span class="token comment"># å¼€å¯ç«¯å£å®‰å…¨</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port-security max-mac-num <span class="token number">1</span>  <span class="token comment"># æ¥å£æœ€å¤šå­¦ä¹ å¤šå°‘åœ°å€ï¼Œå¦‚æœè¿è¾“å‡ºç«¯ï¼Œé‚£ä¹ˆå­¦ä¹ æœ€å¤šä¸€ä¸ªå°±è¡Œ</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port-security mac-address sticky  <span class="token comment"># ç«¯å£å®‰å…¨åœ°å€é€šè¿‡**è‡ªåŠ¨å­¦ä¹ **è·å–ï¼Œå³è‡ªåŠ¨å­¦ä¹ åˆæ³•çš„MACåœ°å€</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port-security protect-action <span class="token function">shutdown</span>  <span class="token comment"># æƒ©ç½šï¼šæŠŠç«¯å£downæ‰</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span></code></pre><ul><li>Step6.5ï¼šè§‚å¯Ÿ</li></ul><p>é¦–å…ˆï¼Œä¼šå‘ç°ï¼Œè¿æ¥kaliçš„ç«¯å£å·²ç»è¢«äº¤æ¢æœºdownæ‰äº†ï¼ˆåäº‹å¹²å¤ªå¤šäº†<span class="github-emoji"><span>ğŸ˜…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f605.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼‰<br>ç„¶åï¼Œä½¿ç”¨PC3ä¸»æœºpingå…¶ä»–ä¸»æœºï¼Œäº¤æ¢æœºå°±ä¼šå­¦ä¹ åˆ°PC3çš„MACåœ°å€</p><ul><li>Step7ï¼šæµ‹è¯•</li></ul><p>åœ¨æ‹“æ‰‘ä¸­æ‹‰ä¸€å°ä¸»æœºPC4å‡ºæ¥ï¼Œé…ç½®è·ŸPC3ä¸€æ‘¸ä¸€æ ·çš„åœ°å€ï¼Œç„¶ååˆ é™¤åŸPC3è¿çº¿ï¼Œè·ŸPC4è¿çº¿ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/ç«¯å£å®‰å…¨1-16564712180963.png"><p>æ­¤æ—¶ï¼Œå› ä¸ºPC4ä¸å‘é€æ•°æ®åŒ…ï¼Œäº¤æ¢æœºæ— æ³•åˆ¤æ–­è¯¥æ¥å£çš„ä¸»æœºæ˜¯å¦æ˜¯åŸä¸»æœºï¼Œæ‰€ä»¥PC4 pingä»»æ„å…¶ä»–ä¸»æœº(pingä¸åŒ)ï¼Œä¹‹åè¯¥ç«¯å£å°±downæ‰äº†(ç­‰30sç«¯å£è€åŒ–æ—¶é—´)ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/ç«¯å£å®‰å…¨2-16564712180965.png"><h3 id="å®éªŒä¸ƒï¼šMACåœ°å€é˜²æ¼‚ç§»-æ— å®éªŒ"><a href="#å®éªŒä¸ƒï¼šMACåœ°å€é˜²æ¼‚ç§»-æ— å®éªŒ" class="headerlink" title="å®éªŒä¸ƒï¼šMACåœ°å€é˜²æ¼‚ç§»(æ— å®éªŒ)"></a><strong>å®éªŒä¸ƒï¼šMACåœ°å€é˜²æ¼‚ç§»</strong>(æ— å®éªŒ)</h3><p>MACåœ°å€æ¼‚ç§»ï¼šåœ¨ä¸€ä¸ªæ¥å£å­¦ä¹ åˆ°çš„MAC<br>åœ°å€åœ¨é€šä¸€ä¸ªVLANä¸­çš„å…¶ä»–æ¥å£ä¸Šä¹Ÿè¢«å­¦ä¹ åˆ°ï¼Œè¿™æ ·åå­¦ä¹ çš„MACåœ°å€å°±ä¼šè¦†ç›–å…ˆå­¦ä¹ åˆ°çš„MACåœ°å€ä¿¡æ¯ï¼ˆå‡ºæ¥å£é¢‘ç¹å˜åŠ¨ï¼‰ï¼Œè¿™ç§æƒ…å†µå¤šæ•°ä¸ºå‡ºç°ç¯è·¯çš„æ—¶å€™å‘ç”Ÿï¼Œæ‰€ä»¥è¿™ä¸ªåŠŸèƒ½ä¹Ÿå¯ä»¥ç”¨æ¥æ’æŸ¥å’Œè§£å†³ç¯è·¯é—®é¢˜ã€‚</p><p>MACåœ°å€é˜²æ­¢æ¼‚ç§»åŠŸèƒ½åŸç†ï¼šåœ¨æ¥å£ä¸Šé…ç½®ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§é«˜çš„æ¥å£å­¦ä¹ åˆ°çš„MACåœ°å€ä¸ä¼šåœ¨åŒVLANçš„ä¼˜å…ˆçº§ä½çš„å…¶ä»–æ¥å£ä¸Šè¢«å­¦ä¹ åˆ°ï¼Œå¦‚æœä¼˜å…ˆçº§ä¸€æ ·ï¼Œé‚£ä¹ˆå¯ä»¥é…ç½®ä¸å…è®¸ç›¸åŒä¼˜å…ˆçº§çš„æ¥å£å­¦ä¹ åˆ°åŒä¸€ä¸ªMACåœ°å€ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo MACåœ°å€é˜²æ­¢æ¼‚ç§»é…ç½®</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>mac-address flapping detection  <span class="token comment"># å…¨å±€å¼€å¯MACæ¼‚ç§»æ£€æµ‹</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/2<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>mac-learning priority <span class="token number">3</span>  <span class="token comment"># é…ç½®g0/0/0æ¥å£ä¼˜å…ˆçº§ä¸º3ï¼Œé»˜è®¤ä¸º0</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>mac-address flapping trigger error-down  <span class="token comment"># æ¥å£å‘ç”ŸMACåœ°å€æ¼‚ç§»åå…³é—­</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/3<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>mac-address flapping trigger error-down  <span class="token comment"># æ¥å£å‘ç”ŸMACåœ°å€æ¼‚ç§»åå…³é—­</span>é…ç½®å®Œæˆåï¼Œå½“g0/0/2çš„MACåœ°å€æ¼‚ç§»åˆ°g0/0/åï¼Œg0/0/3ç«¯å£å°†è¢«å…³é—­</code></pre><h3 id="å®éªŒå…«ï¼šDHCPæ¬ºéª—-DHCP-Spoofing"><a href="#å®éªŒå…«ï¼šDHCPæ¬ºéª—-DHCP-Spoofing" class="headerlink" title="å®éªŒå…«ï¼šDHCPæ¬ºéª—(DHCP Spoofing)"></a><strong>å®éªŒå…«ï¼šDHCPæ¬ºéª—(DHCP Spoofing)</strong></h3><ul><li>Step1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/å®éªŒå…«DHCPæ¬ºéª—-16564712180964.png"><p>æ‹“æ‰‘å›¾è·Ÿä¸Šé¢çš„ä¸€æ ·ï¼Œä½†æ˜¯<strong>ä¸è¦</strong>é…ç½®ç«¯å£å®‰å…¨ï¼Œé…äº†çš„è¯æŠŠç«¯å£å®‰å…¨é…ç½®å…¨éƒ¨åˆ æ‰ã€‚</p><p>ä¸€èˆ¬ä¸»æœºè¿æ¥å¤–ç½‘ï¼Œéƒ½èƒ½é€šè¿‡DHCPè·å–IPåœ°å€</p><ul><li>Step2ï¼šä½¿ç”¨æ”»å‡»æœºkaliè€—å°½DHCPçš„IPåœ°å€æ± èµ„æº</li></ul><p>dhcpstarvï¼šï¼ˆDHCPé¥¿æ­»æ”»å‡»ï¼‰æŒ‡å®šä¸€ä¸ªæ¥å£ï¼Œå°±ä¼šæŠŠå±€åŸŸç½‘é‡Œé¢çš„DHCPåœ°å€å…¨éƒ¨å¹²æ‰ï¼Œç›¸å½“äºä¸æ–­è·å–IPåœ°å€ï¼ŒæŠŠIPèµ„æºè€—å°½ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash">â”Œâ”€â”€<span class="token punctuation">(</span>kaliã‰¿kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~<span class="token punctuation">]</span>â””â”€$ dhcpstarv -i eth0 -e <span class="token number">192.168</span>.126.131</code></pre><ul><li>Step3ï¼šæ£€æŸ¥ä¸»æœºIPåœ°å€</li></ul><p>è®©å„PCé‡æ–°åº”ç”¨DHCPï¼Œç„¶åå°±æ— æ³•åˆ†é…åˆ°IPåœ°å€ã€‚</p><ul><li>Step4ï¼šæ”»å‡»æœºkaliä½¿ç”¨DNSæ¬ºéª—</li></ul><p>é€šè¿‡Ethercapè½¯ä»¶æ¨¡æ‹ŸDHCPæœåŠ¡å™¨</p><p>æ‰“å¼€Ettercap -&gt; âˆš -&gt; DHCP Spoofing -&gt; é…ç½®å¦‚ä¸‹ -&gt; OK</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/DHCP Spoofing-16564712180966.png"><ul><li>Step5ï¼šæ£€æŸ¥ä¸»æœºIPåœ°å€</li></ul><p>è®©å„PCé‡æ–°åº”ç”¨DHCPï¼Œç„¶åå¯ä»¥çœ‹åˆ°ä¸»æœºåˆ†é…åˆ°äº†æˆ‘ä»¬è‡ªå®šä¹‰çš„IPåœ°å€ã€‚</p><p>Ettercapæ˜¾ç¤ºï¼š<br><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/Ettercap-16564712180967.png"></p><p>å…¶ä¸­ä¸€å°ä¸»æœºçš„é…ç½®ï¼š<br><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/PC configration-16564712180968.png"></p><h3 id="å®éªŒä¹ï¼šDHCPçª¥æ¢-DHCP-snooping"><a href="#å®éªŒä¹ï¼šDHCPçª¥æ¢-DHCP-snooping" class="headerlink" title="å®éªŒä¹ï¼šDHCPçª¥æ¢(DHCP snooping)"></a><strong>å®éªŒä¹ï¼šDHCPçª¥æ¢(DHCP snooping)</strong></h3><ul><li>Step1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/DHCPçª¥æ¢-16564712180969.png"><ul><li>Step2ï¼šé…ç½®DHCPæœåŠ¡å™¨å’Œæ”»å‡»DHCP</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo DHCP Server</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp enInfo: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.126.1 <span class="token number">24</span>      <span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> interface<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span><span class="token comment"># todo Attacker</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp enInfo: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>ip pool p1Info: It's successful to create an IP address pool.<span class="token punctuation">[</span>Huawei-ip-pool-p1<span class="token punctuation">]</span>network <span class="token number">192.168</span>.99.0 mask <span class="token number">24</span><span class="token punctuation">[</span>Huawei-ip-pool-p1<span class="token punctuation">]</span>gateway-list <span class="token number">192.168</span>.99.1<span class="token punctuation">[</span>Huawei-ip-pool-p1<span class="token punctuation">]</span>int g0/0/0<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.99.1 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> global </code></pre><ul><li>Step2.5ï¼šæŸ¥çœ‹ä¸»æœºIPåœ°å€</li></ul><p>ä¸»æœºè·å–ä¸¤ä¸ªDHCPæœåŠ¡å™¨IPåœ°å€çš„æ¦‚ç‡äº”äº”å¼€ã€‚</p><ul><li>Step3ï¼šäº¤æ¢æœºå¼€å¯DHCP Snooping</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp <span class="token builtin class-name">enable</span> Info: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp snooping <span class="token builtin class-name">enable</span>  <span class="token comment"># å…¨å±€å¼€å¯DHCP snooping</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp snooping <span class="token builtin class-name">enable</span> vlan <span class="token number">1</span>  <span class="token comment"># é’ˆå¯¹VLANå¼€å¯DHCP snooping</span></code></pre><ol><li>äº¤æ¢æœºå…¨å±€å¼€å¯DHCP Snoop ingåï¼Œéœ€è¦å†åœ¨VLANä¸­å¼€å¯</li><li>DHCPåˆ†é…åœ°å€è¿‡ç¨‹ä¸­ï¼ŒDCHPå‘é€Offerå’ŒACKæŠ¥æ–‡</li><li>äº¤æ¢æœºå¼€å¯Spoofingï¼Œæ‰€æœ‰ç«¯å£è®¾ç½®ä¸ºä¸ä¿¡ä»»ç«¯å£ï¼Œå³ä¸æ¥å—Offerå’ŒACK</li><li>æ­¤æ—¶ï¼Œä¸»æœºæ— æ³•è·å–IPåœ°å€ï¼Œå› ä¸ºäº¤æ¢æœºåšäº†DHCPçª¥æ¢ï¼ˆDHCP snoopingï¼‰</li><li>æ‰€ä»¥ï¼Œå†å•ç‹¬å°†æŸä¸ªç«¯å£è®¾ç½®ä¸ºä¿¡ä»»ç«¯å£ï¼Œå°±å¯ä»¥ä»è¿™ä¸ªç«¯å£æ¥æ”¶Offerå’ŒACkï¼Œä¸»æœºä¹Ÿå¯ä»¥ä»ä¿¡ä»»ç«¯å£çš„DHCPæœåŠ¡å™¨è·å–IPåœ°å€</li></ol><ul><li>Step4ï¼šäº¤æ¢æœºè®¾ç½®ä¿¡ä»»ç«¯å£</li></ul><p>æ— å·®åˆ«åœ°å°†VLANä¸‹çš„ç«¯å£è®¾ç½®ä¸ºuntrust(é»˜è®¤)</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo è®¾ç½®ä¿¡ä»»ç«¯å£</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/5<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>dhcp snooping trusted  <span class="token comment"># å°†ç«¯å£è®¾ç½®ä¸ºä¿¡ä»»</span><span class="token comment"># todo è®¾ç½®ç«¯å£èƒ½åˆ†é…çš„æœ€å¤§IPï¼Œé˜²æ­¢DHCPé¥¿æ­»æ”»å‡»</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/5<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>dhcp snooping max-user-number <span class="token number">1</span>  <span class="token comment"># ä¸€ä¸ªç«¯å£åˆ†ä¸€ä¸ªIPï¼Œé˜²æ­¢DHCPé¥¿æ­»æ”»å‡»</span></code></pre><p>æ­¤æ—¶ï¼Œå‘ç°ï¼Œä¸»æœºå¯ä»¥è·å–DHCP serveråœ°å€æ± åœ°IPåœ°å€ï¼Œä¸ä¼šä»Attackerè·å–IPåœ°å€</p><ul><li>Step5ï¼šé˜²æ­¢IPåœ°å€å†²çª</li></ul><p>é¦–å…ˆï¼Œä¸ºäº†å‡ºç°åœ°å€å†²çªï¼Œæ‰‹åŠ¨å°†PC1é…ç½®æ”¹æˆå’ŒPC3ä¸€æ ·çš„é…ç½®ã€‚</p><p>ä¸ºäº†å¯¹æ¯”é…ç½®å‘½ä»¤çš„æ•ˆæœï¼Œå…ˆç”¨PC1 pingå…¶ç½‘å…³ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ping</span> <span class="token number">192.168</span>.126.1</code></pre><p>ç„¶åï¼Œåœ¨ä¸Šé¢å·²ç»åšå¥½DHCP Snoopingçš„åŸºç¡€ä¸Šï¼Œé…ç½®IPæºé˜²æŠ¤(å¿…é¡»åœ¨é…ç½®DHCP Snoopingä¹‹å)</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/1  <span class="token comment"># è¿›å…¥éœ€è¦é…ç½®çš„ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token builtin class-name">source</span> check user-bind <span class="token builtin class-name">enable</span>  <span class="token comment"># é…ç½®IPæºé˜²æŠ¤</span></code></pre><p>ç„¶åï¼Œä¸»æœºå°±æ— æ³•pingé€šå…¶ç½‘å…³äº†ã€‚</p><p>æºIPé˜²æŠ¤ç›¸å…³é…ç½®ï¼š<br><a href="https://www.bilibili.com/video/av713269292">åä¸ºipæºé˜²æŠ¤arpé˜²æŠ¤dhcp snooping å’Œç«¯å£ä¿æŠ¤</a><br><a href="https://blog.csdn.net/weixin_34062469/article/details/92356463">CISCOäº¤æ¢æœºé…ç½®DHCPç›‘å¬ã€IPæºé˜²æŠ¤å’ŒåŠ¨æ€ARPæ£€æµ‹</a><br><a href="https://blog.csdn.net/weixin_33754065/article/details/92531941">IP æºé˜²æŠ¤</a></p><h2 id="AAAè®¤è¯"><a href="#AAAè®¤è¯" class="headerlink" title="AAAè®¤è¯"></a>AAAè®¤è¯</h2><p>AAAæ˜¯Authentication(è®¤è¯)ã€Authorization(æˆæƒ)ã€Accounting(è®¡è´¹)çš„ç®€ç§°ã€‚</p><p>telnetå’ŒsshåŸºäºè®¾å¤‡æœ¬åœ°ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè®¤è¯ã€‚å¦‚æœè®¾å¤‡å•ä¸€ï¼Œæ²¡é—®é¢˜ï¼Œä½†æ˜¯è®¾å¤‡æœ‰æˆç™¾ä¸Šåƒå°ï¼Œè¿™ç§é…ç½®æ–¹å¼å°±ä¸åˆç†ï¼šå®‰å…¨é£é™©ã€éº»çƒ¦ã€‚æ‰€ä»¥ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„ç”¨æˆ·æ”¾å…¥æœåŠ¡å™¨ã€‚åœ¨ä¼ä¸šé‡Œå¤´ï¼Œå¤§å‹ç½‘ç»œéƒ½æ˜¯AAAè®¤è¯ã€‚</p><h3 id="å®éªŒåï¼šAAAé…ç½®â€”â€”æ­å»ºAAAè®¤è¯æœåŠ¡å™¨"><a href="#å®éªŒåï¼šAAAé…ç½®â€”â€”æ­å»ºAAAè®¤è¯æœåŠ¡å™¨" class="headerlink" title="å®éªŒåï¼šAAAé…ç½®â€”â€”æ­å»ºAAAè®¤è¯æœåŠ¡å™¨"></a><strong>å®éªŒåï¼šAAAé…ç½®â€”â€”æ­å»ºAAAè®¤è¯æœåŠ¡å™¨</strong></h3><ul><li>Step1ï¼šç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/aaaè®¤è¯ç½‘ç»œæ‹“æ‰‘-165647121809610.png"><ul><li>Step2ï¼šé…ç½®è·¯ç”±å™¨</li></ul><p>AR1é…ç½®Telnetï¼ŒTelnetè®¤è¯åŸºäºAAAæœåŠ¡å™¨åšè®¤è¯ã€‚</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo è·¯ç”±å™¨AR1é€šè¿‡DHCPè·å–IP</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp enInfo: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> dhcp-alloc<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span></code></pre><ul><li>Step3ï¼šæ­å»ºAAAè®¤è¯æœåŠ¡å™¨</li></ul><p>æ­å»ºAAAè®¤è¯æœåŠ¡å™¨ï¼šæ€ç§‘çš„ACSï¼ˆæ“ä½œç³»ç»Ÿï¼‰<font color="#999AAA">å®‰è£…ACSè™šæ‹Ÿæœºæ­¥éª¤ï¼šè§†é¢‘ä»02:23:17å¼€å§‹</font></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo å®‰è£…è™šæ‹Ÿæœºï¼ˆæ²¡æˆªå›¾ï¼Œå‡‘åˆçœ‹ï¼‰</span>localhost login:setupEnter hostname<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼šdcm  <span class="token comment"># ä¸»æœºåï¼šå¤§èªæ˜</span>Enter IP address<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼š192.168.126.44  <span class="token comment"># ç½‘æ®µä¸€è‡´å³å¯</span>Enter IP network<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼š255.255.255.0  <span class="token comment"># æ©ç ï¼Œæ²¡å•¥å¥½è¯´çš„</span>Enter IP default gateway<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼š192.168.126.2  <span class="token comment"># ç½‘å…³ï¼Œæ²¡å•¥å¥½è¯´çš„</span>Enter default DNS domain<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼šct.com  <span class="token comment"># è¿™ä¸ªéšä¾¿å†™ä¸ªåŸŸå</span>Enter primary nameserver<span class="token punctuation">[</span><span class="token punctuation">]</span>ï¼š8.8.8.8  <span class="token comment"># DNSæœåŠ¡å™¨åœ°å€</span>Add seconary nameserver? Y/N <span class="token punctuation">[</span>N<span class="token punctuation">]</span>ï¼šn  <span class="token comment"># æ˜¯å¦æ·»åŠ ç¬¬äºŒä¸ªDNSæœåŠ¡å™¨åœ°å€</span>Enter NTP server<span class="token punctuation">[</span>time.nist.gov<span class="token punctuation">]</span>ï¼š  <span class="token comment"># NTPæ—¶é—´åŒæ­¥æœåŠ¡å™¨</span>Add seconary NTP? Y/N <span class="token punctuation">[</span>N<span class="token punctuation">]</span>ï¼šnEnter system timezone<span class="token punctuation">[</span>UTC<span class="token punctuation">]</span>ï¼šEnter SSH service? Y/N <span class="token punctuation">[</span>N<span class="token punctuation">]</span>ï¼šyEnter username<span class="token punctuation">[</span>admin<span class="token punctuation">]</span>ï¼šEnter passwordï¼šDcm123Enter password againï¼šDcm123  <span class="token comment"># è‡³å°‘6ä½,è‹±æ–‡åŠæ•°å­—ç»„åˆ</span>Nameserver <span class="token function">ping</span> failed. Retried? Y/N <span class="token punctuation">[</span>Y<span class="token punctuation">]</span>ï¼šn</code></pre><p>ç­‰ACSå®‰è£…å®Œæˆä¹‹åï¼Œéšä¾¿æµ‹è¯•å‡ æ¡å‘½ä»¤ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æµ‹è¯•å‘½ä»¤</span>dcm/admin<span class="token comment"># show ip route</span>dcm/admin<span class="token comment"># </span></code></pre><ul><li>Step3ï¼šè¿›å…¥AAAè®¤è¯æœåŠ¡å™¨</li></ul><p><strong>-&gt;</strong> åœ¨æµè§ˆå™¨ä¸­è¾“å…¥<code>https://192.168.126.44</code><br><strong>-&gt;</strong> é«˜çº§<br><strong>-&gt;</strong> ç»§ç»­å‰å¾€<code>https://192.168.126.44</code>ï¼ˆæ²¡æˆªå›¾ï¼Œå‡‘åˆçœ‹ï¼‰<br><strong>-&gt;</strong> æœåŠ¡å™¨ç™»å½•ç•Œé¢ï¼šè¾“å…¥ç”¨æˆ·åã€å¯†ç <br><strong>-&gt;</strong> è¾“å…¥æ–°å¯†ç <br><strong>-&gt;</strong> ä½¿ç”¨æ–°å¯†ç ç™»å½•<br><strong>-&gt;</strong> æˆæƒ</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/è¿›å…¥AAAæœåŠ¡å™¨1-165647121809611.png"><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/../../STDATA/VSCodeData/MarkDown/ICTæˆ˜é˜Ÿ/ICTæ•°é€š/04/è¿›å…¥AAAæœåŠ¡å™¨2.png"><p>é»˜è®¤è´¦å·ï¼šacsadmin<br>é»˜è®¤å¯†ç ï¼šdefault</p><p>ç¬¬ä¸€æ¬¡è¿›å…¥ä¼šè¢«è¦æ±‚é‡ç½®å¯†ç ï¼Œé‡è®¾å¯†ç åç›´æ¥ç™»å½•å³å¯ã€‚</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/../../STDATA/VSCodeData/MarkDown/ICTæˆ˜é˜Ÿ/ICTæ•°é€š/04/AAAæœåŠ¡å™¨æˆæƒ1.png"><p><strong>-&gt;</strong> é€‰æ‹©æ–‡ä»¶ï¼š<code>acs5.6_base_57class.cn</code><br><strong>-&gt;</strong> install<br><strong>-&gt;</strong> ç„¶åå°±æ¥åˆ°è¿™ä¸ªç•Œé¢</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/AAAæœåŠ¡å™¨æˆæƒ2-165647121809714.png"><p><strong>-&gt;</strong> æŸ¥çœ‹baseå¯¼å…¥æƒ…å†µï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/AAAæœåŠ¡å™¨æˆæƒ3-165647121809716.png"><p><strong>-&gt;</strong> å·²ç»å¯¼å…¥<br><strong>-&gt;</strong> å¯¼å…¥featureï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-4-ci-bi-ji/AAAæœåŠ¡å™¨æˆæƒ4-165647121809717.png"><p><strong>-&gt;</strong> Add/Upgrade<br><strong>-&gt;</strong> é€‰æ‹©æ–‡ä»¶ï¼š<code>acs5.6_feature_57class.cn</code><br><strong>-&gt;</strong> Submit<br><strong>-&gt;</strong> åˆ°æ­¤ä¸ºæ­¢ï¼ŒAAAæœåŠ¡å™¨æ­å»ºå®Œæˆï¼</p><ul><li>Step4ï¼šæ¬¡æ—¥çš„å†…å®¹ï¼šç§»æ­¥[<a href="../05/%E4%BD%95%E6%98%8E%E6%B3%BD_%E7%AC%AC5%E6%AC%A1%E7%AC%94%E8%AE%B0.md">ä½•æ˜æ³½_ç¬¬5æ¬¡ç¬”è®°</a>]</li></ul><p>AAAè®¤è¯é…ç½®ï¼š<br><a href="https://blog.csdn.net/qq_22193519/article/details/83088547">åä¸ºAAAè®¤è¯è¯¦è§£</a><br><a href="https://blog.51cto.com/guojiping/972978">Windowsä¸‹AAAæœåŠ¡å™¨çš„æ­å»ºåŠèº«ä»½è®¤è¯ï¼ </a></p><h2 id="MACåœ°å€è¡¨ç®¡ç†å‘½ä»¤"><a href="#MACåœ°å€è¡¨ç®¡ç†å‘½ä»¤" class="headerlink" title="MACåœ°å€è¡¨ç®¡ç†å‘½ä»¤"></a>MACåœ°å€è¡¨ç®¡ç†å‘½ä»¤</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.é…ç½®MACåœ°å€è¡¨<span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>dis mac-address<span class="token number">2</span>.é…ç½®é™æ€MACåœ°å€è¡¨<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>mac-address static <span class="token number">5489</span>-98C0-7E34 g0/0/1 vlan <span class="token number">1</span>  <span class="token comment"># å°†MACåœ°å€ç»‘å®šåˆ°æ¥å£g0/0/1åœ¨vlan1ä¸­æœ‰æ•ˆ</span><span class="token number">3</span>.é…ç½®é»‘æ´MACåœ°å€è¡¨<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>mac-address black-hole <span class="token number">5489</span>-98C0-7E34 vlan <span class="token number">1</span>  <span class="token comment"># åœ¨VLAN1ä¸­æ”¶åˆ°æºæˆ–ç›®çš„é—®æ­¤MACæ—¶ï¼Œä¸¢å¼ƒå¸§</span><span class="token number">4</span>.ç¦æ­¢ç«¯å£å­¦ä¹ MACåœ°å€ï¼Œå¯ä»¥åœ¨ç«¯å£æˆ–è€…VLANä¸­ç¦æ­¢MACåœ°å€å­¦ä¹ åŠŸèƒ½<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>mac-address learning disable action discardè¿›åˆ¶å­¦ä¹ MACåœ°å€ï¼Œå¹¶å°†æ”¶åˆ°çš„æ‰€æœ‰å¸§ä¸¢å¼ƒï¼Œä¹Ÿå¯ä»¥åœ¨VLANä¸­é…ç½®<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>mac-address learning disable action forwardç¦æ­¢å­¦ä¹ MACåœ°å€ï¼Œä½†æ˜¯å°†æ”¶åˆ°å¸§ä»¥æ³›æ´ªæ–¹å¼è½¬å‘ï¼ˆäº¤æ¢æœºå¯¹äºæœªçŸ¥ç›®çš„MACåœ°å€è½¬å‘åŸç†ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨VLANä¸­é…ç½®<span class="token number">5</span>.é™åˆ¶MACåœ°å€å­¦ä¹ æ•°é‡ï¼Œå¯ä»¥ç«¯å£æˆ–è€…VLANé…ç½®<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>mac-limit maximum <span class="token number">9</span> alarm <span class="token builtin class-name">enable</span>äº¤æ¢æœºé™åˆ¶MACåœ°å€å­¦ä¹ æ•°é‡ä¸º9ä¸ªï¼Œå¹¶åœ¨è¶…å‡ºæ•°é‡æ—¶å‘å‡ºå‘Šè­¦ï¼Œè¶…è¿‡çš„MACæ•°é‡å°†æ— æ³•è¢«ç«¯å£å­¦ä¹ åˆ°ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ³›æ´ªè½¬å‘<span class="token number">6</span>.é…ç½®ç«¯å£å®‰å…¨åŠ¨æ€MACåœ°å€æ­¤åŠŸèƒ½å°†åŠ¨æ€å­¦ä¹ åˆ°MACåœ°å€è®¾ç½®å®‰å…¨å±æ€§ï¼Œå…¶ä»–æ²¡æœ‰è¢«å­¦ä¹ çš„éå®‰å…¨å±æ€§çš„MACåœ°å€çš„å¸§å°†è¢«ç«¯å£ä¸¢å¼ƒ<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port-security max-max-num <span class="token number">1</span>é™åˆ¶å®‰å…¨MACåœ°å€æœ€å¤§æ•°é‡ä¸º1ä¸ªï¼Œé»˜è®¤ä¸º1<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port-security protect-action ?é…ç½®å…¶ä»–éå®‰å…¨MACæ•°æ®å¸§çš„å¤„ç†åŠ¨ä½œprotect Discard packets ä¸¢å¼ƒï¼Œä¸äº§ç”Ÿå‘Šè­¦ä¿¡æ¯restrict Discardpackets and warning ä¸¢å¼ƒï¼Œäº§ç”Ÿå‘Šè­¦ä¿¡æ¯<span class="token function">shutdown</span> Shutdown ä¸¢å¼ƒï¼Œå¹¶å°†ç«¯å£shutdown<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>port-security aging-time <span class="token number">300</span>é…ç½®å®‰å…¨MACåœ°å€çš„è€åŒ–æ—¶é—´ä¸º300sï¼Œé»˜è®¤ä¸è€åŒ–åœ¨ç«¯å£åŠ¨æ€MACåœ°å€ä¸­ï¼Œé…ç½®å¦‚ä¸Šçš„è¯ï¼Œåœ¨g0/0/1ç«¯å£å­¦ä¹ åˆ°çš„ç¬¬ä¸€ä¸ªMACåœ°å€è®¾ç½®ä¸ºå®‰å…¨MACåœ°å€ï¼Œæ­¤å¤–å…¶ä»–MACåœ°å€åœ¨æ¥å…¥ç«¯å£çš„è¯éƒ½ä¸äºˆè½¬å‘ï¼Œåœ¨300sååˆ·æ–°å®‰å…¨MACåœ°å€è¡¨ï¼Œå¹¶é‡æ–°å­¦ä¹ å®‰å…¨MACåœ°å€ï¼Œå“ªä¸ªMACåœ°å€å…ˆåˆ°äº¤æ¢æœºï¼Œäº¤æ¢æœºå°±å…ˆå­¦åˆ°å“ªä¸ªMACåœ°å€å°±å°†å…¶è®¾ç½®ä¸ºå®‰å…¨åœ°å€ï¼Œä½†æ˜¯äº¤æ¢æœºé‡å¯åï¼Œå®‰å…¨MACåœ°å€å°±ä¼šè¢«æ¸…ç©ºé‡æ–°å­¦ä¹ ã€‚</code></pre><p>protect-actionä¿æŠ¤è¡Œä¸ºï¼š<br>protectï¼šåªæ¥å—åˆæ³•çš„ï¼Œä¸¢å¼ƒæ‰€æœ‰éæ³•çš„<br>restrictï¼šåªæ¥å—åˆæ³•çš„ï¼Œä¸¢å¼ƒæ‰€æœ‰éæ³•çš„ï¼Œå¹¶ä¸”å‘ä¸€ä¸ªwarningï¼Œå‘SNMPå‘Šè­¦ä¿¡æ¯æŠ¥æ–‡<br>shutdownï¼šæ–­å¼€</p><p>*downç®¡ç†å‘˜å…³æ‰çš„æ¥å£<br>è¿è§„å¯¼è‡´çš„shutdownï¼Œåªèƒ½å…ˆshutdownå†undo shutdownæ‰“å¼€<br>è®¾ç½®ä¸€ä¸ªå»¶è¿Ÿæ—¶é—´ï¼Œdownæ‰å¤šå°‘æ—¶é—´åæ¢å¤ï¼Œ</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬3æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬3æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬3æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬3æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬3æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="æ•°æ®ä¸­å¿ƒIDCæœºæˆ¿"><a href="#æ•°æ®ä¸­å¿ƒIDCæœºæˆ¿" class="headerlink" title="æ•°æ®ä¸­å¿ƒIDCæœºæˆ¿"></a>æ•°æ®ä¸­å¿ƒIDCæœºæˆ¿</h2><p><strong>1.å…‰çº¤æ¥å£</strong>ï¼š</p><p>SCï¼šå¤§æ–¹<br>LCï¼šå°æ–¹(äº¤æ¢æœºä¸Šçš„å…‰æ¨¡å—åŸºæœ¬ä¸Šæ’çš„éƒ½æ˜¯LCæ¥å¤´)<br>FCã€STï¼šä¸€èˆ¬è¿è¥å•†ç”¨</p><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å…‰çº¤æ¥å£-16564712016121.png"><p><strong>2.å…‰çº¤è·³çº¿</strong>ï¼š</p><p>å¤šæ¨¡å…‰çº¤(é’è‰²)ã€å•æ¨¡å…‰çº¤(é»„è‰²)<br><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å…‰çº¤è·³çº¿-16564712016142.png"></p><p>OM2<br>OM3ï¼Œè“è‰²<br>OM4ï¼Œç´«è‰²ï¼Œä¼ è¾“å¸¦å®½æœ€å¤§</p><p><strong>3.å…‰çº¤æ¨¡å—</strong>ï¼š</p><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å…‰çº¤æ¨¡å—-16564712016143.png"><p>åŸºå¸¦å®½å¸¦</p><h2 id="VLANæŠ€æœ¯åŸç†ä¸é…ç½®"><a href="#VLANæŠ€æœ¯åŸç†ä¸é…ç½®" class="headerlink" title="VLANæŠ€æœ¯åŸç†ä¸é…ç½®"></a>VLANæŠ€æœ¯åŸç†ä¸é…ç½®</h2><p><font color="#999AAA">VLANè™šæ‹Ÿå±€åŸŸç½‘ï¼šé€»è¾‘ä¸ŠæŠŠäº¤æ¢æœºåˆ†æˆä¸¤ä¸ªäº¤æ¢æœºï¼Œä¸€ä¸ªVLANç­‰äºä¸€ä¸ªå¹¿æ’­åŸŸï¼Œç­‰äºä¸€ä¸ªç½‘æ®µã€‚</font>ç›®çš„æ˜¯ä¸ºäº†éš”ç¦»å¹¿æ’­åŸŸã€‚</p><br><h3 id="å®éªŒä¸€ï¼šå•ä¸ªäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡"><a href="#å®éªŒä¸€ï¼šå•ä¸ªäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡" class="headerlink" title="å®éªŒä¸€ï¼šå•ä¸ªäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡"></a>å®éªŒä¸€ï¼šå•ä¸ªäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡</h3><br><ul><li><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾</li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å®éªŒä¸€â€”â€”ç½‘ç»œæ‹“æ‰‘-16564712016144.png"><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹Huaweiäº¤æ¢æœºé»˜è®¤VLANä¿¡æ¯</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display vlan  <span class="token comment"># æŸ¥çœ‹æ‰€æœ‰VLANä¿¡æ¯</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display port vlan  <span class="token comment"># æŸ¥çœ‹å„ä¸ªæ¥å£ç±»å‹</span></code></pre><p><font color="#999AAA">1.åä¸ºè®¾å¤‡ä¸Šé»˜è®¤æœ‰ä¸€ä¸ªVLANï¼Œä¸ºVLAN1<br>2.ç”µè„‘çš„VLANä¸æ˜¯ç”µè„‘çš„é…ç½®ï¼Œè€Œæ˜¯ç”µè„‘è¿æ¥çš„ç«¯å£å¯¹åº”çš„VLAN</font></p><ul><li><strong>Step2ï¼š</strong> é…ç½®ä¸»æœºIPåœ°å€å’Œå­ç½‘æ©ç </li></ul><table><thead><tr><th align="center">ä¸»æœº</th><th align="center">IPåœ°å€</th><th align="center">å­ç½‘æ©ç </th></tr></thead><tbody><tr><td align="center">PC1</td><td align="center">10.1.1.1</td><td align="center">255.255.255.0</td></tr><tr><td align="center">PC2</td><td align="center">10.1.1.2</td><td align="center">255.255.255.0</td></tr><tr><td align="center">PC3</td><td align="center">10.1.2.3</td><td align="center">255.255.255.0</td></tr></tbody></table><ul><li><strong>Step3ï¼š</strong> åˆ›å»ºVLAN</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®VLAN</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>vlan <span class="token number">2</span>  <span class="token comment"># åˆ›å»ºVLAN</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>undo vlan <span class="token number">2</span>  <span class="token comment"># åˆ é™¤VLAN</span><span class="token punctuation">[</span>Huawei-vlan2<span class="token punctuation">]</span>describtion something  <span class="token comment"># å¯¹VLANæ·»åŠ æè¿°</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>vlan batch <span class="token number">2</span> to <span class="token number">10</span>  <span class="token comment"># æ‰¹é‡åˆ›å»ºVLAN</span></code></pre><p>ä¸€ä¸ªäº¤æ¢æœºä¸Šæœ€å¤šå¯ä»¥åˆ›å»º4095ä¸ªVLAN</p><ul><li><strong>Step4ï¼š</strong> æŠŠç«¯å£åŠ å…¥åˆ°åˆ›å»ºçš„VLAN</li></ul><p>æ³•1ï¼šç›´æ¥åœ¨VLANæ¨¡å¼ä¸‹æ·»åŠ (<strong>å‰æ</strong>ï¼šæŠŠç«¯å£æ”¹æˆaccessæ¨¡å¼)</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é”™è¯¯ç¤ºèŒƒ</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>vlan <span class="token number">2</span><span class="token punctuation">[</span>Huawei-vlan2<span class="token punctuation">]</span>port GigabitEthernet <span class="token number">0</span>/0/3Error: Trunk or Hybrid port<span class="token punctuation">(</span>s<span class="token punctuation">)</span> can not be added or deleted <span class="token keyword">in</span> this manner.<span class="token punctuation">[</span>Huawei-vlan2<span class="token punctuation">]</span></code></pre><p>æ³•2ï¼šåœ¨ç«¯å£è¯•å›¾ä¸‹å°†ç«¯å£åˆ’å…¥å¯¹åº”çš„VLAN</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo è¿›å…¥äº¤æ¢æœºg0/0/3æ¥å£</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/3<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type ?  access        Access port  dot1q-tunnel  QinQ port  hybrid        Hybrid port  trunk         Trunk port<span class="token comment"># todo æŒ‡å®šç«¯å£ç±»å‹ï¼Œå°†äº¤æ¢æœºæ¥å£ç±»å‹è®¾ç½®ä¸ºæ¥å…¥æ¨¡å¼</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type access<span class="token comment"># todo åº”ç”¨ç›¸åº”çš„VLANåˆ°è¯¥ç«¯å£ä¸Šï¼Œå°†æŸä¸ªæ¥å£åŠ å…¥VLAN</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port default vlan <span class="token number">2</span></code></pre><table><thead><tr><th align="center">ç«¯å£ç±»å‹</th><th align="center">ä½¿ç”¨è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>access</code></td><td align="center">äº¤æ¢æœºè¿ç»ˆç«¯è®¾å¤‡(ç½‘ç»œç”µè§†ã€PCâ€¦â€¦)</td></tr><tr><td align="center"><code>trunk</code></td><td align="center">äº¤æ¢æœºè¿äº¤æ¢æœº</td></tr><tr><td align="center"><code>hybrid</code></td><td align="center">æ··åˆç±»å‹</td></tr></tbody></table><ul><li><strong>Step5ï¼š</strong> ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªVLAN(å†²çªåŸŸ)çš„ä¸»æœºpingäº¤æ¢æœºå†…<strong>å…¶ä»–</strong>VLAN(å†²çªåŸŸ)çš„ä¸»æœºå³å¯pingé€š</li></ul><h3 id="å®éªŒäºŒï¼šä¸åŒäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡"><a href="#å®éªŒäºŒï¼šä¸åŒäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡" class="headerlink" title="å®éªŒäºŒï¼šä¸åŒäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡"></a><strong>å®éªŒäºŒï¼šä¸åŒäº¤æ¢æœºç›¸åŒVLANé—´çš„é€šä¿¡</strong></h3><ul><li><p><strong>ä¸€ã€ä½¿ç”¨ä¸¤æ ¹çº¿å®ç°VLAN</strong></p></li><li><p><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾(ä¹¦æ¥ä¸Šå›<span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</p></li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å®éªŒäºŒâ€”â€”ç½‘ç»œæ‹“æ‰‘1-16564712016146.png"><ul><li><strong>Step2ï¼š</strong> åœ¨ä¸¤å°äº¤æ¢æœºä¸Šå„è‡ªé…ç½®VLAN(æŠŠæŸä¸€æ¡çº¿è·¯çš„ç«¯å£åŠ å…¥åˆ›å»ºçš„VLAN)</li></ul><p>äº¤æ¢æœºLSW1çš„é…ç½®ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®LSW1çš„VLAN</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/4  <span class="token comment"># è¿›å…¥ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port link-type access  <span class="token comment"># æŒ‡å®šç«¯å£ç±»å‹</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port default vlan <span class="token number">2</span>  <span class="token comment"># todo åº”ç”¨ç›¸åº”çš„VLANåˆ°è¯¥ç«¯å£ä¸Šï¼Œå°†æŸä¸ªæ¥å£åŠ å…¥VLAN</span></code></pre><p>äº¤æ¢æœºLSW2çš„é…ç½®ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®LSW2çš„VLAN</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/2  <span class="token comment"># è¿›å…¥ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port link-type access  <span class="token comment"># æŒ‡å®šç«¯å£ç±»å‹</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port default vlan <span class="token number">2</span>  <span class="token comment"># todo åº”ç”¨ç›¸åº”çš„VLANåˆ°è¯¥ç«¯å£ä¸Šï¼Œå°†æŸä¸ªæ¥å£åŠ å…¥VLAN</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>inter g0/0/3  <span class="token comment"># è¿›å…¥ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type access  <span class="token comment"># æŒ‡å®šç«¯å£ç±»å‹</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port default vlan <span class="token number">2</span>  <span class="token comment"># todo åº”ç”¨ç›¸åº”çš„VLANåˆ°è¯¥ç«¯å£ä¸Šï¼Œå°†æŸä¸ªæ¥å£åŠ å…¥VLAN</span></code></pre><ul><li><strong>Step3.5ï¼š</strong> å…³é—­STPç”Ÿæˆæ ‘åè®®</li></ul><p><font color="#999AAA">ç”±äºç”Ÿæˆæ ‘é˜»å¡çš„é—®é¢˜ï¼Œå†²çªåŸŸä¹‹å†…çš„ä¸»æœºæ— æ³•pingé€šï¼Œæ‰€ä»¥è¦å…³é—­Huaweiäº¤æ¢æœºçš„STPç”Ÿæˆæ ‘åè®®ã€‚</font></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>display stp  <span class="token comment"># æ˜¾ç¤ºSTPä¿¡æ¯</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>display stp brief  <span class="token comment"># æ˜¾ç¤ºSTPç®€è¦ä¿¡æ¯</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>undo stp <span class="token builtin class-name">enable</span>  <span class="token comment"># å…³é—­STPç”Ÿæˆæ ‘åè®®</span>Warning: The global STP state will be changed. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>yInfo: This operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment<span class="token punctuation">..</span>.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span></code></pre><ul><li><p><strong>Step4ï¼š</strong> ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªäº¤æ¢æœºçš„ä¸€ä¸ªVLAN(å†²çªåŸŸ)çš„ä¸»æœºpingå…¶ä»–äº¤æ¢æœºå†…<strong>åŒä¸€ä¸ª</strong>VLAN(å†²çªåŸŸ)çš„ä¸»æœºå³å¯pingé€š</p></li><li><p><strong>äºŒã€ä½¿ç”¨ä¸€æ ¹çº¿(é€šè¿‡æ ‡ç­¾ç®¡ç†)å®ç°VLAN</strong></p></li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 VLANæ ‡ç­¾-16564712016145.png"><p>UTï¼šuntagged ä¸æ‰“æ ‡<br>TGï¼štagged æ‰“æ ‡</p><ul><li><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾(ä¹¦æ¥ä¸Šå›<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å®éªŒäºŒâ€”â€”ç½‘ç»œæ‹“æ‰‘2-16564712016147.png"><ul><li><strong>Step2ï¼š</strong> åœ¨ä¸¤å°äº¤æ¢æœºä¸Šå„è‡ªé…ç½®VLAN</li></ul><p>æ³¨ï¼š<br><strong>1.</strong> éœ€è¦ä¸€å±‚ä¸€å±‚çš„æ¥åˆ é™¤é…ç½®ï¼Œç›´åˆ°æ¢å¤åˆ°é»˜è®¤çš„é…ç½®ã€‚å¦åˆ™ä¼šå‡ºç°é”™è¯¯ï¼š<code>Error: Please renew the default configurations.</code><br><strong>2.</strong> æˆ–è€…ç›´æ¥åˆ é™¤çº¿è·¯ç›´æ¥é…ç½®ã€‚</p><p>äº¤æ¢æœºLSW1çš„é…ç½®ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®LSW1çš„VLAN(åˆ é™¤çº¿è·¯)</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/4  <span class="token comment"># è¿›å…¥ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port link-type trunk  <span class="token comment"># æŒ‡å®šç«¯å£ç±»å‹</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port trunk allow-pass vlan <span class="token number">2</span>  <span class="token comment"># è®¾ç½®ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span><span class="token comment"># [Huawei-GigabitEthernet0/0/4]port trunk allow-pass vlan all  # è®¾ç½®æ‰€æœ‰ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span></code></pre><p>äº¤æ¢æœºLSW2çš„é…ç½®ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®LSW2çš„VLAN(åˆ é™¤é…ç½®)</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/3  <span class="token comment"># è¿›å…¥ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>undo port default vlan<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>undo port link-type<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type trunk  <span class="token comment"># æŒ‡å®šç«¯å£ç±»å‹</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port trunk allow-pass vlan <span class="token number">2</span>  <span class="token comment"># è®¾ç½®ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span><span class="token comment"># [Huawei-GigabitEthernet0/0/3]port trunk allow-pass vlan all  # è®¾ç½®æ‰€æœ‰ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span></code></pre><ul><li><p><strong>Step3ï¼š</strong> ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªäº¤æ¢æœºçš„ä¸€ä¸ªVLAN(å†²çªåŸŸ)çš„ä¸»æœºpingå…¶ä»–äº¤æ¢æœºå†…<strong>åŒä¸€ä¸ª</strong>VLAN(å†²çªåŸŸ)çš„ä¸»æœºå³å¯pingé€š</p></li><li><p><strong>Step4.1ï¼š</strong> æŠ“åŒ…æµ‹è¯•(å¼€å§‹æŠ“åŒ…å³å¯æŸ¥çœ‹æ•°æ®å¸§ä¿¡æ¯)</p></li></ul><p>æ³¨ï¼š<br><strong>1.</strong> trunkå°è£…çš„æ ‡ç­¾802.1Q(æ€ç§‘æœ‰ç§æœ‰çš„åè®®ISL)<br><strong>2.</strong> æœ¬å¾VLAN(Navtive Vlan)ï¼Œåªè¦ä¸æ‰“æ ‡çš„å¸§å°±æ˜¯è½¬å‘åˆ°æœ¬å¾VLANçš„å¸§ã€‚<br><font color="#999AAA">ä¾‹å¦‚ï¼Œå¦‚æœ VLAN 99 è¢«é…ç½®ä¸ºæœ¬å¾ VLANï¼Œåˆ™PVIDä¸º 99ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ— æ ‡è®°æµé‡éƒ½è¢«è½¬å‘åˆ° VLAN 99ã€‚</font><br><strong>3.</strong> æ‰€ä»¥ï¼Œä¸¤ä¸ªç›´è¿çš„äº¤æ¢æœºç«¯å£çš„æœ¬å¾VLANå¿…é¡»ç›¸åŒ<br><strong>4.</strong> HuaweiçœŸæœºä¸Šå¯ä»¥åŒæ—¶è¿›ä¸¤ä¸ªç«¯å£è¿›è¡Œç›¸åŒçš„æ“ä½œ</p><ul><li><strong>ä¸‰ã€ä½¿ç”¨ä¸‰ä¸ªäº¤æ¢æœºä¸€æ ¹çº¿å®ç°VLAN</strong></li></ul><p><font color="#999AAA">äº¤æ¢æœºä¹‹é—´è¦é€šï¼Œè¦è®¾ç½®<strong>ç›¸åŒ</strong>çš„VLANã€‚</font></p><ul><li><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾(ä¹¦æ¥ä¸Šå›<span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å®éªŒäºŒâ€”â€”ç½‘ç»œæ‹“æ‰‘3-16564712016148.png"><ul><li><strong>Step2ï¼š</strong> åœ¨ä¸‰å°äº¤æ¢æœºä¸Šå„è‡ªé…ç½®VLAN</li></ul><p>äº¤æ¢æœºLSW1å’ŒLSW2çš„é…ç½®ï¼šç•¥</p><p>äº¤æ¢æœºLSW3çš„é…ç½®ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®LSW2çš„VLAN</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>vlan <span class="token number">2</span><span class="token punctuation">[</span>Huawei-vlan2<span class="token punctuation">]</span>inter g0/0/2  <span class="token comment"># è¿›å…¥ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port link-type trunk  <span class="token comment"># æŒ‡å®šç«¯å£ç±»å‹</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>port trunk allow-pass vlan <span class="token number">2</span>  <span class="token comment"># è®¾ç½®ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span><span class="token comment"># [Huawei-GigabitEthernet0/0/2]port trunk allow-pass vlan all  # è®¾ç½®ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/2<span class="token punctuation">]</span>inter g0/0/3  <span class="token comment"># è¿›å…¥ç«¯å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port link-type trunk  <span class="token comment"># æŒ‡å®šç«¯å£ç±»å‹</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/3<span class="token punctuation">]</span>port trunk allow-pass vlan <span class="token number">2</span>  <span class="token comment"># è®¾ç½®ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span><span class="token comment"># [Huawei-GigabitEthernet0/0/3]port trunk allow-pass vlan all  # è®¾ç½®ç«¯å£å…è®¸é€šè¿‡çš„VLAN</span></code></pre><ul><li><strong>Step3ï¼š</strong> ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªäº¤æ¢æœºçš„ä¸€ä¸ªVLAN(å†²çªåŸŸ)çš„ä¸»æœºpingå…¶ä»–äº¤æ¢æœºå†…<strong>åŒä¸€ä¸ª</strong>VLAN(å†²çªåŸŸ)çš„ä¸»æœºå³å¯pingé€š</li></ul><h3 id="å®éªŒä¸‰ï¼šVLANé—´è·¯ç”±-å•è‡‚è·¯ç”±"><a href="#å®éªŒä¸‰ï¼šVLANé—´è·¯ç”±-å•è‡‚è·¯ç”±" class="headerlink" title="å®éªŒä¸‰ï¼šVLANé—´è·¯ç”±(å•è‡‚è·¯ç”±)"></a><strong>å®éªŒä¸‰ï¼šVLANé—´è·¯ç”±(å•è‡‚è·¯ç”±)</strong></h3><p>é€šè¿‡è·¯ç”±å™¨è½¬å‘ä¸åŒç½‘æ®µçš„æ•°æ®ã€‚</p><ul><li><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾(ä¹¦æ¥ä¸Šå›<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</li></ul><p><font color="#999AAA">è·¯ç”±å™¨AR1é€‰AR2220</font><br><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å®éªŒä¸‰â€”â€”ç½‘ç»œæ‹“æ‰‘-16564712016149.png"></p><ul><li><strong>Step2ï¼š</strong> é…ç½®äº¤æ¢æœºçš„VLAN</li></ul><p>æŠŠäº¤æ¢æœºçš„æ¥å£æ¥å…¥æ¨¡å¼å…¨éƒ¨è®¾ç½®æˆtrunkã€‚</p><p>è¿æ¥ä¸»æœºçš„äº¤æ¢æœºçš„æ¥å£ï¼šç•¥</p><p>è¿æ¥è·¯ç”±å™¨çš„äº¤æ¢æœºçš„æ¥å£ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo è®¾ç½®äº¤æ¢æœºæ¥å£æ¨¡å¼ä¸ºtrunk</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/4<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port link-type trunk<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/4<span class="token punctuation">]</span>port trunk allow-pass vlan all</code></pre><ul><li><strong>Step3ï¼š</strong> é…ç½®è·¯ç”±å™¨</li></ul><p><font color="#999AAA">è·¯ç”±å™¨ï¼šç”¨æ¥è½¬å‘ä¸åŒç½‘æ®µçš„è®¾å¤‡</font></p><p><font color="#999AAA">åœ¨æœ¬å®éªŒä¸­ï¼š</font><br>VLAN1 è¦é€šä¿¡ï¼Œåœ¨ç‰©ç†æ¥å£ä¸Šé…IPå³å¯<br>VLAN2 è¦é€šä¿¡ï¼Œåˆ™è¦ç”¨æ‰“æ ‡ç­¾çš„æ–¹æ³•</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®è·¯ç”±å™¨</span><span class="token comment"># todo é…ç½®g0/0/0æ¥å£</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/0  <span class="token comment"># è¿›å…¥æ¥å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip address <span class="token number">10.1</span>.1.254 <span class="token number">24</span>  <span class="token comment"># é…ç½®IP</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>display this  <span class="token comment"># æ˜¾ç¤ºé…ç½®ä¿¡æ¯</span><span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span>interface GigabitEthernet0/0/0 <span class="token function">ip</span> address <span class="token number">10.1</span>.1.254 <span class="token number">255.255</span>.255.0 <span class="token comment">#</span><span class="token builtin class-name">return</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span><span class="token comment"># todo é…ç½®g0/0/0.2å­æ¥å£(é€»è¾‘æ¥å£)</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>inter g0/0/0.2  <span class="token comment"># è¿›å…¥æ¥å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0.2<span class="token punctuation">]</span>dot1q termination vid <span class="token number">2</span>  <span class="token comment"># å°è£…dot1qåè®®ï¼Œè¯¥å­æ¥å£å¯¹åº”VLAN2ï¼Œè¯¥æ¥å£æ”¶å‘çš„æ•°æ®å¸§éƒ½è¦æ‰“ä¸Šæ ‡ç­¾2</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0.2<span class="token punctuation">]</span>ip address <span class="token number">10.1</span>.2.254 <span class="token number">24</span>  <span class="token comment"># æ·»åŠ IP</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0.2<span class="token punctuation">]</span>arp broadcast <span class="token builtin class-name">enable</span>  <span class="token comment"># å¼€å¯ç»ˆç»“å­æ¥å£çš„ARPå¹¿æ’­åŠŸèƒ½</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0.2<span class="token punctuation">]</span>display this  <span class="token comment"># æ˜¾ç¤ºé…ç½®ä¿¡æ¯</span><span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span>interface GigabitEthernet0/0/0.2 dot1q termination vid <span class="token number">2</span> <span class="token function">ip</span> address <span class="token number">10.1</span>.2.254 <span class="token number">255.255</span>.255.0  arp broadcast <span class="token builtin class-name">enable</span><span class="token comment">#</span><span class="token builtin class-name">return</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0.2<span class="token punctuation">]</span></code></pre><p>æ³¨ï¼š<br><strong>1.</strong> ç‰©ç†æ¥å£æ•°æ®å¸§ä¸æ‰“æ ‡ï¼Œé€»è¾‘æ¥å£æ•°æ®å¸§æ‰æ‰“æ ‡ã€‚(é€»è¾‘æ¥å£ä¾èµ–ç‰©ç†æ¥å£é€šä¿¡)<br><strong>2.</strong> g0/0/0.1å’ŒVLAN1æ²¡æœ‰å¯¹åº”å…³ç³»ï¼Œg0/0/0.xéšä¾¿ç”¨ã€‚<br><strong>3.</strong> <strong>è·¨VLANé€šä¿¡è¿‡ç¨‹</strong>ï¼ï¼ï¼</p><ul><li><p><strong>Step3.5ï¼š</strong> ä¸»æœºé…ç½®ç›¸åº”çš„ç½‘å…³</p></li><li><p><strong>Step4ï¼š</strong> ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªVLAN(å†²çªåŸŸ)çš„ä¸»æœºpingå…¶ä»–VLAN(å†²çªåŸŸ)çš„ä¸»æœºå³å¯</p></li></ul><h3 id="å®éªŒå››ï¼šVLANé—´è·¯ç”±-ä¸‰å±‚äº¤æ¢"><a href="#å®éªŒå››ï¼šVLANé—´è·¯ç”±-ä¸‰å±‚äº¤æ¢" class="headerlink" title="å®éªŒå››ï¼šVLANé—´è·¯ç”±(ä¸‰å±‚äº¤æ¢)"></a><strong>å®éªŒå››ï¼šVLANé—´è·¯ç”±(ä¸‰å±‚äº¤æ¢)</strong></h3><ul><li><p><strong>ä¸€ã€ä½¿ç”¨ä¸¤ä¸ªäº¤æ¢æœºå®ç°VLANé—´é€šä¿¡(ä¸‰å±‚äº¤æ¢æœºä¹‹é—´çš„VLANè·¯ç”±)</strong></p></li><li><p><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾(ä¹¦æ¥ä¸Šå›<span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</p></li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å®éªŒå››â€”â€”ç½‘ç»œæ‹“æ‰‘1-165647120161410.png"><ul><li><p><strong>Step1.5ï¼š</strong> é…ç½®ä¸»æœºçš„IPåœ°å€ã€å­ç½‘æ©ç ã€ç½‘å…³(ç•¥)</p></li><li><p><strong>Step2ï¼š</strong> é…ç½®äº¤æ¢æœºçš„VLAN</p></li></ul><p>ä¸ºäº¤æ¢æœºç«¯å£åˆ’åˆ†VLANï¼šç•¥</p><p>ä¸ºäº¤æ¢æœºæ¥å£é…ç½®IPï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä¸ºäº¤æ¢æœºæ¥å£é…ç½®IP</span><span class="token punctuation">[</span>Huawei-Vlanif2<span class="token punctuation">]</span>int vlan <span class="token number">1</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.1.254 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>int vlan <span class="token number">2</span><span class="token punctuation">[</span>Huawei-Vlanif2<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">10.1</span>.2.254 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-Vlanif2<span class="token punctuation">]</span></code></pre><ul><li><strong>Step2.5ï¼š</strong> ä¸»æœºé…ç½®ç½‘å…³</li><li><strong>Step3ï¼š</strong> ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªVLANçš„ä¸»æœºpingå…¶ä»–VLANçš„ä¸»æœºå³å¯</li><li><strong>Step4ï¼š</strong> æŠ“åŒ…</li></ul><p>ç»è¿‡äº¤æ¢æœºè½¬å‘çš„æ•°æ®å¸§<strong>ä¸æ‰“</strong>æ ‡ç­¾ï¼Œå› ä¸ºå…¶è¿æ¥å„ä¸»æœºæ˜¯ <strong>access</strong> æ¨¡å¼ã€‚</p><h2 id="DHCPåŸç†ä¸é…ç½®"><a href="#DHCPåŸç†ä¸é…ç½®" class="headerlink" title="DHCPåŸç†ä¸é…ç½®"></a>DHCPåŸç†ä¸é…ç½®</h2><ul><li><p><strong>ä¸€ã€ä½¿ç”¨äº¤æ¢æœºé…ç½®DHCPå’ŒDNS</strong></p></li><li><p><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾(ä¹¦æ¥ä¸Šå›<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</p></li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 DHCPå®éªŒ1â€”â€”ç½‘ç»œæ‹“æ‰‘-165647120161411.png"><ul><li><strong>Step2ï¼š</strong> é…ç½®ä¸‰å±‚äº¤æ¢æœºçš„DHCPå’ŒDNSæœåŠ¡</li></ul><p><strong>æ³•1ï¼š</strong> åŸºäºæ¥å£DHCPé…ç½®</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®DHCPå’ŒDNS</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp <span class="token builtin class-name">enable</span>  <span class="token comment"># å¼€å¯DHCPæœåŠ¡</span>Info: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter vlan <span class="token number">1</span>  <span class="token comment"># è¿›å…¥VLAN1</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> interface  <span class="token comment"># ä½¿ç”¨æ¥å£çš„IPä½œä¸ºç½‘å…³</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>dhcp server lease day <span class="token number">0</span> hour <span class="token number">2</span> minute <span class="token number">0</span>  <span class="token comment"># è®¾ç½®DHCPç§Ÿçº¦æ—¶é—´</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>dhcp server dns-list <span class="token number">114.114</span>.114.114  <span class="token comment"># è®¾ç½®DNSæœåŠ¡å™¨åœ°å€114.114.114.114(ä¸‡èƒ½DNSåœ°å€)</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span></code></pre><p><strong>æ³•2ï¼š</strong> åŸºäºDHCPåœ°å€æ± åˆ†é…å…¨å±€é…ç½®</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®DHCPå’ŒDNS</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>ip pool <span class="token number">1</span>  <span class="token comment"># åˆ›å»ºIPåœ°å€æ± </span>Info:It's successful to create an IP address pool.<span class="token punctuation">[</span>Huawei-ip-pool-1<span class="token punctuation">]</span>network <span class="token number">10.1</span>.2.0 mask <span class="token number">24</span>  <span class="token comment"># é…ç½®ç½‘æ®µå’Œæ©ç </span><span class="token punctuation">[</span>Huawei-ip-pool-1<span class="token punctuation">]</span>gateway-list <span class="token number">10.1</span>.2.254  <span class="token comment"># é…ç½®ç½‘å…³</span><span class="token punctuation">[</span>Huawei-ip-pool-1<span class="token punctuation">]</span>dns-list <span class="token number">114.114</span>.114.114  <span class="token comment"># è®¾ç½®DNSåœ°å€</span><span class="token punctuation">[</span>Huawei-ip-pool-1<span class="token punctuation">]</span>lease day <span class="token number">0</span> hour <span class="token number">2</span> minute <span class="token number">0</span>  <span class="token comment"># è®¾ç½®DHCPç§Ÿçº¦æ—¶é—´</span><span class="token punctuation">[</span>Huawei-ip-pool-1<span class="token punctuation">]</span>excluded-ip-address <span class="token number">10.1</span>.2.200 <span class="token number">10.1</span>.2.250  <span class="token comment"># è¿™äº›åœ°å€ä¸ä¼šè¢«åˆ†é…å‡ºå»</span><span class="token punctuation">[</span>Huawei-ip-pool-1<span class="token punctuation">]</span>inter vlan <span class="token number">2</span>  <span class="token comment"># è¿›å…¥VLAN2</span><span class="token punctuation">[</span>Huawei-Vlanif2<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> global  <span class="token comment"># è®¾ç½®DHCPåŸºäºå…¨å±€é…ç½®</span></code></pre><p>æ³¨ï¼š<br><strong>1.</strong> DHCPè·å–çš„åœ°å€æœ‰ç¥–çº¦æ—¶é—´<br><strong>2.</strong> ç»™åˆ«äººåˆ†ç¥–çº¦æ—¶é—´ä¸€èˆ¬åˆ†2h<br><strong>3.</strong> ä¸€èˆ¬è¿‡äº†ç§Ÿçº¦æ—¶é—´çš„2/3ï¼ŒPCä¼šå‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šç»§ç»­ç»­ç§Ÿ</p><ul><li><p><strong>Step3ï¼š</strong> ä¸»æœºå¼€å¯å¹¶åº”ç”¨DHCPé…ç½®ï¼Œå³å¯è·å¾—DHCPè‡ªåŠ¨åˆ†é…çš„IPåœ°å€</p></li><li><p><strong>äºŒã€ä½¿ç”¨DHCPä¸­ç»§é…ç½®DHCPå’ŒDNS</strong></p></li><li><p><strong>Step1ï¼š</strong> ç”»å‡ºç½‘ç»œæ‹“æ‰‘å›¾(ä¹¦ä¸æ¥ä¸Šå›)</p></li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 DHCPå®éªŒ2â€”â€”ç½‘ç»œæ‹“æ‰‘-165647120161512.png"><ul><li><strong>Step2ï¼š</strong> é…ç½®è·¯ç”±å™¨çš„DHCPå’ŒDNSæœåŠ¡</li></ul><p>é…ç½®è·¯ç”±å™¨<strong>AR2</strong>ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®æ¥å£IPã€é™æ€è·¯ç”±</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp <span class="token builtin class-name">enable</span>  <span class="token comment"># å¼€å¯DHCPæœåŠ¡</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int g0/0/0  <span class="token comment"># è¿›å…¥æ¥å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">23.1</span>.1.3 <span class="token number">24</span>  <span class="token comment"># æ·»åŠ IPåœ°å€ã€æ©ç </span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>q<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>ip route-static <span class="token number">0.0</span>.0.0 <span class="token number">0.0</span>.0.0 <span class="token number">23.1</span>.1.2  <span class="token comment"># ç¼ºçœè·¯ç”±ï¼Œæ‰€æœ‰ç½‘ç»œåˆ°è¾¾æ‰€æœ‰ç½‘ç»œçš„è·¯å¾„éƒ½æ˜¯é€šè¿‡23.1.1.2è¿™ä¸ªåœ°å€è½¬å‘çš„</span><span class="token comment"># todo åˆ›å»ºDHCPåœ°å€æ± åˆ†é…IP</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip pool pc  <span class="token comment"># åˆ›å»ºIPåœ°å€æ± </span>Info: It's successful to create an IP address pool.<span class="token punctuation">[</span>Huawei-ip-pool-pc<span class="token punctuation">]</span>network <span class="token number">192.168</span>.1.0 mask <span class="token number">255.255</span>.255.0  <span class="token comment"># è®¾ç½®ç½‘æ®µã€æ©ç </span><span class="token punctuation">[</span>Huawei-ip-pool-pc<span class="token punctuation">]</span>gateway-list <span class="token number">192.168</span>.1.1  <span class="token comment"># è®¾ç½®ç½‘å…³</span><span class="token punctuation">[</span>Huawei-ip-pool-pc<span class="token punctuation">]</span>dns-list <span class="token number">114.114</span>.114.114  <span class="token comment"># è®¾ç½®DNSåœ°å€</span><span class="token punctuation">[</span>Huawei-ip-pool-pc<span class="token punctuation">]</span>dis th  <span class="token comment"># æ˜¾ç¤ºæœ¬é…ç½®</span><span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span><span class="token function">ip</span> pool pc gateway-list <span class="token number">192.168</span>.1.1  network <span class="token number">192.168</span>.1.0 mask <span class="token number">255.255</span>.255.0  dns-list <span class="token number">114.114</span>.114.114 <span class="token comment">#</span><span class="token builtin class-name">return</span><span class="token comment"># todo å¯ç”¨DHCP</span><span class="token punctuation">[</span>Huawei-ip-pool-pc<span class="token punctuation">]</span>inter g0/0/0  <span class="token comment"># è¿›å…¥æ¥å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> global  <span class="token comment"># è®¾ç½®DHCPå…¨å±€é…ç½®</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>dis th  <span class="token comment"># æ˜¾ç¤ºæœ¬é…ç½®</span><span class="token punctuation">[</span>V200R003C00<span class="token punctuation">]</span><span class="token comment">#</span>interface GigabitEthernet0/0/0 <span class="token function">ip</span> address <span class="token number">23.1</span>.1.3 <span class="token number">255.255</span>.255.0  dhcp <span class="token keyword">select</span> global<span class="token comment">#</span><span class="token builtin class-name">return</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span></code></pre><p>é…ç½®è·¯ç”±å™¨<strong>AR1</strong>ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo é…ç½®IPåœ°å€</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/1  <span class="token comment"># è¿›å…¥æ¥å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">23.1</span>.1.2 <span class="token number">24</span>  <span class="token comment"># æ·»åŠ IP</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/1<span class="token punctuation">]</span>ping <span class="token number">23.1</span>.1.3  <span class="token comment"># æµ‹è¯•ç½‘ç»œè¿é€šæ€§</span>  PING <span class="token number">23.1</span>.1.3: <span class="token number">56</span>  data bytes, press CTRL_C to <span class="token builtin class-name">break</span>    Reply from <span class="token number">23.1</span>.1.3: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">100</span> ms    Reply from <span class="token number">23.1</span>.1.3: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">20</span> ms    Reply from <span class="token number">23.1</span>.1.3: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">30</span> ms    Reply from <span class="token number">23.1</span>.1.3: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">56</span> <span class="token assign-left variable">Sequence</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">30</span> ms  --- <span class="token number">23.1</span>.1.3 <span class="token function">ping</span> statistics ---    <span class="token number">4</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> transmitted    <span class="token number">4</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> received    <span class="token number">0.00</span>% packet loss    round-trip min/avg/max <span class="token operator">=</span> <span class="token number">20</span>/45/100 ms<span class="token comment"># todo DHCPä¸­ç»§</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dhcp <span class="token builtin class-name">enable</span>  <span class="token comment"># å¼€å¯DHCPæœåŠ¡</span>Info: The operation may take a few seconds. Please <span class="token function">wait</span> <span class="token keyword">for</span> a moment.done.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/0  <span class="token comment"># è¿›å…¥æ¥å£</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.1.1 <span class="token number">24</span>  <span class="token comment"># æ·»åŠ IPåœ°å€</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>dhcp <span class="token keyword">select</span> relay<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>dhcp relay server-ip <span class="token number">23.1</span>.1.3  <span class="token comment"># æŒ‡å‘DHCPæœåŠ¡å™¨IP</span></code></pre><p>AR2æ ¹æ®æºIPåœ°å€åˆ¤æ–­åº”è¯¥ç”¨å“ªä¸€ä¸ªåœ°å€æ± åˆ†é…IPåœ°å€<br>å¹¿æ’­åŒ…-&gt;å•æ’­åŒ…</p><ul><li><strong>Step3ï¼š</strong> æŠ“åŒ…æµ‹è¯•(ç•¥)</li></ul><h2 id="STPåŸç†ä¸é…ç½®"><a href="#STPåŸç†ä¸é…ç½®" class="headerlink" title="STPåŸç†ä¸é…ç½®"></a>STPåŸç†ä¸é…ç½®</h2><p>STPä½œç”¨ï¼šæ¶ˆé™¤ç¯è·¯ã€é˜»å¡ç«¯å£ã€é“¾è·¯å¤‡ä»½</p><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 STPä½œç”¨â€”â€”æ¶ˆé™¤ç¯è·¯.png"><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 STPä½œç”¨â€”â€”é˜»å¡ç«¯å£-165647120161514.png"><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 STPä½œç”¨â€”â€”é“¾è·¯å¤‡ä»½.png"><h3 id="ç¯è·¯å¼•èµ·çš„é—®é¢˜"><a href="#ç¯è·¯å¼•èµ·çš„é—®é¢˜" class="headerlink" title="ç¯è·¯å¼•èµ·çš„é—®é¢˜"></a>ç¯è·¯å¼•èµ·çš„é—®é¢˜</h3><p><strong>äº¤æ¢æœºè½¬å‘æµç¨‹</strong>ï¼šäº¤æ¢æœºæ”¶åˆ°æ•°æ®å¸§ï¼Œå…ˆæŠŠæºMACæ·»åŠ åˆ°MACè¡¨ä¸­ï¼Œç„¶åæ ¹æ®ç›®æ ‡MACè½¬å‘ ã€‚å¦‚æœMACè¡¨ä¸­æ²¡æœ‰ç›®çš„MACåˆ™æ³›æ´ª(æŠŠå¸§å¤åˆ¶æˆå¤šä»½ï¼Œå‘é™¤äº†æ¥æ”¶ç«¯å£å¤–å…¶ä»–<strong>ç›¸åŒVLAN</strong>ä¸‹çš„æ‰€æœ‰æ¥å£ä»¥åŠ<strong>trunkæ¥å£</strong>è½¬å‘å•æ’­å¸§)ã€‚</p><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 äº¤æ¢æœºè½¬å‘æµç¨‹-165647120161516.png"><p><strong>é—®é¢˜</strong>ï¼š</p><p><strong>ç¯è·¯å¼•èµ·çš„é—®é¢˜ä¹‹ä¸€â€”â€”å¹¿æ’­é£æš´</strong>.<br><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 å¹¿æ’­é£æš´-165647120161517.png"></p><p><strong>ç¯è·¯å¼•èµ·çš„é—®é¢˜ä¹‹äºŒâ€”â€”MACåœ°å€è¡¨ä¸ç¨³å®š</strong>.<br><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 MACåœ°å€è¡¨ä¸ç¨³å®š-165647120161518.png"></p><p><strong>ç¯è·¯å¼•èµ·çš„é—®é¢˜ä¹‹ä¸‰â€”â€”å¸§çš„å¤šä¸ªå‰¯æœ¬</strong>.</p><h3 id="ç”Ÿæˆæ ‘åŸºæœ¬è®¡ç®—è¿‡ç¨‹"><a href="#ç”Ÿæˆæ ‘åŸºæœ¬è®¡ç®—è¿‡ç¨‹" class="headerlink" title="ç”Ÿæˆæ ‘åŸºæœ¬è®¡ç®—è¿‡ç¨‹"></a>ç”Ÿæˆæ ‘åŸºæœ¬è®¡ç®—è¿‡ç¨‹</h3><ul><li>Step1. é€‰å–æ ¹æ¡¥/æ ¹äº¤æ¢æœº(ä¸€ä¸ªå¹¿æ’­åŸŸå†…æ¡¥ID<font color="#999AAA">(æ¡¥IDç”±ç½‘æ¡¥ä¼˜å…ˆçº§å’ŒMACåœ°å€ç»„æˆ)</font>æœ€å°çš„äº¤æ¢æœº)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dis stp  <span class="token comment"># æŸ¥çœ‹äº¤æ¢æœºSTPä¿¡æ¯</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>dis stp brief  <span class="token comment"># æŸ¥çœ‹äº¤æ¢æœºSTPä¿¡æ¯</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>stp priorit <span class="token number">4096</span>  <span class="token comment"># ä¿®æ”¹äº¤æ¢æœºä¼˜å…ˆçº§</span></code></pre><p><strong>1.</strong> ä¼˜å…ˆçº§æ­¥é•¿ 4096<br><strong>2.</strong> Huawei äº¤æ¢æœºç«¯å£å¼€é”€é»˜è®¤ä¸º 2000</p><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 äº¤æ¢æœºç«¯å£è§’è‰²-165647120161519.png"><ul><li>Step2. <strong>Root Port</strong> æ ¹ç«¯å£(<strong>éæ ¹</strong>äº¤æ¢æœºåˆ°è¾¾<strong>æ ¹</strong>äº¤æ¢æœºç´¯è®¡è·¯å¾„å¼€é”€æœ€å°çš„æ¥å£)</li></ul><p>æ ¹ç«¯å£RPæ¯”è¾ƒä¼˜å…ˆçº§ï¼š</p><ol><li>æ ¹æ¡¥IDå¤§å°</li><li>åˆ°è¾¾æ ¹æ¡¥ç´¯è®¡è·¯å¾„å¼€é”€</li><li>æŒ‡å®šæ¡¥ID/<strong>å‘é€è€…</strong>æ¡¥ID</li><li>æŒ‡å®šPID(ç«¯å£IDï¼šport id)/<strong>å‘é€è€…</strong>ç«¯å£ID = ç«¯å£ä¼˜å…ˆçº§(é»˜è®¤128) + ç«¯å£å·</li><li><strong>æœ¬åœ°</strong>ç«¯å£ID</li></ol><p>æ³¨ï¼š<br><strong>1.</strong> <strong>æ ¹æ¡¥</strong>ä¸Šçš„ç«¯å£<strong>ä¸æ˜¯</strong>æ ¹ç«¯å£ï¼ï¼ï¼<br><strong>2.</strong> <strong>æ ¹ç«¯å£</strong>æ˜¯åœ¨<strong>éæ ¹æ¡¥</strong>ä¸Šçš„ç«¯å£ï¼ï¼ï¼<br><strong>3.</strong> æ ¹æ¡¥ç¡®å®šä¹‹å‰ï¼Œäº¤æ¢æœºåªèƒ½å‘é€BPDUï¼Œä¸èƒ½è½¬å‘BPDU<br><strong>4.</strong> ä¸€æ—¦æ ¹æ¡¥è¢«é€‰å‡ºæ¥ï¼Œéæ ¹æ¡¥æ²¡æœ‰æƒåˆ©å‘é€BPDU</p><p>è½¬å‘ï¼šä¸æ”¹åŠ¨æ•°æ®å¸§<br>ä¸­ç»§ï¼šæ”¹åŠ¨æ•°æ®å¸§ï¼Œç„¶åè½¬å‘</p><ul><li>Step3. <strong>Designated Port</strong> æŒ‡å®šç«¯å£(ä¸€ä¸ªç½‘æ®µ/å†²çªåŸŸå†…åˆ°è¾¾æ ¹æ¡¥ç´¯è®¡å¼€é”€æœ€å°çš„æ¥å£)</li></ul><p>ä¸€ä¸ª<strong>å†²çªåŸŸ</strong>å°±è¦é€‰ä¸€ä¸ª<strong>æŒ‡å®šç«¯å£</strong></p><p>æŒ‡å®šç«¯å£æ¯”è¾ƒä¼˜å…ˆçº§ï¼š</p><ol><li>åˆ°è¾¾æ ¹æ¡¥ç´¯è®¡å¼€é”€</li><li>æŒ‡å®šæ¡¥ID</li></ol><ul><li>Step4. <strong>Alternate Port</strong> éæŒ‡å®š/é¢„å¤‡ç«¯å£(éæ ¹äº¤æ¢æœºä¸Šé™¤æ ¹ç«¯å£å’ŒæŒ‡å®šç«¯å£å¤–çš„å…¶ä»–ç«¯å£)</li></ul><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 ç«¯å£çŠ¶æ€æè¿°-165647120161520.png"><p><strong>Discarding</strong> = Blocking + Listening</p><p><strong>ç«¯å£çŠ¶æ€å˜æ¢ï¼š</strong><br><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 ç«¯å£çŠ¶æ€å˜æ¢-165647120161521.png"></p><p><strong>Blockingï¼š</strong> åªæ”¶BPDU<br>å¦‚æœè¦ç»´æŒBlockingï¼Œé‚£ä¹ˆ20så†…å°±è¦æ”¶åˆ°æ ¹æ¡¥å‘é€çš„é…ç½®BPDUã€‚å¦‚æœè¿ç»­20sæ²¡æ”¶åˆ°æ ¹æ¡¥å‘é€çš„é…ç½®BPDUï¼Œå°±è‡ªåŠ¨ä»Blockingè¿›å…¥ListeningçŠ¶æ€ã€‚æˆ–è€…å…¶ä»–æ¥å£æ–­æ‰ç›´æ¥è¿›å…¥ListeningçŠ¶æ€ã€‚<br><strong>Listeningï¼š</strong> æ”¶å‘BPDU<br>è¯¥çŠ¶æ€ä¸‹ï¼Œå¦‚æœå‘ç°è‡ªå·±æ˜¯éæŒ‡å®šç«¯å£ï¼Œé‚£ä¹ˆå°†è¯¥ç«¯å£è½¬ä¸ºBlockingçŠ¶æ€ï¼Œå¦‚æœå‘ç°è‡ªå·±æ˜¯æ ¹æ¡¥ç«¯å£ï¼Œå†ç­‰15sï¼Œæ­¤æ—¶è¿˜æ˜¯ListeningçŠ¶æ€(èƒ½æ”¶å‘é…ç½®BPDUï¼Œä½†æ˜¯ä¸èƒ½æ”¶å‘ç”¨æˆ·æ•°æ®ï¼Œå› ä¸ºè¦é€šè¿‡é…ç½®BPDUåˆ¤æ–­è‡ªå·±çš„ç«¯å£è§’è‰²)ã€‚å¦‚æœå‘ç°è‡ªå·±çœŸçš„æ˜¯æ ¹æ¡¥ç«¯å£ï¼Œé‚£ä¹ˆä¼šå˜æˆLearning(Learningå†æŒç»­15så˜æˆForwarding)ã€‚<br><strong>Learning:</strong> æ”¶å‘BPDUï¼Œåªæ”¶ç”¨æˆ·æ•°æ®(ä¸è½¬å‘æ•°æ®å¸§ã€å­¦ä¹ MACåœ°å€è¡¨)<br><strong>Forwardingï¼š</strong> æ”¶å‘BPDUï¼Œæ”¶å‘ç”¨æˆ·æ•°æ®(è½¬å‘æ•°æ®å¸§ã€å­¦ä¹ MACåœ°å€è¡¨)</p><p>æ³¨ï¼š<br><strong>1.</strong> ä¸€ä¸ªè€åŒ–æ—¶é—´ 20sï¼Œæœ€å¤§è½¬å‘å»¶è¿Ÿ 15s<br><strong>2.</strong> ä¸€ä¸ªç«¯å£ä» Blocking åˆ° Forwarding æ‰€éœ€æœ€å¤§æ—¶é—´ = 20s(è€åŒ–) + 15s(Listening) + 15s(Learning) = 50s<br><strong>3.</strong> MACåœ°å€è¡¨å¿«é€Ÿè€åŒ–ï¼Œè€åŒ–æ—¶é—´ç¼©çŸ­</p><blockquote><p><strong>é—®é¢˜ï¼š</strong> å·¦å³ä¸¤æ ¹çº¿æ–­æ‰ä¹‹åï¼ŒLSW1çš„ç«¯å£GE 0/0/2ä»Blockingåˆ°Forwardingéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ</p></blockquote><img src="/2022/06/29/ict-zhan-dui-di-3-ci-bi-ji/03 ç”Ÿæˆæ ‘é—®é¢˜-165647120161522.png"><blockquote><p><strong>ç­”ï¼š</strong><br>å·¦çº¿æ–­30s = 0s(LSW1ï¼šBlocking-&gt;Listening) + 15s(LSW1ï¼šListening-&gt;Learning) + 15s(LSW1ï¼šLearning-&gt;Forwarding)<br>å³çº¿æ–­50s = 20s(LSW1ï¼šBlocking-&gt;Listening) + 15s(LSW1ï¼šListening-&gt;Learning) + 15s(LSW1ï¼šLearning-&gt;Forwarding)</p></blockquote><br><h3 id="ç”Ÿæˆæ ‘ç®€å•é…ç½®"><a href="#ç”Ÿæˆæ ‘ç®€å•é…ç½®" class="headerlink" title="ç”Ÿæˆæ ‘ç®€å•é…ç½®"></a>ç”Ÿæˆæ ‘ç®€å•é…ç½®</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>sw<span class="token punctuation">]</span>stp <span class="token builtin class-name">enable</span><span class="token punctuation">[</span>sw<span class="token punctuation">]</span>stp mode stp<span class="token punctuation">[</span>sw<span class="token punctuation">]</span>stp priority <span class="token number">8192</span></code></pre><p><font color="#999AAA">èµ„æ–™ï¼šã€ŠH3C STPæŠ€æœ¯ç™½çš®ä¹¦ã€‹</font></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬2æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-2-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-2-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬2æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬2æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬2æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬2æ¬¡ç¬”è®°</h1><p>[toc]</p><p><font color="#999AAA">æ±Ÿè€å¸ˆå¼€åœºç™½ï¼š<br>ç»„ç½‘ï¼šsmart link<br>ç‰©ç†å…è®¸ç¯è·¯ï¼Œå·¥ä½œæ—¶ä¸å…è®¸<br>æŸä¸€é“¾è·¯æ–­å¼€ï¼Œä¸ä¼šå½±å“å…¶ä»–çš„é€šä¿¡</font></p><h2 id="Huaweiå‘½ä»¤è¡Œæ“ä½œåŸºç¡€"><a href="#Huaweiå‘½ä»¤è¡Œæ“ä½œåŸºç¡€" class="headerlink" title="Huaweiå‘½ä»¤è¡Œæ“ä½œåŸºç¡€"></a>Huaweiå‘½ä»¤è¡Œæ“ä½œåŸºç¡€</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo äº¤æ¢æœºä¸‹é…ç½®ç®¡ç†ip</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int vlan <span class="token number">1</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.56.250 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>undo <span class="token function">shutdown</span><span class="token comment"># todo æ³¨é‡Š</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>description something<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>undo description<span class="token comment"># todo æŸ¥çœ‹å†å²å‘½ä»¤</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>display history-commandå†å²è®°å½•å‘½ä»¤<span class="token comment"># todo ä½¿ç”¨ä¸­æ–‡</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>language-mode Chinese Change language mode, confirm? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span> ySep <span class="token number">20</span> <span class="token number">2021</span> <span class="token number">23</span>:44:03-08:00 Huawei %%01CMD/4/LAN_MODE<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>:The user chose Y when deciding whether to change the language mode.æç¤ºï¼šæ”¹å˜è¯­è¨€æ¨¡å¼æˆåŠŸã€‚<span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span><span class="token comment"># todo æŸ¥çœ‹è®¾å¤‡çš„é…ç½®æ–‡ä»¶å’Œæ“ä½œç³»ç»Ÿ</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>dirDirectory of flash:/  Idx  Attr     Size<span class="token punctuation">(</span>Byte<span class="token punctuation">)</span>  Date        Time       FileName     <span class="token number">0</span>  drw-              -  Aug 06 <span class="token number">2015</span> <span class="token number">21</span>:26:42   src    <span class="token number">1</span>  drw-              -  Sep <span class="token number">19</span> <span class="token number">2021</span> <span class="token number">10</span>:16:17   compatible<span class="token number">32,004</span> KB total <span class="token punctuation">(</span><span class="token number">31,972</span> KB <span class="token function">free</span><span class="token punctuation">)</span><span class="token comment"># todo å…³é—­æ¶ˆæ¯ä¿¡æ¯</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>un <span class="token keyword">in</span> en<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>undo terminal monitor</code></pre><p>1)äº¤æ¢æœºæ²¡æœ‰0/0/0åªæœ‰0/0/1<br>2)æ˜“å¤±ã€éæ˜“å¤±å­˜å‚¨å™¨-&gt;å†…å­˜ã€ç¡¬ç›˜<br>3)å¼€æœºé‡è£…æ“ä½œç³»ç»Ÿ(æ“ä½œç³»ç»Ÿæ˜¯æ“ä½œç³»ç»Ÿï¼Œé…ç½®æ–‡ä»¶æ˜¯é…ç½®æ–‡ä»¶(å¼€æœºé…ç½®ã€å½“å‰é…ç½®))</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æŸ¥çœ‹é…ç½®ä¿¡æ¯</span>display version  <span class="token comment"># ç‰ˆæœ¬ä¿¡æ¯</span>display current-configuration  <span class="token comment"># å½“å‰é…ç½®</span>display saved-configuration  <span class="token comment"># ä¿å­˜é…ç½®</span>display current-configuration configuration XXX  <span class="token comment"># ç®¡ç†å‘˜é…ç½®ç”Ÿæ•ˆå†…å®¹</span>display current-configuration configuration vlan  <span class="token comment"># vlanç›¸å…³é…ç½®</span>display current-configuration <span class="token operator">|</span> begin  <span class="token comment"># ç®¡é“è¾“å‡ºæŒ‡å®šå†…å®¹</span>display current-configuration <span class="token operator">|</span> b vty <span class="token number">0</span> <span class="token number">4</span>  <span class="token comment"># ç®¡é“è¾“å‡º</span>display current-configuration <span class="token operator">|</span> include sysname  <span class="token comment"># sysnameç›¸å…³é…ç½®</span>display <span class="token function">ip</span> interface brief  æ¥å£ipçŠ¶æ€é…ç½®ä¿¡æ¯ï¼ŒäºŒå±‚æ¥å£ä¿¡æ¯display <span class="token function">ip</span> int brief  æ¥å£ipçŠ¶æ€é…ç½®ä¿¡æ¯ï¼Œæ¥å£ä¸‰å±‚ä¿¡æ¯display interfaces g0/0/1  æ¥å£å½“å‰æµé‡</code></pre><p>1)æ¨æµ‹è®¾å¤‡ç¯è·¯ï¼šå¹¿æ’­åŒ…1%+<br>2)Physicalç«¯å£ï¼ŒProtocolåè®®ï¼›*downè¢«ç®¡ç†å‘˜å…³æ‰çš„</p><table><thead><tr><th align="center">è®¾å¤‡</th><th align="center">ç«¯å£</th><th align="center">åè®®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">äº¤æ¢æœº</td><td align="center">down</td><td align="center">down</td><td>1.æ²¡æœ‰ç‰©ç†è¿æ¥ï¼Œ2.(error disable)æ ¹é˜²æŠ¤ï¼Œå…ˆshutdownå†undo shutdown</td></tr><tr><td align="center">äº¤æ¢æœº</td><td align="center">*down</td><td align="center">down</td><td>ç®¡ç†å‘˜downï¼Œæ¥å£ä¸‹undo shutdown</td></tr><tr><td align="center">è·¯ç”±å™¨</td><td align="center">up</td><td align="center">down</td><td>1.æ²¡æœ‰ç‰©ç†è¿æ¥ï¼Œ2.ä¸²è¡Œçº¿è·¯æ—¶é’Ÿé¢‘ç‡ä¸åŒ¹é…ï¼Œ3.PPPåå•†å¤±è´¥</td></tr></tbody></table><table><thead><tr><th align="center">ç”¨æˆ·çº§åˆ«</th><th align="center">å…è®¸ä½¿ç”¨çš„å‘½ä»¤çº§</th><th align="center">è¿›å…¥ç³»ç»Ÿè¯•å›¾</th><th align="center">ä¿å­˜é…ç½®æ–‡ä»¶</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">è®¿é—®çº§</td><td align="center">ä¸èƒ½</td><td align="center">ä¸èƒ½</td></tr><tr><td align="center">1</td><td align="center">ç›‘æ§çº§</td><td align="center">èƒ½</td><td align="center">ä¸èƒ½</td></tr><tr><td align="center">2</td><td align="center">ç³»ç»Ÿçº§</td><td align="center">èƒ½</td><td align="center">èƒ½</td></tr><tr><td align="center">3-15</td><td align="center">ç®¡ç†çº§</td><td align="center">èƒ½</td><td align="center">èƒ½</td></tr></tbody></table><h3 id="å®éªŒä¸€ï¼šTelnetè¿œç¨‹ç™»é™†é…ç½®"><a href="#å®éªŒä¸€ï¼šTelnetè¿œç¨‹ç™»é™†é…ç½®" class="headerlink" title="å®éªŒä¸€ï¼šTelnetè¿œç¨‹ç™»é™†é…ç½®"></a><strong>å®éªŒä¸€ï¼šTelnetè¿œç¨‹ç™»é™†é…ç½®</strong></h3><ul><li>Step1.ç½‘ç»œæ‹“æ‰‘</li></ul><img src="/2022/06/29/ict-zhan-dui-di-2-ci-bi-ji/Telnetæ‹“æ‰‘-16565177900041.png"><ul><li>Step1.5é…ç½®äº‘</li></ul><p>ç»‘å®šä¿¡æ¯ï¼š1.UDPã€2.VirtualBoxÂ·Â·Â·Â·Â·Â·IP: 192.168.56.1<br>ç«¯å£ç±»å‹ï¼šEthernet<br>åŒå‘é€šé“ï¼šâˆš</p><ul><li>Step2.é…ç½®äº¤æ¢æœº</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æ·»åŠ IPï¼Œæ­¤åä¸»æœºå¯ä»¥pingé€š</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>sysEnter system view, <span class="token builtin class-name">return</span> user view with Ctrl+Z.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>interface vlan <span class="token number">1</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>ip address <span class="token number">192.168</span>.56.250 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span>undo <span class="token function">shutdown</span> <span class="token punctuation">[</span>Huawei-Vlanif1<span class="token punctuation">]</span><span class="token comment"># todo å¼€å¯telnetæœåŠ¡</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>telnet server enbale  <span class="token comment"># å¼€å¯è¿œç¨‹ç™»å½•</span><span class="token comment"># todo é…ç½®è™šæ‹Ÿæ¥å£</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>user-interface vty <span class="token number">0</span> <span class="token number">4</span>  <span class="token comment"># åŒæ—¶è¿›å…¥5æ¡è™šé“¾è·¯é…ç½®</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>user privilege level <span class="token number">15</span>  <span class="token comment"># è®¾ç½®ç”¨æˆ·çº§åˆ«ä¸º3</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>protocol inbound telnet  <span class="token comment"># è®¾ç½®å…è®¸telnetæœåŠ¡æ¥å…¥ï¼ˆé»˜è®¤å…è®¸æ‰€æœ‰ï¼‰</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>authentication-mode aaa  <span class="token comment"># åŸºæœ¬æœ¬åœ°ç”¨æˆ·è®¤è¯</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>authentication-mode none  <span class="token comment"># ä¸è®¤è¯</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>authentication-mode password  <span class="token comment"># åŸºäºvtyçº¿è·¯ä¸‹å¯†ç è®¤è¯</span><span class="token comment"># todo çº¿è·¯ä¸‹è®¾ç½®å¯†ç é…åˆåŸºäºå¯†ç è®¤è¯ï¼Œå³password</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>set authentication password cipher huawei  <span class="token comment"># è®¾ç½®çº¿è·¯ä¸‹å¯†ç </span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>user privilege level <span class="token number">15</span>  <span class="token comment"># è®¾çº¿è·¯ä¸‹è®¤è¯æƒé™</span><span class="token comment"># todo åˆ›å»ºè®¤è¯ç”¨æˆ·ï¼Œå³aaa</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>aaa  <span class="token comment"># è¿›å…¥aaaæ¨¡å¼</span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>local-user admin password cipher huawei  <span class="token comment"># åˆ›å»ºdaminç”¨æˆ·ï¼Œè®¾ç½®å¯†ç </span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>local-user admin service-type telnet  <span class="token comment"># å…è®¸ä½¿ç”¨telnetæœåŠ¡</span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>local-user admin privilege level <span class="token number">15</span>  <span class="token comment"># è®¾ç½®ç”¨æˆ·çº§åˆ«ä¸º15</span></code></pre><ul><li>Step3.ç„¶ååœ¨SecureCRTä½¿ç”¨Telnetè¿œç¨‹ç™»å½•</li></ul><blockquote><ul><li><strong>é—®é¢˜</strong>ï¼šä¸ºä»€ä¹ˆä¼šdown</li><li><strong>ç­”</strong>ï¼š(ä»¥åå†è¯´)</li></ul></blockquote><h3 id="å®éªŒäºŒï¼šsshé…ç½®"><a href="#å®éªŒäºŒï¼šsshé…ç½®" class="headerlink" title="å®éªŒäºŒï¼šsshé…ç½®"></a><strong>å®éªŒäºŒï¼šsshé…ç½®</strong></h3><p>telnetæ˜æ–‡ï¼ŒsshåŠ å¯†<br>æ•°æ®å¯¹ç§°åŠ å¯†ï¼šåŠ å¯†è§£å¯†å¯†é’¥ä¸€æ ·<br>æ•°æ®éå¯¹ç§°åŠ å¯†ï¼šå…¬é’¥åŠ å¯†ä¹‹åçš„å¯†æ–‡åªæœ‰ç§é’¥èƒ½è§£å¯†</p><ul><li><p>Step 0.ç½‘ç»œæ‹“æ‰‘(åŒä¸Šï¼Œç•¥)</p></li><li><p>Step 1.é…ç½®äº¤æ¢æœº</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo åˆ›å»ºè®¤è¯å¯†é’¥å¯¹</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>rsa local-key-pair createThe key name will be: Huawei_HostThe range of public key size is <span class="token punctuation">(</span><span class="token number">512</span> ~ <span class="token number">2048</span><span class="token punctuation">)</span>. NOTES: If the key modulus is greater than <span class="token number">512</span>,        it will take a few minutes.Input the bits <span class="token keyword">in</span> the modulus<span class="token punctuation">[</span>default <span class="token operator">=</span> <span class="token number">512</span><span class="token punctuation">]</span>:Generating keys<span class="token punctuation">..</span>.<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>++++++++++++<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.++++++++++++<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.++++++++<span class="token punctuation">..</span>++++++++<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span><span class="token comment"># todo é…ç½®è™šé“¾è·¯</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>user-interface vty <span class="token number">0</span> <span class="token number">4</span>  <span class="token comment"># åŒæ—¶è¿›å…¥5æ¡è™šé“¾è·¯è¿›è¡Œé…ç½®</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>user privilege level <span class="token number">15</span>  <span class="token comment"># è®¾ç½®ç”¨æˆ·çº§åˆ«ä¸º15</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>authentication-mode aaa  <span class="token comment"># åŸºäºæœ¬åœ°ç”¨æˆ·è®¤è¯</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span>protocol inbound <span class="token function">ssh</span>  <span class="token comment"># è®¾ç½®å…è®¸sshæœåŠ¡æ¥å…¥</span><span class="token punctuation">[</span>Huawei-ui-vty0-4<span class="token punctuation">]</span><span class="token comment"># todo åˆ›å»ºsshç™»å½•ç”¨æˆ·ï¼Œåˆ‡æ¢ä¸sshç™»å½•æƒé™</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>ssh user admin service-type stelnet  <span class="token comment"># åˆ›å»ºsshç”¨æˆ·</span>Info: Succeeded <span class="token keyword">in</span> adding a new SSH user.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>ssh user admin authentication-type password  <span class="token comment"># è®¾ç½®sshéªŒè¯æ–¹å¼</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>aaa  <span class="token comment"># è¿›å…¥aaaæ¨¡å¼</span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>local-user admin password cipher huawei  <span class="token comment"># åˆ›å»ºç”¨æˆ·adminå¹¶è®¾ç½®å¯†ç </span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>local-user admin service-type <span class="token function">ssh</span>  <span class="token comment"># å…è®¸ä½¿ç”¨sshæœåŠ¡</span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>local-user admin privilege level <span class="token number">15</span>  <span class="token comment"># è®¾ç½®ç”¨æˆ·çº§åˆ«ä¸º15</span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>q<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>stelnet server <span class="token builtin class-name">enable</span>  <span class="token comment"># å¼€å¯sshæœåŠ¡</span>Info: Succeeded <span class="token keyword">in</span> starting the Stelnet server.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span></code></pre><p>å¼€å¯äº†sshæœåŠ¡å°±ä¸èƒ½å†ä½¿ç”¨telnetæœåŠ¡<br>è€Œä¸”ï¼ŒsshæœåŠ¡åªèƒ½ä½¿ç”¨aaaæ¨¡å¼ç™»å½•</p><ul><li><p>Step2.ç„¶ååœ¨SecureCRTä½¿ç”¨sshè¿œç¨‹ç™»å½•</p></li><li><p><strong>SecureCRT</strong><br>sshè¦(ä¸è¦)ä¿å­˜å…¬é’¥</p></li></ul><h2 id="Huaweiç½‘ç»œè®¾å¤‡æ–‡ä»¶ç®¡ç†"><a href="#Huaweiç½‘ç»œè®¾å¤‡æ–‡ä»¶ç®¡ç†" class="headerlink" title="Huaweiç½‘ç»œè®¾å¤‡æ–‡ä»¶ç®¡ç†"></a>Huaweiç½‘ç»œè®¾å¤‡æ–‡ä»¶ç®¡ç†</h2><ul><li><strong>ç½‘ç»œè®¾å¤‡æ–‡ä»¶ç®¡ç†</strong>ï¼š</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo 1. æ–‡ä»¶æ“ä½œ</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>dir /all  <span class="token comment"># æ˜¾ç¤ºç›®å½•ä¸­çš„æ–‡ä»¶å’Œå­ç›®å½•åˆ—è¡¨</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>mkdir <span class="token punctuation">[</span>filename  <span class="token comment"># åˆ›å»ºç›®å½•</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>rmdir <span class="token punctuation">[</span>filename  <span class="token comment"># åˆ é™¤ç›®å½•</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>more <span class="token punctuation">[</span>filename  <span class="token comment"># æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>copy <span class="token punctuation">[</span>src-filename <span class="token punctuation">[</span>des-filenmae  <span class="token comment"># æ‹·è´æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>move <span class="token punctuation">[</span>src-filename <span class="token punctuation">[</span>des-filenmae  <span class="token comment"># ç§»åŠ¨æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>rename <span class="token punctuation">[</span>old-name <span class="token punctuation">[</span>new-name  <span class="token comment"># é‡å‘½åæ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>delete filename  <span class="token comment"># åˆ é™¤æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>undelete filename  <span class="token comment"># æ¢å¤åˆ é™¤çš„æ–‡ä»¶</span><span class="token comment"># &lt;Huawei&gt;fixdisk drive  # ä¿®å¤æ–‡ä»¶ç³»ç»Ÿå¼‚å¸¸çš„å­˜å‚¨å™¨</span><span class="token comment"># &lt;Huawei&gt;format drive  # æ ¼å¼åŒ–å­˜å‚¨å™¨</span><span class="token comment"># todo 2. é…ç½®æ–‡ä»¶æ“ä½œ</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>save  <span class="token comment"># ä¿å­˜é…ç½®æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>reset saved-configuration  <span class="token comment"># æ“¦é™¤é…ç½®æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>startup saved-configuration <span class="token builtin class-name">test</span>  <span class="token comment"># è®¾ç½®ä¸‹æ¬¡å¼€æœºé…ç½®æ–‡ä»¶</span><span class="token comment"># todo 3. é…ç½®æ–‡ä»¶æ˜¾ç¤ºä¸ç»´æŠ¤</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display saved-configuration  <span class="token comment"># æŸ¥çœ‹ä¿å­˜çš„é…ç½®æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display startup  <span class="token comment"># æ˜¾ç¤ºå½“å‰é…ç½®æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display current-configuration <span class="token comment"># æ˜¾ç¤ºå½“å‰é…ç½®æ–‡ä»¶</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display current-configuration configuration aaa  <span class="token comment"># æŸ¥çœ‹æŒ‡å®šå†…å®¹</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display this  <span class="token comment"># æŸ¥çœ‹å½“å‰è§†å›¾ä¸‹ç”Ÿæ•ˆçš„é…ç½®</span><span class="token comment"># todo 4. æŒ‡å®šä¸‹æ¬¡å¯åŠ¨åŠ è½½çš„åº”ç”¨ç¨‹åº</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>startup system-software <span class="token punctuation">[</span>iog-image  <span class="token comment"># æŒ‡å®šä¸‹æ¬¡å¯åŠ¨åŠ è½½çš„åº”ç”¨ç¨‹åº</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display boot-loader  <span class="token comment"># æ˜¾ç¤ºä¸‹æ¬¡å¯åŠ¨åŠ è½½çš„åº”ç”¨ç¨‹åº</span><span class="token comment"># todo 5.é‡å¯ç³»ç»Ÿ</span><span class="token operator">&lt;</span>SV<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>reboot  <span class="token comment"># é‡å¯</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>reboot fast  <span class="token comment"># å¿«é€Ÿé‡å¯</span><span class="token operator">&lt;</span>SV<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>schedule <span class="token function">reboot</span> at <span class="token number">22</span>:47  <span class="token comment"># å®šæ—¶é‡å¯</span><span class="token operator">&lt;</span>SV<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>schedule <span class="token function">reboot</span> delay 00:01  <span class="token comment"># ç­‰å¾…é‡å¯</span><span class="token operator">&lt;</span>SV<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>display schedule <span class="token function">reboot</span>  <span class="token comment"># æ˜¾ç¤ºè®¾ç½®çš„é‡å¯æ—¶é—´</span></code></pre><p><code>fixdisk drive</code>ä¸è¦ç”¨ï¼Œæ–‡ä»¶ç³»ç»Ÿå´©æºƒæ‰¾å‚å•†å¤„ç†<br><code>format drive</code>ä¸è¦ç”¨ï¼ï¼ï¼</p><h3 id="å®éªŒä¸‰ï¼šä½¿ç”¨FTPå¤‡ä»½æ–‡ä»¶"><a href="#å®éªŒä¸‰ï¼šä½¿ç”¨FTPå¤‡ä»½æ–‡ä»¶" class="headerlink" title="å®éªŒä¸‰ï¼šä½¿ç”¨FTPå¤‡ä»½æ–‡ä»¶"></a><strong>å®éªŒä¸‰ï¼šä½¿ç”¨FTPå¤‡ä»½æ–‡ä»¶</strong></h3><ul><li>Step1.åˆ›å»ºFTPæœåŠ¡å™¨</li></ul><p>Serv-Uï¼š<br><strong>1.</strong> æ–°å»ºåŸŸ-&gt;åç§°ï¼šdazhuang-&gt;ä¸‹ä¸€æ­¥-&gt;ä¸‹ä¸€æ­¥-&gt;127.0.0.1-&gt;æ–‡ä»¶å¤¹è·¯å¾„-&gt;ä¸‹ä¸€æ­¥-&gt;ä¸‹ä¸€æ­¥-&gt;ä¸€å®šé€‰æ‹©ï¼šæ‰€æœ‰å¯ç”¨çš„IPv4-&gt;ä¸‹ä¸€æ­¥-&gt;æ— åŠ å¯†-&gt;å®Œæˆ-&gt;<br><strong>2.</strong> åˆ›å»ºç”¨æˆ·-&gt;åï¼šbenben-&gt;ä¸‹ä¸€æ­¥-&gt;å¯†ç ï¼š123456-&gt;æ ¹ç›®å½•(åœ¨åˆšæ‰ç›®å½•ä¸­ï¼Œåœ¨å…¶ä»–ç›®å½•ä¹Ÿè¡Œ)-&gt;è®¿é—®æƒé™ï¼šå®Œå…¨è®¿é—®-&gt;å®Œæˆ<br><strong>3.</strong> æµ‹è¯•ï¼š<code>ftp://127.0.0.1</code>-&gt;benben-&gt;123456</p><ul><li><p><strong>Serv-U</strong><br>åªè¯»è®¿é—®ï¼šèƒ½ä¸‹ä¸èƒ½ä¼ <br>å®Œå…¨è®¿é—®ï¼šèƒ½ä¸‹èƒ½ä¼ </p></li><li><p>Step2.ä¸Šä¼ ä¸‹è½½å¤‡ä»½</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>ftp <span class="token number">192.168</span>.56.1  <span class="token comment"># ä½¿ç”¨FTPè¿æ¥åˆ°FTPæœåŠ¡å™¨</span><span class="token punctuation">[</span>ftp<span class="token punctuation">]</span>get <span class="token punctuation">[</span>filename  <span class="token comment"># ä¸‹è½½</span><span class="token punctuation">[</span>ftp<span class="token punctuation">]</span>put <span class="token punctuation">[</span>filename  <span class="token comment"># ä¸Šä¼ </span><span class="token punctuation">[</span>ftp<span class="token punctuation">]</span>dir</code></pre><blockquote><ul><li><strong>é—®é¢˜</strong>ï¼šwrong ip address</li><li><strong>è§£å†³</strong>ï¼š1.è¾“å…¥æ­£ç¡®IPåœ°å€ï¼Œ 2.å…³é—­é˜²ç«å¢™</li></ul></blockquote><h2 id="Huaweiç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•"><a href="#Huaweiç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•" class="headerlink" title="Huaweiç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•"></a>Huaweiç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•</h2><h3 id="å®éªŒå››ï¼šç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•"><a href="#å®éªŒå››ï¼šç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•" class="headerlink" title="å®éªŒå››ï¼šç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•"></a><strong>å®éªŒå››ï¼šç½‘ç»œè®¾å¤‡åŸºæœ¬æµ‹è¯•</strong></h3><p><strong>å‘½ä»¤</strong>ï¼š<code>ping</code> <code>tracet</code></p><p><strong><code>ping</code></strong></p><table><thead><tr><th align="center">å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">-a</td><td>source-ipï¼ŒæŒ‡å®šICMPå›æ˜¾è¯·æ±‚(ECHO-REQUEST)æŠ¥æ–‡çš„æºIPåœ°å€ï¼Œè¯¥åœ°å€å¿…é¡»æ˜¯è®¾å¤‡ä¸Šå·²é…ç½®çš„IPåœ°å€</td></tr><tr><td align="center">-c</td><td>countï¼ŒæŒ‡å®šICMPå›æ˜¾æŠ¥æ–‡è¯·æ±‚çš„å‘é€æ¬¡æ•°ï¼Œå–å€¼èŒƒå›´[1, 2^32-1]ï¼Œç¼ºçœå€¼ä¸º5</td></tr><tr><td align="center">-f</td><td>å°†é•¿åº¦å¤§äºæ¥å£MTUçš„æŠ¥æ–‡ç›´æ¥ä¸¢å¼ƒï¼Œå³ä¸å…è®¸å¯¹å‘é€çš„ICMPå›æ˜¾è¯·æ±‚æŠ¥æ–‡è¿›è¡Œåˆ†ç‰‡</td></tr><tr><td align="center">-h</td><td>æŒ‡å®šICMPå›æ˜¾è¯·æ±‚æŠ¥æ–‡ä¸­çš„TTLå€¼ï¼Œå–å€¼èŒƒå›´[1, 255]ï¼Œç¼ºçœå€¼ä¸º255</td></tr></tbody></table><p>pingç”¨çš„æ˜¯icmp</p><p><strong><code>tracet</code></strong></p><table><thead><tr><th align="center">å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">-a</td><td>æŒ‡å®šæºIPåœ°å€</td></tr><tr><td align="center">-f</td><td>æŒ‡å®šä¸€ä¸ªåˆå§‹TTLï¼Œç¬¬ä¸€ä¸ªæŠ¥æ–‡å…è®¸çš„è·³æ•°ï¼Œå°äºæœ€å¤§TTLï¼Œ[1, 255]ï¼Œç¼ºçœ1</td></tr><tr><td align="center">-m</td><td>æŒ‡å®šä¸€ä¸ªæœ€å¤§TTLï¼Œä¸€ä¸ªæŠ¥æ–‡å…è®¸çš„æœ€å¤§è·³æ•°ï¼Œå¤§äºåˆå§‹TTLï¼Œ[1, 255]ï¼Œç¼ºçœ1</td></tr></tbody></table><p><strong>ç»ˆç«¯è¾“å‡º</strong>ï¼š</p><p><strong>å‘½ä»¤ä¸€</strong>ï¼š<code>terminal monitor</code>  å¼€å¯æ§åˆ¶å°å¯¹ç³»ç»Ÿä¿¡æ¯çš„ç›‘è§†åŠŸèƒ½</p><p>ç”¨æˆ·åªæœ‰é¦–å…ˆé…ç½®<code>terminal monitor</code>å‘½ä»¤ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ç›¸åº”å‘½ä»¤æ‰èƒ½åœ¨å½“å‰ç»ˆç«¯æ˜¾ç¤ºæ—¥å¿—ä¿¡æ¯ï¼Œå‘Šè­¦ä¿¡æ¯å’Œè°ƒè¯•ä¿¡æ¯(æ³¨ï¼šç¼ºçœæƒ…å†µä¸‹ï¼Œæ§åˆ¶å°çš„ç›‘è§†åŠŸèƒ½å¤„äºå¼€å¯çŠ¶æ€ï¼Œè€Œç›‘è§†ç»ˆç«¯çš„ç›‘è§†åŠŸèƒ½å¤„äºå…³é—­çŠ¶æ€ã€‚)</p><p><strong>å‘½ä»¤äºŒ</strong>ï¼š<code>terminal debugging</code></p><p><code>terminal debugging</code>å‘½ä»¤ç”¨æ¥å¼€å¯å½“å‰ç»ˆç«¯è°ƒè¯•ä¿¡æ¯çš„æ˜¾ç¤ºåŠŸèƒ½ã€‚<code>undo terminal debugging</code>ç”¨æ¥å…³é—­å½“å‰ç»ˆç«¯å¯¹è°ƒè¯•ä¿¡æ¯çš„æ˜¾ç¤ºåŠŸèƒ½ã€‚(æ³¨ï¼šè‹¥éœ€è¦åœ¨ç›‘æ§ç»ˆç«¯ä¸Šæ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ï¼Œè¯·å…ˆé…ç½®<code>terminal monitor</code>å’Œ<code>terminal debugging</code>å‘½ä»¤ï¼Œå†ä½¿èƒ½ä¿¡æ¯ä¸­å¿ƒåŠŸèƒ½(ä¿¡æ¯ä¸­å¿ƒåŠŸèƒ½ç¼ºçœæƒ…å†µä¸‹å·²ç»ä½¿èƒ½)ï¼Œæœ€åä½¿ç”¨<code>debug</code>å‘½ä»¤æ‰“å¼€è°ƒè¯•ä¿¡æ¯å¼€å…³ã€‚)</p><p><strong>å‘½ä»¤ä¸‰</strong>ï¼š<code>debug [model-name</code></p><p><code>debugging</code>å‘½ä»¤ç”¨æ¥æ‰“å¼€è®¾å¤‡æ”¯æŒçš„åŠŸèƒ½é¡¹çš„è°ƒè¯•å¼€å…³ï¼Œ<code>undo debugging</code>å‘½ä»¤ç”¨æ¥å…³é—­è®¾å¤‡æ”¯æŒçš„åŠŸèƒ½é¡¹çš„è°ƒè¯•å¼€å…³ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŠŸèƒ½é¡¹çš„è°ƒè¯•å¼€å…³å¤„äºå…³é—­çŠ¶æ€ã€‚</p><p><strong>å‘½ä»¤å››</strong>ï¼š<code>&lt;R1&gt;display debugging</code></p><p><code>&lt;R1&gt;display debugging</code>å‘½ä»¤ç”¨æ¥æ˜¾ç¤ºç³»ç»Ÿä¸­å·²ç»æ‰“å¼€çš„è°ƒè¯•å¼€å…³</p><p><font color="#999AAA">çœŸæœºæŠ“åŒ…ï¼šç«¯å£é•œåƒ</font></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo æ˜¾ç¤ºdebugä¿¡æ¯</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>terminal monitor  <span class="token comment"># åœ¨ç»ˆç«¯æ˜¾ç¤ºæ—¥å¿—</span>Info: Current terminal monitor is on.<span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>terminal debugging  <span class="token comment"># æ˜¾ç¤ºdebugä¿¡æ¯</span>Info: Current terminal debugging is on.<span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>debugging <span class="token function">ip</span> icmp verbose  <span class="token comment"># æŸ¥çœ‹ipè¯¦ç»†ä¿¡æ¯</span><span class="token comment"># &lt;Huawei&gt;debugging tcp packet  # æŸ¥çœ‹tcpè¯¦ç»†ä¿¡æ¯</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>save</code></pre><p><strong>1.</strong> ä¸è¦debugä¿¡æ¯é‡å¾ˆå¤§çš„æ—¥å¿—ä¿¡æ¯(é˜²æ­¢æ—¥å¿—æ˜¾ç¤ºè¿‡å¤šå¯¼è‡´æ— æ³•è¾“å…¥å‘½ä»¤)<br><strong>2.</strong> è£…å®Œé…ç½®ä¸€å®šè¦<strong>ä¿å­˜</strong>ï¼ï¼ï¼</p><blockquote><p><strong>é—®é¢˜</strong>ï¼šä¸‡ä¸€debugäº†ä¿¡æ¯é‡å¾ˆå¤§çš„æ—¥å¿—ä¿¡æ¯<br><strong>è§£å†³</strong>ï¼šå¦‚æœæ˜¯è¿œç¨‹ç™»é™†ï¼Œå…³æ‰è¿œç¨‹ç™»å½•å†ç™»å½•å…³æ‰å³å¯ï¼Œä¾‹ï¼šæ–­å¼€telnetï¼Œç™»ä¸Šå»ä¹‹å<code>undo debugging tcp packet</code>(éœ€è¦å†æ¬¡æ•²æ˜¾ç¤ºdebugç­‰å‘½ä»¤)<br>å¦‚æœæ˜¯Consoleå£ä¸‹è€Œä¸”æ²¡æœ‰å¼€telentï¼Œåªèƒ½é‡å¯è®¾å¤‡</p></blockquote><p>ICMPç±»å‹å­—æ®µ(Type)ä»¥åŠä»£ç å­—æ®µ(Code)å¯¹åº”è¡¨ï¼š</p><table><thead><tr><th align="center">Type</th><th align="center">Code</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td>Echo Replyâ€”â€”å›æ˜¾åº”ç­”ï¼ˆPingåº”ç­”ï¼‰</td></tr><tr><td align="center">8</td><td align="center">0</td><td>Echo requestâ€”â€”å›æ˜¾è¯·æ±‚ï¼ˆPingè¯·æ±‚ï¼‰</td></tr></tbody></table><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICTæˆ˜é˜Ÿ-ç¬¬1æ¬¡ç¬”è®°</title>
      <link href="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/"/>
      <url>/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="ICTæˆ˜é˜Ÿ-ç¬¬1æ¬¡ç¬”è®°"><a href="#ICTæˆ˜é˜Ÿ-ç¬¬1æ¬¡ç¬”è®°" class="headerlink" title="ICTæˆ˜é˜Ÿ-ç¬¬1æ¬¡ç¬”è®°"></a>ICTæˆ˜é˜Ÿ-ç¬¬1æ¬¡ç¬”è®°</h1><p>[toc]</p><h2 id="IPé€šä¿¡åŸºç¡€"><a href="#IPé€šä¿¡åŸºç¡€" class="headerlink" title="IPé€šä¿¡åŸºç¡€"></a>IPé€šä¿¡åŸºç¡€</h2><p>æ•°æ®æµæ–¹å‘ï¼šå•å·¥ã€åŠåŒå·¥ã€å…¨åŒå·¥</p><p><font color="#999AAA">æ€»çº¿å‹ç½‘ç»œå¸¦å®½å…±äº«</font></p><p>ç½‘ç»œæ‹“æ‰‘å›¾ï¼šè·¯ç”±å™¨ã€PCç«¯ã€(å¿½ç•¥è¿™ä¸ª)ç½‘ç»œ<br>ç½‘ç»œæ‹“æ‰‘å›¾ç”»å›¾è¦æ±‚ï¼šæ ‡ä¸Šè®¾å¤‡ç«¯å£ã€å¹¿åŸŸç½‘çº¿è·¯å’Œå±€åŸŸç½‘çº¿è·¯ä¹‹é—´è¦æœ‰çº¿ç¼†é¢œè‰²åŒºåˆ†</p><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 å¸¸è§ç½‘ç»œæ‹“æ‰‘æ¶æ„.png"><p><font color="#999AAA">æ— çº¿è·¯ç”±å™¨çš„åŠ å¯†æ–¹å¼ï¼š<br>aes(advanced encryption standardé«˜çº§åŠ å¯†æ ‡å‡†)<br>tkip(temporal key integrity protocolæš‚æ—¶å¯†é’¥é›†æˆåè®®)<br>(ç°æ™®éé‡‡ç”¨ç›®å‰æœ€å®‰å…¨çš„åŠ å¯†æ–¹å¼WPA2è¿›è¡ŒåŠ å¯†)</font></p><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 å±€åŸŸç½‘ç‰¹ç‚¹å’Œå¸¸ç”¨è®¾å¤‡.png"><p><font color="#999AAA">é˜²ç«å¢™ï¼šç«¯å£ä¸ç«¯å£ä¹‹é—´é€šä¿¡çš„å®‰å…¨ç­–ç•¥</font></p><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 IPç½‘ç»œå…¸å‹ç»“æ„.png"><p>ä¸‰å±‚æ¶æ„ï¼šæ ¸å¿ƒå±‚ã€æ±‡èšå±‚ã€æ¥å…¥å±‚</p><p><code>GE 0/0/0</code></p><p><code>GE</code>å½“å‰ç«¯å£çš„å¸¦å®½</p><p><code>et 0/0/0</code>åå…†å¸¦å®½<br><code>fa 0/0/0</code>ç™¾å…†å¸¦å®½<br><code>Ge 0/0/0</code>åƒå…†å¸¦å®½<br><code>xg 0/0/0</code>ä¸‡å…†å¸¦å®½</p><p><font color="#999AAA">æŸ¥çœ‹ç«¯å£å¸¦å®½æŒ‡ä»¤<code>display</code>ã€<code>show</code></font></p><p><code>0/0/0</code>è®¾å¤‡å †å ç¼–å·/æ¨¡å—å·/</p><h2 id="TCP-x2F-IPåŸºç¡€"><a href="#TCP-x2F-IPåŸºç¡€" class="headerlink" title="TCP/IPåŸºç¡€"></a>TCP/IPåŸºç¡€</h2><h3 id="TCP-x2F-IPåè®®æ ˆ"><a href="#TCP-x2F-IPåè®®æ ˆ" class="headerlink" title="TCP/IPåè®®æ ˆ"></a>TCP/IPåè®®æ ˆ</h3><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 OSIä¸ƒå±‚åŠŸèƒ½.png"><ul><li><p><strong>é—®é¢˜</strong>ï¼šè·¯ç”±å™¨è¿ç€ä¸€å°ç”µè„‘ï¼Œç½‘ç»œæ­£å¸¸ï¼Œä¸­é—´åŠ ä¸ªäº¤æ¢æœºï¼Œç½‘ç»œä¸åŒäº†ï¼ŒåŸå› ï¼Ÿ</p></li><li><p><strong>ç­”</strong>ï¼švlanåˆ’åˆ†æœ‰é—®é¢˜ï¼Œç«¯å£éš”ç¦»æœ‰é—®é¢˜ï¼ŒMACåœ°å€è¡¨Â·Â·Â·Â·Â·Â·</p></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç”µè„‘åŸºç¡€é…ç½®</span>IPåœ°å€ï¼š192.168.1.66å­ç½‘æ©ç ï¼š255.255.255.0ç½‘å…³ï¼š192.168.1.1<span class="token comment"># è·¯ç”±å™¨</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>sysEnter system view, <span class="token builtin class-name">return</span> user view with Ctrl+Z.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>inter g0/0/0<span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span>ip <span class="token function">add</span> <span class="token number">192.168</span>.1.1 <span class="token number">24</span><span class="token punctuation">[</span>Huawei-GigabitEthernet0/0/0<span class="token punctuation">]</span><span class="token comment"># ç”µè„‘</span>PC<span class="token operator">&gt;</span>ping <span class="token number">192.168</span>.1.1Ping <span class="token number">192.168</span>.1.1: <span class="token number">32</span> data bytes, Press Ctrl_C to <span class="token builtin class-name">break</span>From <span class="token number">192.168</span>.1.1: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">157</span> msFrom <span class="token number">192.168</span>.1.1: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">46</span> msFrom <span class="token number">192.168</span>.1.1: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">32</span> msFrom <span class="token number">192.168</span>.1.1: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">16</span> msFrom <span class="token number">192.168</span>.1.1: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">255</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">46</span> ms--- <span class="token number">192.168</span>.1.1 <span class="token function">ping</span> statistics ---  <span class="token number">5</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> transmitted  <span class="token number">5</span> packet<span class="token punctuation">(</span>s<span class="token punctuation">)</span> received  <span class="token number">0.00</span>% packet loss  round-trip min/avg/max <span class="token operator">=</span> <span class="token number">16</span>/59/157 msPC<span class="token operator">&gt;</span><span class="token comment"># äº¤æ¢æœº</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>display mac-addressMAC address table of slot <span class="token number">0</span>:-------------------------------------------------------------------------------MAC Address    VLAN/       PEVLAN CEVLAN Port            Type      LSP/LSR-ID                 VSI/SI                                              MAC-Tunnel  -------------------------------------------------------------------------------00e0-fca4-15de <span class="token number">1</span>           -      -      GE0/0/1         dynamic   <span class="token number">0</span>/-         <span class="token number">5489</span>-9889-0ff0 <span class="token number">1</span>           -      -      GE0/0/2         dynamic   <span class="token number">0</span>/-         -------------------------------------------------------------------------------Total matching items on slot <span class="token number">0</span> displayed <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span></code></pre><p>äº¤æ¢æœºæ”¶åˆ°æ•°æ®å¸§åï¼Œä¸ç®¡æœ‰æ²¡æœ‰MACåœ°å€ï¼Œè®°å½•æ•°æ®å¸§çš„MACåœ°å€ï¼Œå¦‚æœMACåœ°å€è¡¨æœ‰è¿™ä¸ªMACåœ°å€ï¼Œåˆ™è¦†ç›–</p><blockquote><p><strong>å¹²åäº‹</strong>ï¼šå¦‚ä½•è·å–åŒä¸€ä¸ªå±€åŸŸç½‘å†…å…¶ä»–ä¸»æœºçš„ä¸Šç½‘ä¿¡æ¯<br>å¯ä»¥ç”¨macofç›´æ¥æŠŠäº¤æ¢æœºMACåœ°å€æ‰“æ»¡ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠäº¤æ¢æœºå˜æˆé›†çº¿å™¨(ç”¨åƒåœ¾MACä¿¡æ¯æŠŠäº¤æ¢è¡¨æ‰“æ»¡ï¼Œè¿™æ ·äº¤æ¢æœºå°±æ— æ³•å­¦ä¹ æ­£å¸¸äº¤æ¢å¸§çš„åœ°å€ï¼Œæ‰€ä»¥æ­¤åé‡åˆ°æ­£å¸¸çš„å•æ’­å¸§å°±å…¨éƒ¨å°ç«™)<br><strong>å®‰å…¨é˜²æŠ¤</strong>ï¼šMACFlourï¼Œè®¾ç½®ç‰¹å®šçš„MACåœ°å€çš„å­¦ä¹ è®°å½•ï¼Œåªè¦å‘é€è¶…è¿‡è¿™ä¸ªè®¾ç½®çš„é˜ˆå€¼ï¼Œå°±ä¸æ¥å—MACåœ°å€</p></blockquote><p>ä¸åŒæœåŠ¡å¯¹åº”çš„ç«¯å£ï¼š</p><table><thead><tr><th align="center">åè®®</th><th align="center">ç«¯å£</th></tr></thead><tbody><tr><td align="center">FTP</td><td align="center">21</td></tr><tr><td align="center">Ssh</td><td align="center">22</td></tr><tr><td align="center">Telnet</td><td align="center">23</td></tr><tr><td align="center">FTP</td><td align="center">20ã€21</td></tr><tr><td align="center">SMTP</td><td align="center">25</td></tr><tr><td align="center">TFTP</td><td align="center">69</td></tr><tr><td align="center">HTTP</td><td align="center">80</td></tr><tr><td align="center">HTTPS</td><td align="center">443</td></tr></tbody></table><p><font color="#999AAA">20ï¼šè¿›è¡Œæ•°æ®ä¼ è¾“ã€21ï¼šä¼ è¾“æ§åˆ¶</font></p><table><thead><tr><th align="center">å±‚</th><th>PDU</th></tr></thead><tbody><tr><td align="center">ç‰©ç†å±‚</td><td>ä½</td></tr><tr><td align="center">æ•°æ®é“¾è·¯å±‚</td><td>å¸§</td></tr><tr><td align="center">ç½‘ç»œå±‚</td><td>åŒ…</td></tr><tr><td align="center">ä¼ è¾“å±‚</td><td>æ®µ</td></tr><tr><td align="center">åº”ç”¨å±‚</td><td>æ•°æ®</td></tr></tbody></table><p>å‘æ•°æ®åŒ… -&gt; å°è£…<br>æ”¶æ•°æ®åŒ… -&gt; è§£å°</p><p>IPæ•°æ®åŒ…ï¼š<br>IDï¼šæ•°æ®ç‰‡åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä½ç½®<br>MTUï¼šæ•°æ®åŒ…æœ€å¤§é™åˆ¶ï¼Œé»˜è®¤1500Byte<br>Flagsï¼šå¼ºåˆ¶ä¸åˆ†ç‰‡ç”¨æ¥æ£€æµ‹MTU<br>Fragement Offsetï¼š<br>TTL(Time ti Live)ï¼š<code>trancrt</code>æŒ‡ä»¤ç”¨æ¥æŸ¥è¯¢è·¯ç”±å™¨èŠ‚ç‚¹<br>Protocolï¼š(é˜²ç«å¢™è®¾ç½®ï¼Œé™åˆ¶æŸä¸ªåè®®)</p><h3 id="TCP-x2F-IPåè®®æ ˆæŠ¥æ–‡å°è£…"><a href="#TCP-x2F-IPåè®®æ ˆæŠ¥æ–‡å°è£…" class="headerlink" title="TCP/IPåè®®æ ˆæŠ¥æ–‡å°è£…"></a>TCP/IPåè®®æ ˆæŠ¥æ–‡å°è£…</h3><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 TCPé¦–éƒ¨æ ¼å¼.png"><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 IPæ•°æ®æŠ¥.png"><p>å¸§å¤´ç‰¹ç‚¹ï¼š<br>IPæŠ¥å¤´ï¼šæºåœ°å€åœ¨å‰ï¼Œç›®æ ‡åœ°å€åœ¨å<br>æ•°æ®å¸§ï¼šç›®æ ‡åœ°å€åœ¨å‰ï¼Œæºåœ°å€åœ¨å</p><blockquote><p><strong>å¹²åäº‹</strong>ï¼šARPä¸­é—´äººæ”»å‡»(ARPæ¬ºéª—)ï¼Œåœ¨å±€åŸŸç½‘ä¸­æˆªè·åˆ«äººæ•°æ®åŒ…ã€‚(æ–­åˆ«äººçš„ç½‘)</p></blockquote><p>ARPåè®®ï¼š<br>é¦–å…ˆæŸ¥è¡¨æœ‰æ— å¯¹åº”çš„ç›®çš„MACåœ°å€ï¼Œæœ‰ç›´æ¥å°è£…æ•°æ®å¸§å¹¶å‘é€ç»™äº¤æ¢æœºï¼Œæ— åˆ™ä½¿ç”¨ARPåè®®æŸ¥è¯¢MACåœ°å€ã€‚<br>å¹¿æ’­(å‘é€ARPè¯·æ±‚ï¼Œè¯¢é—®å¯¹æ–¹MACåœ°å€)-&gt;å•æ’­(è¿”å›MACåœ°å€)</p><p>äºŒå±‚å¹¿æ’­åœ°å€æ˜¯å…¨Fï¼ŒARPä¸å°è£…IPåœ°å€</p><blockquote><p><strong>å¹²åäº‹</strong>ï¼šè·å–å±€åŸŸç½‘å†…å…¶ä»–ä¸»æœºæƒé™ï¼Œé¦–å…ˆå¯¹ç›®æ ‡ä¸»æœºåšä¸­é—´äººæ¬ºéª—ï¼Œç„¶ååšDNSæ¬ºéª—ï¼Œç›®æ ‡ä¸»æœºæ‰“å¼€ä»»ä½•ç½‘ç«™å‡è§£æåˆ°æˆ‘ä»¬æ­å»ºçš„ä¸€ä¸ªç½‘ç«™ä¸Šé¢ï¼Œç„¶åè®©å¯¹æ–¹ç‚¹å‡»ç½‘ç«™å†…å®¹ç„¶åè¿è¡Œã€‚<br><strong>å®‰å…¨é˜²æŠ¤</strong>ï¼šæ‰¾åˆ°vlanç½‘å…³çš„ç‰©ç†MACåœ°å€å’ŒIPåœ°å€ï¼Œå†åšé™æ€IPç»‘å®šï¼Œå°±å¯ä»¥ç»•è¿‡ARPä¸­é—´äººæ”»å‡»</p></blockquote><h2 id="ä¼ è¾“å±‚åè®®"><a href="#ä¼ è¾“å±‚åè®®" class="headerlink" title="ä¼ è¾“å±‚åè®®"></a>ä¼ è¾“å±‚åè®®</h2><p><font color="#999AAA">TCPåŠè¿æ¥æ”»å‡»ï¼š<br>æµé‡æ¸…æ´—ï¼š</font></p><ul><li>TCPå¯é æ€§ï¼š<ul><li>é¢å‘è¿æ¥çš„ä¼ è¾“</li><li>æœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦</li><li>ä¼ è¾“ç¡®è®¤æœºåˆ¶</li><li>é¦–éƒ¨å’Œæ•°æ®çš„æ£€éªŒå’Œ</li><li>æµé‡æ§åˆ¶</li></ul></li></ul><table><thead><tr><th align="center">0-65535ç«¯å£å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">0-1023</td><td>ç†ŸçŸ¥ç«¯å£å·</td></tr><tr><td align="center">1024-49151</td><td>ç™»è®°ç«¯å£å·</td></tr><tr><td align="center">49152â€”65536</td><td>çŸ­æš‚ç«¯å£å·</td></tr></tbody></table><p>TCPè¿æ¥å»ºç«‹ï¼šTCPä¸‰æ¬¡æ¡æ‰‹</p><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 TCPè¿æ¥çš„å»ºç«‹.png"><p>TCPè¿æ¥é‡Šæ”¾ï¼šTCPå››æ¬¡æ¡æ‰‹</p><img src="/2022/06/29/ict-zhan-dui-di-1-ci-bi-ji/01 TCPè¿æ¥çš„ç»ˆæ­¢.png"><p>Acknowledgment Numberï¼šç¡®è®¤å¸§(ä¸‹æ¬¡å¸Œæœ›æ”¶åˆ°çš„åºåˆ—å·)<br>Synï¼šå»ºç«‹è¿æ¥<br>Finï¼šæ–­å¼€è¿æ¥</p><p>TCPç¡®è®¤æœºåˆ¶ï¼šæ˜¾ç¤ºç¡®è®¤<br>OSPFç¡®è®¤æœºåˆ¶ï¼šéšå¼ç¡®è®¤</p><blockquote><p><strong>æäº‹æƒ…</strong>ï¼šwebæ¸—é€ï¼Œå¼€ä»£ç†ï¼Œé€šè¿‡**æ‹¦æˆªæ•°æ®åŒ…ï¼Œä¿®æ”¹æ•°æ®åŒ…çš„å‚æ•°</p></blockquote><p><strong>ç§æœ‰åœ°å€</strong>ï¼š<br>10.0.0.0 ~ 10.255.255.255<br>172.16.0.0 ~ 172.31.255.255<br>192.168.0.0 ~ 192.168.255.255(å°½é‡åˆ«ç”¨)</p><table><thead><tr><th align="center">äºŒè¿›åˆ¶</th><th align="center">åè¿›åˆ¶</th></tr></thead><tbody><tr><td align="center">10000000</td><td align="center">128</td></tr><tr><td align="center">11000000</td><td align="center">192</td></tr><tr><td align="center">11100000</td><td align="center">224</td></tr><tr><td align="center">11110000</td><td align="center">240</td></tr><tr><td align="center">11111000</td><td align="center">248</td></tr><tr><td align="center">11111100</td><td align="center">252</td></tr></tbody></table><p>å…¬å¼ï¼š$2^n-2 &gt; w$</p><p>50ï¼š192.168.2.0/26<br>29ï¼š192.168.2.64/27<br>2ï¼š192.168.2.96/30</p><p><font color="#999AAA">å®é™…ä¸­ä¸€èˆ¬ä½¿ç”¨24ä¸ª24ä¸ªåœ°ç”¨</font></p><h2 id="VRPåŸºç¡€åŠæ“ä½œ"><a href="#VRPåŸºç¡€åŠæ“ä½œ" class="headerlink" title="VRPåŸºç¡€åŠæ“ä½œ"></a>VRPåŸºç¡€åŠæ“ä½œ</h2><ul><li>è¦æ±‚ï¼š<ul><li>äº†è§£VRPä½“ç³»ç»“æ„</li><li>æŒæ¡VRPé…ç½®åŸºç¡€</li><li>æŒæ¡å‡çº§è·¯ç”±å™¨è½¯ä»¶å’Œå¤‡ä»½é…ç½®æ–‡ä»¶çš„æ–¹æ³•</li></ul></li></ul><h3 id="1-VRPæ¦‚è¿°"><a href="#1-VRPæ¦‚è¿°" class="headerlink" title="1. VRPæ¦‚è¿°"></a>1. VRPæ¦‚è¿°</h3><p>é€šç”¨è·¯ç”±å¹³å°VRP(Versatile Routing Platform)æ˜¯åä¸ºæ•°æ®é€šä¿¡äº§å“åœ°é€šç”¨æ“ä½œç³»ç»Ÿå¹³å°ï¼Œå®ƒä»¥IPä¸šåŠ¡ä¸ºæ ¸å¿ƒï¼Œé‡‡ç”¨ç»„ä»¶åŒ–åœ°ä½“ç³»ç»“æ„ï¼Œåœ¨å®ç°ä¸°å¯ŒåŠŸèƒ½ç‰¹æ€§åœ°åŒæ—¶ï¼Œæä¾›åŸºäºåº”ç”¨çš„å¯è£å‰ªå’Œå¯æ‹“å±•çš„åŠŸèƒ½ã€‚</p><h3 id="2-é…ç½®ç¯å¢ƒçš„æ­å»º"><a href="#2-é…ç½®ç¯å¢ƒçš„æ­å»º" class="headerlink" title="2. é…ç½®ç¯å¢ƒçš„æ­å»º"></a>2. é…ç½®ç¯å¢ƒçš„æ­å»º</h3><ul><li><ol><li>é€šè¿‡Consoleå£é…ç½®</li></ol></li></ul><p>Consoleå£(å…‰ç”µå¤ç”¨ï¼šåªèƒ½ç”¨å…¶ä¸­ä¸€ä¸ªå£ï¼Œå…‰å£/ç”µå£)</p><p><font color="#999AAA">ä½¿ç”¨SecureCRTï¼Œè®¾å¤‡å¼€æœºå…ˆåšç¡¬ä»¶è´¨æ£€</font></p><p><font color="#999AAA">å»ºè®®ï¼šå…ˆå†™å¥½è„šæœ¬ï¼Œå†å¤åˆ¶è¿‡å»</font></p><ul><li><ol start="2"><li>é€šè¿‡Telnetæ–¹å¼é…ç½®</li></ol></li></ul><p><font coor="#AAA">æ€ç§‘ISOå¹³å°ï¼Œåä¸ºVRPå¹³å°ï¼Œåä¸‰comewareå¹³å°</font></p><h3 id="3-eNSPä½¿ç”¨"><a href="#3-eNSPä½¿ç”¨" class="headerlink" title="3. eNSPä½¿ç”¨"></a>3. eNSPä½¿ç”¨</h3><table><thead><tr><th>è¯•å›¾</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç”¨æˆ·è§†å›¾<code>&lt;Huawei&gt;</code></td><td>è®¾å¤‡å¯åŠ¨åç¼ºçœè§†å›¾ï¼Œå¯æŸ¥çœ‹å¯åŠ¨ååŸºæœ¬è¿è¡ŒçŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td>ç³»ç»Ÿè§†å›¾<code>[Huawei]</code></td><td>é…ç™»ç³»ç»Ÿå…¨å±€é€šç”¨å‚æ•°çš„è§†å›¾</td></tr><tr><td>è·¯ç”±åè®®è§†å›¾<code>[Huawei-ospf-1]</code></td><td>é…ç™»è·¯ç”±åè®®å‚æ•°çš„è§†å›¾</td></tr><tr><td>æ¥å£è§†å›¾<code>[Huawei-GigabitEthernet0/0/0]</code></td><td>é…ç¬ªæ¥å£å‚æ•°çš„è§†å›¾</td></tr><tr><td>ç”¨æˆ·ç•Œé¢è§†å›¾<code>[Huawei-ui-console0]</code></td><td>é…ç™»ç™»å½•è®¾å¤‡çš„å„ä¸ªç”¨æˆ·å±æ€§çš„è§†å›¾</td></tr></tbody></table><p>ä¿®æ”¹è·¯ç”±å™¨åå­—ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä¿®æ”¹è·¯ç”±å™¨åå­—</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>sysEnter system view, <span class="token builtin class-name">return</span> user view with Ctrl+Z.<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>sysname hw<span class="token punctuation">[</span>hw<span class="token punctuation">]</span></code></pre><p>ç”¨æˆ·è§†å›¾åˆ°ç³»ç»Ÿè§†å›¾ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo 1.ç”¨æˆ·è§†å›¾åˆ°ç³»ç»Ÿè§†å›¾</span><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>system-view<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>quit  <span class="token comment"># é€€å‡ºä½¿ç”¨quit</span></code></pre><p>ç³»ç»Ÿæ¨¡å¼åˆ°å…¶ä»–æ¨¡å¼ï¼š</p><ul><li>æ¥å£ç±»å‹ï¼š<ul><li>é€šä¿¡æ¥å£ï¼Œè¿›é€šä¿¡æ¥å£ï¼šinterface</li><li>ç®¡ç†æ¥å£ï¼Œè¿›ç®¡ç†æ¥å£ï¼šuser-interface console 0</li></ul></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo 2.ç³»ç»Ÿæ¨¡å¼åˆ°å…¶ä»–æ¨¡å¼</span><span class="token punctuation">[</span>swith<span class="token punctuation">]</span>interface Ethernet <span class="token number">1</span>/0/24  <span class="token comment"># ç”±ç³»ç»Ÿæ¨¡å¼åˆ°æ¥å£æ¨¡å¼</span><span class="token punctuation">[</span>swith<span class="token punctuation">]</span>user-interface vty <span class="token number">0</span> <span class="token number">4</span>  <span class="token comment"># ç”±ç³»ç»Ÿæ¨¡å¼è¿›å»ç”¨æˆ·ç•Œé¢è§†å›¾</span><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>user-interface aux <span class="token number">0</span>  <span class="token comment"># ç”±ç³»ç»Ÿè§†å›¾æ¨¡å¼åˆ°AUXå£</span><span class="token punctuation">[</span>Huawei-ui-aux0<span class="token punctuation">]</span>speed <span class="token number">115200</span>  <span class="token comment"># ä¿®æ”¹AUXå£é€Ÿç‡</span><span class="token punctuation">[</span>Huawei-Ethernet1/0/2Jreturn  <span class="token comment"># ç›´æ¥é€€åˆ°ç”¨æˆ·è§†å›¾æ¨¡å¼</span><span class="token punctuation">[</span>R2<span class="token punctuation">]</span>ospf<span class="token punctuation">[</span>R2-ospf-1<span class="token punctuation">]</span>  <span class="token comment"># ç³»ç»Ÿè§†å›¾è¿›å…¥è·¯ç”±åè®®è§†å›¾</span><span class="token punctuation">[</span>swith<span class="token punctuation">]</span>vlan <span class="token number">1</span><span class="token punctuation">[</span>swith-vlan1<span class="token punctuation">]</span></code></pre><p>Huaweiå®‰å…¨é…ç½®ç™»å½•(ä½¿ç”¨çº¿è·¯ä¸‹å¯†ç è®¤è¯)ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo 3.Huaweiå®‰å…¨é…ç™»(ä½¿ç”¨çº¿è·¯ä¸‹å¯†ç è®¤è¯)</span><span class="token punctuation">[</span>Huaweiluser-interface console <span class="token number">0</span>  <span class="token comment"># ä¸ºconsoleå£è®¾ç½®å¯†ç </span><span class="token punctuation">[</span>Huawei-ui-console0<span class="token punctuation">]</span>authentication-mode aaa  <span class="token comment"># è®¾ç™»è®¤è¯æ¨¡å¼ä¸ºæœ¬åœ°è´¦æˆ·</span><span class="token punctuation">[</span>Huawei-ui-console0<span class="token punctuation">]</span>authentication- mode password  <span class="token comment"># è®¾ç¿Œè®¤è¯æ¨¡å¼ä¸ºç”¨æˆ·è§†å›¾ä¸‹å¯†ç  </span><span class="token punctuation">[</span>Huawei-ui-console0<span class="token punctuation">]</span>set authentication password cipher huawei  <span class="token comment"># è®¾ç™»ç”¨æˆ·è§†å›¾ä¸‹å¯†ç ä»¥ç§˜æ–‡æ–¹å¼</span></code></pre><p>ä½¿ç”¨æœ¬åœ°ç”¨æˆ·åŠå¯†ç è®¤è¯ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ä½¿ç”¨æœ¬åœ°ç”¨æˆ·åŠå¯†ç è®¤è¯</span><span class="token punctuation">[</span>DS-1<span class="token punctuation">]</span>user-interface aux <span class="token number">0</span>  <span class="token comment"># ä¸ºauxå£è®¾ç™»å¯†ç </span><span class="token punctuation">[</span>Huawei-ui-console0<span class="token punctuation">]</span>authentication-mode aaa  <span class="token comment"># è®¾ç™»è®¤è¯æ¨¡å¼ä¸ºæœ¬åœ°è´¦æˆ·</span><span class="token punctuation">[</span>Huawei-ui-console0<span class="token punctuation">]</span>quit<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>aaa  <span class="token comment"># è¿›å…¥aaaæ¨¡å¼</span><span class="token punctuation">[</span>Huareiaaallocal-user admin password cipher huawei  <span class="token comment"># åˆ›å»ºç”¨æˆ·adminå¹¶è®¾ç™»å¯†ç </span><span class="token punctuation">[</span>Huawei-aaa<span class="token punctuation">]</span>local-user admin service-type terminal  <span class="token comment"># å…è®¸éªŒè¯ç»ˆç«¯ç™»å½•æœåŠ¡</span></code></pre><ul><li><strong>æ³¨</strong>ï¼š<ul><li>æ‹¿åˆ°çœŸå®åä¸ºè®¾å¤‡ç¬¬ä¸€ä»¶äº‹ï¼šåˆ›å»º/ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç (ä¸€èˆ¬æœ‰é»˜è®¤ç”¨æˆ·åå¯†ç )ï¼Œä¸æ”¹é»˜è®¤å¯†ç <strong>é£é™©å¾ˆå¤§</strong>ï¼ï¼ï¼</li><li>è®¾ç½®å¯†ç ä¸è¦å†™ç©ºæ ¼ï¼ï¼ï¼</li><li>åˆ›å»ºç”¨æˆ·åã€å¯†ç ï¼Œç„¶åç»™<strong>æƒé™</strong>ï¼ï¼ï¼è‡³å°‘ç»™terminalæƒé™</li><li>é…ç½®å†™åœ¨å†…å­˜é‡Œé¢ï¼Œæ‰€ä»¥éœ€è¦å†ä¿å­˜</li></ul></li></ul><p><font color="#999AAA">å…¶ä»–å·¥å…·çš„ä½¿ç”¨ï¼šWiresharkã€SecureCRTã€FOFAã€</font></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> ICTæˆ˜é˜Ÿæ•°æ®é€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCIA </tag>
            
            <tag> åä¸ºeNSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Hexoæ¡†æ¶æ­å»ºä¸ªäººé™æ€åšå®¢</title>
      <link href="/2022/06/28/shi-yong-hexo-kuang-jia-da-jian-ge-ren-bo-ke/"/>
      <url>/2022/06/28/shi-yong-hexo-kuang-jia-da-jian-ge-ren-bo-ke/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨Hexoæ¡†æ¶æ­å»ºä¸ªäººé™æ€åšå®¢"><a href="#ä½¿ç”¨Hexoæ¡†æ¶æ­å»ºä¸ªäººé™æ€åšå®¢" class="headerlink" title="ä½¿ç”¨Hexoæ¡†æ¶æ­å»ºä¸ªäººé™æ€åšå®¢"></a>ä½¿ç”¨Hexoæ¡†æ¶æ­å»ºä¸ªäººé™æ€åšå®¢</h1><p>[toc]</p><p>æœ¬æ–‡ä½¿ç”¨ Hexo + Github æ­å»ºä¸ªäººé™æ€åšå®¢ç½‘ç«™ï¼Œä¼˜ç‚¹ï¼šå…è´¹ã€ç®€å•ï¼ˆç›¸è¾ƒäºå…¶ä»–æ­å»ºä¸ªäººåšå®¢ç½‘ç«™æ–¹æ³•ï¼‰ï¼Œç¼ºç‚¹ï¼šé…ç½®æœ‰ç‚¹ç¹çã€å›½å†…è®¿é—®é€Ÿåº¦ä¸å¿«ã€‚</p><p><strong>ç³»ç»Ÿ</strong>ï¼šWindows10ï¼ˆå¦‚æ— ç‰¹åˆ«è¯´æ˜ï¼Œæœ¬æ–‡å‡åœ¨å‘½ä»¤è¡Œï¼Œå³ cmd æˆ–è€… powershell ä¸‹è¿è¡Œå‘½ä»¤ï¼‰</p><p><strong>å…¶ä»–è¯´æ˜</strong>ï¼š</p><ol><li>ç”±äº Windows æ¯ä¸ªäººçš„ç”¨æˆ·åä¸åŒï¼Œè¿™é‡Œä½¿ç”¨ Linux ä¸­å½“å‰ç”¨æˆ·ç›®å½• <code>~</code> è¡¨ç¤º Windows çš„å½“å‰ç”¨æˆ·ç›®å½•ã€‚</li><li>æœ¬æ–‡ä¸»è¦ä¾§é‡äºè®°å½•å¢åŠ åŠŸèƒ½éƒ¨åˆ†çš„å®ç°ï¼Œæ‰€ä»¥å®‰è£…éƒ¨åˆ†å’Œä¸€äº›åŸºç¡€å†…å®¹ä¸ä¼šèµ˜è¿°ã€‚</li><li>åœ¨æœ¬æ–‡ <a href="#%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AE">äºŒã€é…ç½®</a> éƒ¨åˆ†ï¼Œæœ‰ä¸¤ä¸ªç›®å½• (<code>blog</code> å’Œ <code>blog/themes/matery</code>) æœ‰ <code>_config.yml</code> æ–‡ä»¶ï¼Œæ³¨æ„çœ‹æ¸…æ¥šæ˜¯é‚£ä¸ªç›®å½•ï¼Œä¸è¦æé”™äº†ï¼</li></ol><h2 id="ä¸€ã€å®‰è£…"><a href="#ä¸€ã€å®‰è£…" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h2><p>å®‰è£…è§†é¢‘æ•™ç¨‹å¯ä»¥å‚è€ƒï¼š<a href="https://www.bilibili.com/video/BV1Yb411a7ty?spm_id_from=333.337&amp;vd_source=e0a4abf3a261891c5444e0f0044a7cf3">æ‰‹æŠŠæ‰‹æ•™ä½ ä»0å¼€å§‹æ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢ |æ— å‘ç‰ˆè§†é¢‘æ•™ç¨‹| hexo</a></p><h3 id="1-1-æ­å»ºç¯å¢ƒ"><a href="#1-1-æ­å»ºç¯å¢ƒ" class="headerlink" title="1.1 æ­å»ºç¯å¢ƒ"></a>1.1 æ­å»ºç¯å¢ƒ</h3><p>æ­å»ºç¯å¢ƒï¼šéœ€è¦å®‰è£… <code>node.js</code> å’Œ <code>npm</code> (ä¸€èˆ¬ <code>npm</code> ä¸‹è½½è¾ƒæ…¢ï¼Œæ‰€ä»¥å¯ä»¥ä¸‹è½½ <code>cnpm</code>)</p><ul><li>step1 ä¸‹è½½ <code>node.js</code></li></ul><p>ç›´æ¥å» <code>node.js</code> å®˜ç½‘ä¸‹è½½ã€å®‰è£…å³å¯ï¼Œå»ºè®®ä½¿ç”¨ <code>node.js 12.0</code>åŠä»¥ä¸Šç‰ˆæœ¬</p><p><code>node.js</code> å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></p><p>å®‰è£…å®Œæˆåï¼Œ<code>node.js</code> è‡ªå¸¦ <code>npm</code>ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ <code>node.js</code> å’Œ <code>npm</code> çš„ä¿¡æ¯ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">node</span> -v  <span class="token comment"># æŸ¥çœ‹ node ç‰ˆæœ¬</span><span class="token function">npm</span> -v  <span class="token comment"># æŸ¥çœ‹ npm ç‰ˆæœ¬</span><span class="token comment"># å…¶ä»–å‘½ä»¤</span><span class="token function">npm</span> config <span class="token function">ls</span> -l  <span class="token comment"># æŸ¥çœ‹ npm é…ç½®</span><span class="token function">npm</span> info xxxx  <span class="token comment"># æŸ¥çœ‹ npm ä¸‹è½½çš„ xxxx åº“çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šnpm info underscore</span></code></pre><ul><li>step2 ä¸‹è½½ <code>cnpm</code> (å¯é€‰)</li></ul><p>(å»ºè®®ä¸é€‰ï¼šå› ä¸ºä½¿ç”¨ <code>cnpm</code> å®‰è£…å¯èƒ½ä¼šæœ‰å„ç§å¾ˆå¥‡æ€ªçš„bugï¼Œè™½ç„¶ <code>npm</code> ä¸‹è½½æ…¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è®¾ç½®å›½å†…é•œåƒçš„æ–¹å¼è§£å†³)</p><p>ä½¿ç”¨ <code>npm</code> ä¸‹è½½ <code>cnpm</code> å¹¶æŸ¥çœ‹ <code>cnpm</code> ä¿¡æ¯ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g cnpm --registry<span class="token operator">=</span>https://registry.npm.taobao.org  <span class="token comment"># æŒ‡å®šæ·˜å®é•œåƒå®‰è£… cnpm</span>cnpm -v  <span class="token comment"># æŸ¥çœ‹ cnpm ç‰ˆæœ¬</span></code></pre><ul><li>step3 è§£å†³ä¸‹è½½æ…¢çš„é—®é¢˜(å¯é€‰ï¼Œå¦‚æœèƒ½å¿å—ä¸‹è½½æ…¢å¯ä»¥ä¸é€‰<span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ–¹æ³•ä¸€ï¼šnpm ä¸´æ—¶è®¾ç½®é•œåƒ</span><span class="token function">npm</span> --registry <span class="token function">install</span> xxxx https://registry.npm.taobao.org  <span class="token comment"># å…¶ä¸­ xxxx æ˜¯éœ€è¦ä¸‹è½½çš„ä¸œè¥¿</span><span class="token comment"># æ–¹æ³•äºŒï¼šnpm æ°¸ä¹…è®¾ç½®é•œåƒ</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org  <span class="token comment"># å»ºè®®ä¸è¦å†ä½¿ç”¨è¿™ä¸ªé•œåƒï¼ŒåŸå› åè¯´</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com  <span class="token comment"># å»ºè®®ä½¿ç”¨è¿™ä¸ªé•œåƒï¼ŒåŸå› åè¯´</span><span class="token function">npm</span> config get registry  <span class="token comment"># éªŒè¯è®¾ç½®æ˜¯å¦æˆåŠŸ</span><span class="token function">npm</span> <span class="token function">install</span> xxxx  <span class="token comment"># å…¶ä¸­ xxxx æ˜¯éœ€è¦ä¸‹è½½çš„ä¸œè¥¿</span><span class="token comment"># æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ cnpm (å¯é€‰)</span>cnpm <span class="token function">install</span> xxxx  <span class="token comment"># å…¶ä¸­ xxxx æ˜¯éœ€è¦ä¸‹è½½çš„ä¸œè¥¿</span></code></pre><p>é•œåƒç½‘ç«™ï¼š<a href="https://npmmirror.com/">npmmirror ä¸­å›½é•œåƒç«™</a></p><blockquote><p>å»ºè®®ä¸å†ä½¿ç”¨ <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a> çš„åŸå› ï¼šåŸæ·˜å® <code>npm</code>ï¼Œå³ <code>cnpm</code> åŸŸåå·²ç»åœæ­¢è§£æ</p><p><a href="https://link.zhihu.com/?target=http://npm.taobao.org">http://npm.taobao.org</a> å’Œ <a href="https://link.zhihu.com/?target=http://registry.npm.taobao.org">http://registry.npm.taobao.org</a> å·²ç»åœ¨ 2022.06.30 å·æ­£å¼ä¸‹çº¿å’Œåœæ­¢ DNS è§£æï¼ŒåŸŸååˆ‡æ¢è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li><a href="https://link.zhihu.com/?target=http://npm.taobao.org">http://npm.taobao.org</a> $\Rightarrow$ <a href="https://link.zhihu.com/?target=http://npmmirror.com">http://npmmirror.com</a></li><li><a href="https://link.zhihu.com/?target=http://registry.npm.taobao.org">http://registry.npm.taobao.org</a> $\Rightarrow$ <a href="https://link.zhihu.com/?target=http://registry.npmmirror.com">http://registry.npmmirror.com</a></li></ul></blockquote><ul><li>step4 å®‰è£… <code>hexo</code></li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli  <span class="token comment"># ä¸‹è½½ hexo</span>hexo -v  <span class="token comment"># æŸ¥çœ‹ hexo ç‰ˆæœ¬</span></code></pre><p>åˆ°æ­¤ï¼Œå¿…è¦çš„ç¯å¢ƒå·²ç»æ­å»ºå®Œæˆï¼Œå…³äº <code>node.js</code> å’Œ <code>npm</code> ç­‰çš„å…¶ä»–å†…å®¹å¯è‡ªè¡Œå±•å¼€æŸ¥çœ‹ã€‚</p><details><summary>å…¶ä»–å†…å®¹ï¼šå±•å¼€è¯´è¯´</summary><ul><li>å…³äº <code>node.js</code></li></ul><p><code>node.js</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Chrome V8</code> å¼•æ“çš„ <code>JavaScript</code> è¿è¡Œç¯å¢ƒã€‚</p><ul><li>å…³äº <code>npm</code></li></ul><p><code>npm</code> æ˜¯éšåŒ <code>node.js</code> ä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·ã€‚</p><p><code>npm</code> çš„åŒ…åˆ†ä¸ºå…¨å±€å®‰è£…(<code>global</code>)ä¸æœ¬åœ°å®‰è£… (<code>local</code>)ï¼Œå‘½ä»¤ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> express     <span class="token comment"># æœ¬åœ°å®‰è£…</span><span class="token function">npm</span> <span class="token function">install</span> express -g  <span class="token comment"># å…¨å±€å®‰è£…</span><span class="token comment"># å¦‚æœå‡ºç°é”™è¯¯ï¼šnpm err! Error: connect ECONNREFUSED 127.0.0.1:8087 </span><span class="token comment"># ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> proxy null</code></pre><ul><li>å…³äº <code>cnpm</code></li></ul><p><code>cnpm</code> æ˜¯ä¸€ä¸ªå®Œæ•´ <code>npmjs.org</code> é•œåƒï¼Œä½ å¯ä»¥ç”¨æ­¤ä»£æ›¿å®˜æ–¹ç‰ˆæœ¬(åªè¯»)ï¼ŒåŒæ­¥é¢‘ç‡ç›®å‰ä¸º <strong>10åˆ†é’Ÿ</strong> ä¸€æ¬¡ä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡åŒæ­¥ã€‚ç®€å•æ¥è¯´ï¼Œ<code>cnpm</code> å°±æ˜¯æ˜¯æ·˜å® <code>npm</code>ã€‚</p><p><code>cnpm</code> bug ä¹‹ä¸€ï¼šå‘½ä»¤æ²¡ååº”<br>è§£å†³æ–¹æ³•ï¼šå¸è½½é‡è£…</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¸è½½ï¼š</span><span class="token function">npm</span> uninstall -g cnpm --registry<span class="token operator">=</span>https://registry.npm.taobao.org<span class="token comment"># æ³¨å†Œï¼š</span><span class="token function">npm</span> <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span class="token comment"># è§£æï¼š</span><span class="token function">npm</span> <span class="token builtin class-name">set</span> disturl https://npm.taobao.org/dist<span class="token comment"># å®‰è£…ï¼š</span><span class="token function">npm</span> <span class="token function">install</span> -g cnpm --registry<span class="token operator">=</span>https://registry.npm.taobao.org</code></pre><ul><li>å…³äº <code>underscore</code></li></ul><p><code>Underscore</code> (å®‰è£…ï¼š<code>npm install underscore</code>)æ˜¯ç›®å‰ä¸ºæ­¢ <code>npm</code> ä¸Šæœ€æµè¡Œçš„ <code>JavaScript</code> åº“ï¼Œæ˜¯æœ‰æœ€å¤§æ•°é‡ dependent çš„åº“ã€‚</p><ul><li>å…³äº <code>hexo</code></li></ul><p><code>hexo</code> æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚</p><p><code>hexo</code> å¸¸ç”¨å‘½ä»¤ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å‘½ä»¤å…¨ç§°</span>hexo new page <span class="token string">"åç§°"</span>  <span class="token comment"># æ–°å»ºåˆ†é¡µ</span>hexo new <span class="token string">"åç§°"</span><span class="token comment"># æ–°å»ºæ–‡ç« </span>hexo new draft <span class="token string">"åç§°"</span><span class="token comment"># æ–°å»ºè‰ç¨¿</span>hexo publish <span class="token string">"åç§°"</span><span class="token comment"># è‰ç¨¿ç”Ÿæˆæ–‡ç« </span>hexo publish page <span class="token string">"åç§°"</span>  <span class="token comment"># è‰ç¨¿ç”Ÿæˆåˆ†é¡µ</span>hexo clean  <span class="token comment"># æ¸…é™¤å·²ç”Ÿæˆæ–‡ä»¶</span>hexo generate<span class="token comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span>hexo server<span class="token comment"># è¿è¡Œæœ¬åœ°æœåŠ¡å™¨ï¼ˆé¢„è§ˆï¼‰</span>hexo server --drafts<span class="token comment"># è¿è¡Œæœ¬åœ°æœåŠ¡å™¨ï¼ˆé¢„è§ˆè‰ç¨¿ï¼‰</span>hexo deploy<span class="token comment"># éƒ¨ç½²åˆ°æœåŠ¡å™¨</span><span class="token comment"># å‘½ä»¤ç¼©å†™</span>hexo n page <span class="token string">"åç§°"</span>  <span class="token comment"># æ–°å»ºåˆ†é¡µ</span>hexo n <span class="token string">"åç§°"</span><span class="token comment"># æ–°å»ºæ–‡ç« </span>hexo n draft <span class="token string">"åç§°"</span><span class="token comment"># æ–°å»ºè‰ç¨¿</span>hexo p <span class="token string">"åç§°"</span><span class="token comment"># è‰ç¨¿ç”Ÿæˆæ–‡ç« </span>hexo p page <span class="token string">"åç§°"</span>  <span class="token comment"># è‰ç¨¿ç”Ÿæˆåˆ†é¡µ</span>hexo clean   <span class="token comment"># æ¸…é™¤å·²ç”Ÿæˆæ–‡ä»¶</span>hexo g <span class="token comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span>hexo s <span class="token comment"># è¿è¡Œæœ¬åœ°æœåŠ¡å™¨ï¼ˆé¢„è§ˆï¼‰</span>hexo s --drafts <span class="token comment"># è¿è¡Œæœ¬åœ°æœåŠ¡å™¨ï¼ˆé¢„è§ˆè‰ç¨¿ï¼‰</span>hexo d <span class="token comment"># éƒ¨ç½²åˆ°æœåŠ¡å™¨</span><span class="token comment"># å¿«é€Ÿæœ¬åœ°å‘å¸ƒå‘½ä»¤</span>hexo clean <span class="token operator">&amp;&amp;</span> hexo g <span class="token operator">&amp;&amp;</span> hexo s</code></pre></details><h3 id="1-2-æœ¬åœ°å‘å¸ƒ"><a href="#1-2-æœ¬åœ°å‘å¸ƒ" class="headerlink" title="1.2 æœ¬åœ°å‘å¸ƒ"></a>1.2 æœ¬åœ°å‘å¸ƒ</h3><p>æœ¬åœ°å‘å¸ƒçš„ç½‘ç«™åªèƒ½åœ¨æœ¬åœ°è®¿é—®ã€‚</p><ul><li>step1 åˆå§‹åŒ–</li></ul><p>åœ¨æœ¬åœ°ä»»æ„ç›®å½•(å»ºè®®åœ¨ç”¨æˆ·ç›®å½•ï¼Œå³ <code>~â€‹</code>)åˆ›å»ºä¸€ä¸ªåä¸º <code>blog</code> çš„æ–‡ä»¶å¤¹ï¼Œè¿›å…¥ <code>blog</code> æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨<strong>è¯¥ç›®å½•</strong> <code>~/blog</code> ä¸‹æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œåˆå§‹åŒ–ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo init</code></pre><blockquote><p>æ³¨ï¼š<code>hexo</code> çš„æ‰€æœ‰å‘½ä»¤å‡åœ¨ <code>~/blog</code> ç›®å½•ä¸‹è¾“å…¥å¹¶è¿è¡Œï¼</p></blockquote><ul><li>step2 å¯åŠ¨åšå®¢ç½‘ç«™</li></ul><p>æ­¤æ—¶ï¼Œæœ¬åœ°åšå®¢ç½‘ç«™å°±å·²ç»åˆ›å»ºå¥½äº†ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ç½‘ç«™ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo s</code></pre><p>ç„¶ååœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ <code>localhost:4000</code> è®¿é—®æœ¬åœ°å‘å¸ƒçš„åšå®¢ç½‘ç«™ã€‚å¦‚æœé¡µé¢åŠ è½½ä¸å‡ºæ¥ï¼Œå¯èƒ½æ˜¯ç«¯å£è¢«å ç”¨äº†ã€‚Ctrl+C å…³é—­æœåŠ¡å™¨ï¼Œè¿è¡Œ <code>hexo server -p 5000</code> æ›´æ”¹ç«¯å£å·åé‡è¯•ã€‚</p><p><img src="/2022/06/28/shi-yong-hexo-kuang-jia-da-jian-ge-ren-bo-ke/hello.png" alt="hello"></p><ul><li>step3 å†™ä¸€ç¯‡æ–‡ç« </li></ul><p>å…ˆæ–°å»ºä¸€ç¯‡æ–‡ç« ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo n <span class="token string">"myfirstblog"</span>  <span class="token comment"># æ–°å»ºæ–‡ç« </span></code></pre><p>ç„¶ååˆ° <code>blog/source/_posts</code> ç›®å½•ä¸‹å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ª <code>myfirstblog.md</code> æ–‡ä»¶ï¼Œç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œæ–‡ä»¶é‡Œé¢çš„å†…å®¹å°±ä¼šæ˜¾ç¤ºåœ¨åšå®¢ç½‘ç«™é‡Œé¢ã€‚</p><p>ä½¿ç”¨ä»»æ„ç¼–è¾‘å™¨(æ¨è typora)ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œä»¥ä¸‹é¢å†…å®¹ä¸ºä¾‹ï¼š</p><pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title: myfirstblogdate: 2022-02-2 22:22:22tags:</span><span class="token punctuation">---</span></span><span class="token title important"><span class="token punctuation">#</span> myfirstblog</span><span class="token title important"><span class="token punctuation">##</span> ç¬¬ä¸€ç« </span><span class="token title important"><span class="token punctuation">###</span> ç¬¬ä¸€èŠ‚</span>â€‹```c++<span class="token title important"><span class="token punctuation">#</span>include &lt;iostream&gt;</span>using namespace std;int main(){    cout &lt;&lt; "Hello, world!" &lt;&lt; endl;    return 0;}â€‹```<span class="token title important"><span class="token punctuation">###</span> ç¬¬äºŒèŠ‚</span>${\large e^{i \pi} + 1 = 0}$<span class="token title important"><span class="token punctuation">###</span> ç¬¬ä¸‰èŠ‚</span><span class="token list punctuation">-</span> First item<span class="token list punctuation">-</span> Second item<span class="token list punctuation">-</span> Third item</code></pre><p>ç¼–è¾‘å®Œæˆã€ä¿å­˜ã€‚</p><ul><li>step3 æŸ¥çœ‹åˆšæ‰å†™çš„æ–‡ç« </li></ul><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo cleanhexo ghexo s</code></pre><p>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ <code>localhost:4000</code> è®¿é—®æœ¬åœ°å‘å¸ƒçš„åšå®¢ç½‘ç«™ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°åˆšåˆšå†™çš„æ–‡ç« ã€‚</p><p><img src="/2022/06/28/shi-yong-hexo-kuang-jia-da-jian-ge-ren-bo-ke/myfirstblog.png" alt="myfirstblog"></p><p>åˆ°æ­¤ï¼Œæœ¬åœ°å‘å¸ƒçš„å¿…è¦æµç¨‹å·²ç»å®Œæˆï¼Œæ›´å¤šå…¶ä»–å†…å®¹å¯è‡ªè¡Œå±•å¼€æŸ¥çœ‹ã€‚</p><details><summary>å…¶ä»–å†…å®¹ï¼šå±•å¼€è¯´è¯´</summary><ul><li>å…³äº <code>~/blog</code> ç›®å½•</li></ul><p>åšå®¢çš„æ‰€æœ‰ä¸œè¥¿å…¨éƒ¨éƒ½åœ¨ <code>blog</code> é‡Œé¢ç”Ÿæˆã€‚å¦‚æœå‡ºäº†ä»€ä¹ˆé”™ï¼Œç›´æ¥åˆ é™¤ <code>blog</code> æ–‡ä»¶å¤¹å°±è¡Œäº†ã€‚<strong>ä½†æ˜¯</strong>ï¼åƒä¸‡ä¸èƒ½åªåˆ é™¤ <code>blog</code> æ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹ï¼Œè€Œä¸åˆ é™¤ <code>blog</code> æ–‡ä»¶å¤¹ï¼Œå¦åˆ™ä¼šå‡ºç°å…¶ä»–é—®é¢˜ã€‚</p><ul><li>å…³äºæ–°å»ºæ–‡ç« å†…å®¹</li></ul><p>æ–°å»ºæ–‡ç« æ˜¯ä½¿ç”¨ <code>markdown</code> è¿›è¡Œç¼–è¾‘çš„ï¼Œ<code>markdown</code> è¯­æ³•ä¸èµ˜è¿°ï¼Œè¿™é‡Œè¯´è¯´ <code>hexo</code> æ–°å»ºçš„ <code>.md</code> æ–‡ä»¶çš„æ–‡æ¡£å¤´ï¼š</p><pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token hr punctuation">---</span>title: myfirstblogdate: 2022-02-2 22:22:22<span class="token title important">tags:<span class="token punctuation">---</span></span></code></pre><p>é¦–å…ˆï¼Œè¿™ä¸ªæ–‡æ¡£å¤´çš„æ¨¡æ¿æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œå…·ä½“ä¿®æ”¹æ–¹æ³•è‡ªè¡Œç™¾åº¦æˆ–è€…è§æœ¬æ–‡çš„<strong>äºŒã€å¢åŠ åŠŸèƒ½</strong>éƒ¨åˆ†</p><p>å…¶æ¬¡ï¼Œè¿™ä¸ªæ–‡æ¡£å¤´çš„çš„é…ç½®ã€è¯´æ˜å¯ä»¥è‡ªè¡Œç™¾åº¦æˆ–è€…è§æœ¬æ–‡çš„<strong>äºŒã€å¢åŠ åŠŸèƒ½</strong>éƒ¨åˆ†</p><ul><li>å…³äº hexo åšå®¢ä¸»è¦ç›®å½•ç»“æ„</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">.</span>â”œâ”€â”€ public  <span class="token comment"># ç½‘ç«™æ–‡ä»¶å¤¹</span>â”œâ”€â”€ scaffolds  <span class="token comment"># æ¨¡æ¿æ–‡ä»¶å¤¹</span>â”œâ”€â”€ <span class="token builtin class-name">source</span>  <span class="token comment"># ç”¨æˆ·èµ„æºæ–‡ä»¶å¤¹ (markdown æ–‡æ¡£)</span><span class="token operator">|</span>   â”œâ”€â”€ _draft    <span class="token comment"># è‰ç¨¿æ–‡ä»¶å¤¹</span><span class="token operator">|</span>   â””â”€â”€ _posts    <span class="token comment"># æ–‡ç« æ–‡ä»¶å¤¹</span>â”œâ”€â”€ themes  <span class="token comment"># ä¸»é¢˜æ–‡ä»¶å¤¹</span>â”œâ”€â”€ _config.yml  <span class="token comment"># ç½‘ç«™é…ç½®ä¿¡æ¯</span>â””â”€â”€ package.json  <span class="token comment"># åº”ç”¨ç¨‹åºä¿¡æ¯</span></code></pre></details><h3 id="1-3-è¿œç«¯å‘å¸ƒ"><a href="#1-3-è¿œç«¯å‘å¸ƒ" class="headerlink" title="1.3 è¿œç«¯å‘å¸ƒ"></a>1.3 è¿œç«¯å‘å¸ƒ</h3><p>è¿œç«¯å‘å¸ƒå°±æ˜¯æŠŠæœ¬åœ°å‘å¸ƒçš„ç½‘ç«™æ”¾åˆ°äº’è”ç½‘ä¸Šï¼Œè®©æ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®ã€‚</p><ul><li>step1 GitHubç›¸å…³å†…å®¹</li></ul><p>è¿™ä¸ªå¯ä»¥è‡ªè¡Œç™¾åº¦æˆ–è€…Bç«™ï¼Œæœ¬æ–‡è¿™éƒ¨åˆ†å†…å®¹æ—¥åå°†ä¼šå®Œå–„ã€‚</p><p>ä¸è¦å¿˜äº†åœ¨ <code>git</code> ä¸‹é¢æ•²ä»¥ä¸‹å‘½ä»¤ï¼šï¼ˆè®¾ç½® <code>git</code> çš„ç”¨æˆ·åå’Œé‚®ä»¶ï¼Œå°±æ˜¯è®© <code>git</code> æ‰¾åˆ°ä½ çš„ GitHub è´¦æˆ·ï¼‰</p><pre class="language-text" data-language="text"><code class="language-text">git config --global user.name "GitHub ç”¨æˆ·å"git config --global user.email "GitHub é‚®ç®±"</code></pre><ul><li>step2 ä¸‹è½½ <code>git</code></li></ul><p>è‡ªè¡Œç™¾åº¦ä¸‹è½½å®‰è£…å³å¯ï¼Œæœ¬æ–‡è¿™éƒ¨åˆ†å†…å®¹æ—¥åå°†ä¼šå®Œå–„ã€‚</p><ul><li>step3 <strong>ä¸‹è½½ <code>git</code> ç”¨äºä¸Šä¼ ã€éƒ¨ç½²çš„æ’ä»¶ï¼Œå¹¶é…ç½®ç›¸å…³å†…å®¹</strong></li></ul><p>ä¸‹è½½ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save hexo-deployer-git</code></pre><p>æ‰“å¼€ <code>~/blog</code> ç›®å½•ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢ï¼Œæ‰¾åˆ°ä»¥ä¸‹ç›¸å…³å†…å®¹ï¼š</p><pre class="language-text" data-language="text"><code class="language-text">deploy:  type: git  repository: https://github.com/xxxx/xxxx.github.io.git  branch: master</code></pre><p>å…¶ä¸­ <code>xxxx</code> æ˜¯ä½ çš„ GitHub ç”¨æˆ·åã€‚ä¿å­˜ã€‚</p><ul><li>step4 å°†é™æ€ä¸ªäººåšå®¢å‘å¸ƒåˆ°è¿œç«¯ GitHub</li></ul><pre class="language-bash" data-language="bash"><code class="language-bash">hexo cleanhexo ghexo d</code></pre><ul><li>step5 æŸ¥çœ‹ GitHub ä»“åº“ï¼Œè®¿é—®åšå®¢ç½‘é¡µ</li></ul><p>è¿›å…¥ä¸ªäºº GitHub ä»“åº“å³å¯çœ‹åˆ°æ–°å¢äº†å¾ˆå¤šæ–‡ä»¶ã€‚åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ <code>http://xxxx.github.io/</code> è®¿é—®è¿œç«¯å‘å¸ƒçš„åšå®¢ç½‘ç«™ã€‚</p><p>è‡³æ­¤ï¼Œè¿œç«¯å‘å¸ƒçš„å¿…è¦æµç¨‹å·²ç»å®Œæˆï¼Œæ›´å¤šå…¶ä»–å†…å®¹å¯è‡ªè¡Œå±•å¼€æŸ¥çœ‹ã€‚</p><details><summary>å…¶ä»–å†…å®¹ï¼šå±•å¼€è¯´è¯´</summary><ul><li>å…³äº <strong>GitHub Pages</strong></li></ul><p>GitHub Pages æ˜¯ç”± GitHub å®˜æ–¹æä¾›çš„ä¸€ç§å…è´¹çš„é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨ GitHub ä»“åº“é‡Œæ‰˜ç®¡å’Œå‘å¸ƒè‡ªå·±çš„é™æ€ç½‘ç«™é¡µé¢ã€‚æˆ‘ä»¬æ­å»ºçš„ä¸ªäººåšå®¢å°±æ˜¯ä½¿ç”¨äº† GitHub Pagesã€‚å¦‚æœæ˜¯ Giteeï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯ Pagesï¼ŒGitHub åˆ™é»˜è®¤è‡ªåŠ¨å¼€å¯ã€‚</p><ul><li>ä½¿ç”¨è‡ªå·±çš„åŸŸåæ­å»ºåšå®¢</li></ul><p>ç•¥ï¼Œæ—¥åå®Œå–„ã€‚</p></details><h2 id="äºŒã€é…ç½®"><a href="#äºŒã€é…ç½®" class="headerlink" title="äºŒã€é…ç½®"></a>äºŒã€é…ç½®</h2><p><font color="orangered">é…ç½®éƒ¨åˆ†å¼ºçƒˆå»ºè®®å‚è€ƒå®˜æ–¹æ–‡ç« ï¼š</font><a href="https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/">Hexoåšå®¢ä¸»é¢˜ä¹‹hexo-theme-materyçš„ä»‹ç»</a></p><h3 id="2-1-ä¿®æ”¹ä¸»é¢˜"><a href="#2-1-ä¿®æ”¹ä¸»é¢˜" class="headerlink" title="2.1 ä¿®æ”¹ä¸»é¢˜"></a>2.1 ä¿®æ”¹ä¸»é¢˜</h3><p><code>hexo</code> ä¸»é¢˜ï¼š<a href="https://hexo.io/themes/">https://hexo.io/themes/</a></p><p>è¿™é‡Œä»¥ matery ä¸»é¢˜ä¸ºä¾‹ï¼š</p><ul><li>step1 ä¸‹è½½</li></ul><p>åœ¨ hexo ä¸»é¢˜ç›®å½• <code>~/blog/themes</code> ä¸‹ä½¿ç”¨ <code>git</code> å…‹éš† matery ä¸»é¢˜ï¼šï¼ˆæˆ–è€…å» GitHub ä¸‹è½½å®‰è£…åŒ…å¹¶è§£å‹åˆ° <code>~/blog/themes</code> ä¹Ÿè¡Œï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/blinkfox/hexo-theme-matery.git</code></pre><ul><li>step2 æ›´æ¢ä¸»é¢˜</li></ul><p>ä¿®æ”¹ hexo æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> çš„ <code>theme</code> çš„å€¼ï¼šï¼ˆå¦‚æœä¸»é¢˜æ–‡ä»¶å¤¹åç§°æ˜¯ <code>hexo-theme-matery</code> ä¸»é¢˜å€¼å°±æ˜¯ <code>hexo-theme-matery</code>ï¼Œå¦‚æœæ˜¯ <code>matery</code> ä¸»é¢˜å€¼å°±æ˜¯ <code>matery</code>ï¼‰</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># theme: landscape  # _config.yml åŸå§‹ä¸»é¢˜</span>theme: hexo-theme-matery  <span class="token comment"># matery ä¸»é¢˜</span></code></pre><ul><li>step3 <code>_config.yml</code> æ–‡ä»¶</li></ul><p><code>_config.yml</code> æ–‡ä»¶çš„å…¶ä»–ä¿®æ”¹é…ç½®è§ [2.3 <code>_config.yml</code> æ–‡ä»¶é…ç½®](#2.3 456)</p><h3 id="2-2-æ–°å»ºåšå®¢ç½‘é¡µå†…å®¹"><a href="#2-2-æ–°å»ºåšå®¢ç½‘é¡µå†…å®¹" class="headerlink" title="2.2 æ–°å»ºåšå®¢ç½‘é¡µå†…å®¹"></a>2.2 æ–°å»ºåšå®¢ç½‘é¡µå†…å®¹</h3><p>éœ€è¦æ–°å»ºçš„åšå®¢ç½‘é¡µæœ‰ï¼šåˆ†ç±»é¡µã€æ ‡ç­¾é¡µã€å…³äºé¡µã€å‹é“¾é¡µ (å¯é€‰)ã€å½’æ¡£é¡µ (å¯é€‰)ã€‚</p><table><thead><tr><th align="center">ç½‘é¡µ</th><th align="center">è‹±æ–‡</th><th align="center">ä½œç”¨</th></tr></thead><tbody><tr><td align="center">åˆ†ç±»é¡µ</td><td align="center">categories</td><td align="center">ç”¨æ¥å±•ç¤ºæ‰€æœ‰åˆ†ç±»çš„é¡µé¢</td></tr><tr><td align="center">æ ‡ç­¾é¡µ</td><td align="center">tags</td><td align="center">ç”¨æ¥å±•ç¤ºæ‰€æœ‰æ ‡ç­¾çš„é¡µé¢</td></tr><tr><td align="center">å…³äºé¡µ</td><td align="center">about</td><td align="center">ç”¨æ¥å±•ç¤º<strong>å…³äºæˆ‘å’Œæˆ‘çš„åšå®¢</strong>ä¿¡æ¯çš„é¡µé¢</td></tr><tr><td align="center">å‹é“¾é¡µ</td><td align="center">friends</td><td align="center">ç”¨æ¥å±•ç¤º<strong>å‹æƒ…è¿æ¥</strong>ä¿¡æ¯çš„é¡µé¢</td></tr><tr><td align="center">å½’æ¡£é¡µ</td><td align="center"></td><td align="center"></td></tr></tbody></table><p>ä»¥åˆ†ç±» categories é¡µä¸ºä¾‹ï¼š</p><p>å¦‚æœåœ¨ <code>blog/source</code> ç›®å½•ä¸‹æ²¡æœ‰ <code>blog/source/categories/index.md</code> æ–‡ä»¶ï¼Œåˆ™æ–°å»ºä¸€ä¸ªï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">hexo new page <span class="token string">"categories"</span></code></pre><p>ç„¶åï¼Œç¼–è¾‘æ–°å»ºçš„é¡µé¢æ–‡ä»¶<code>blog/source/categories/index.md</code>ï¼Œè‡³å°‘éœ€è¦ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> categories<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-30 17:25:30</span><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"categories"</span><span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"categories"</span><span class="token punctuation">---</span></code></pre><h3 id="2-3-æ–‡æ¡£å¤´-Front-matter-é€‰é¡¹"><a href="#2-3-æ–‡æ¡£å¤´-Front-matter-é€‰é¡¹" class="headerlink" title="2.3 æ–‡æ¡£å¤´ Front-matter é€‰é¡¹"></a>2.3 æ–‡æ¡£å¤´ Front-matter é€‰é¡¹</h3><p><code>Front-matter</code> é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸º<strong>éå¿…å¡«</strong>çš„ï¼Œä½†æ˜¯å»ºè®®è‡³å°‘å¡«å†™ <code>title</code> å’Œ <code>date</code> çš„å€¼ã€‚</p><p>ä¸ªäººå»ºè®®ï¼šä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œ<code>toc</code> å’Œ <code>summary</code> å»ºè®®è®¾ç½®ï¼›ä¸ºäº†åˆ†ç±»ç®¡ç†æ–¹ä¾¿ï¼Œ<code>categories</code> å’Œ <code>tags</code> å»ºè®®è®¾ç½®ï¼›å¯¹äº <code>latex</code> é‡åº¦ä½¿ç”¨æ‚£è€…ï¼Œ<code>mathjax</code> ä¹Ÿå»ºè®®è®¾ç½®ã€‚</p><table><thead><tr><th align="left">é…ç½®é€‰é¡¹</th><th align="left">é»˜è®¤å€¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">title</td><td align="left"><code>Markdown</code> çš„æ–‡ä»¶æ ‡é¢˜</td><td align="left">æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td align="left">date</td><td align="left">æ–‡ä»¶åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td align="left">å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td align="left">author</td><td align="left">æ ¹ <code>_config.yml</code> ä¸­çš„ <code>author</code></td><td align="left">æ–‡ç« ä½œè€…</td></tr><tr><td align="left">img</td><td align="left"><code>featureImages</code> ä¸­çš„æŸä¸ªå€¼</td><td align="left">æ–‡ç« ç‰¹å¾å›¾ï¼Œæ¨èä½¿ç”¨å›¾åºŠ(è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ç­‰)æ¥åšå›¾ç‰‡çš„è·¯å¾„.å¦‚: <code>http://xxx.com/xxx.jpg</code></td></tr><tr><td align="left">top</td><td align="left"><code>true</code></td><td align="left">æ¨èæ–‡ç« ï¼ˆæ–‡ç« æ˜¯å¦ç½®é¡¶ï¼‰ï¼Œå¦‚æœ <code>top</code> å€¼ä¸º <code>true</code>ï¼Œåˆ™ä¼šä½œä¸ºé¦–é¡µæ¨èæ–‡ç« </td></tr><tr><td align="left">cover</td><td align="left"><code>false</code></td><td align="left"><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­</td></tr><tr><td align="left">coverImg</td><td align="left">æ— </td><td align="left"><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td align="left">password</td><td align="left">æ— </td><td align="left">æ–‡ç« é˜…è¯»å¯†ç ï¼Œå¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„è¯ï¼Œå°±å¯ä»¥è®¾ç½® <code>password</code> çš„å€¼ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ç”¨ <code>SHA256</code> åŠ å¯†åçš„å¯†ç ï¼Œé˜²æ­¢è¢«ä»–äººè¯†ç ´ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>verifyPassword</code> é€‰é¡¹</td></tr><tr><td align="left"><strong>toc</strong></td><td align="left"><code>true</code></td><td align="left">æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>toc</code> é€‰é¡¹</td></tr><tr><td align="left"><strong>mathjax</strong></td><td align="left"><code>false</code></td><td align="left">æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒ ï¼Œæœ¬æ–‡ç« æ˜¯å¦å¼€å¯ <code>mathjax</code>ï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ</td></tr><tr><td align="left"><strong>summary</strong></td><td align="left">æ— </td><td align="left">æ–‡ç« æ‘˜è¦ï¼Œè‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</td></tr><tr><td align="left"><strong>categories</strong></td><td align="left">æ— </td><td align="left">æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td align="left"><strong>tags</strong></td><td align="left">æ— </td><td align="left">æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr></tbody></table><blockquote><p><strong>æ³¨æ„</strong>:</p><ol><li>å¦‚æœ <code>img</code> å±æ€§ä¸å¡«å†™çš„è¯ï¼Œæ–‡ç« ç‰¹è‰²å›¾ä¼šæ ¹æ®æ–‡ç« æ ‡é¢˜çš„ <code>hashcode</code> çš„å€¼å–ä½™ï¼Œç„¶åé€‰å–ä¸»é¢˜ä¸­å¯¹åº”çš„ç‰¹è‰²å›¾ç‰‡ï¼Œä»è€Œè¾¾åˆ°è®©æ‰€æœ‰æ–‡ç« éƒ½çš„ç‰¹è‰²å›¾<strong>å„æœ‰ç‰¹è‰²</strong>ã€‚</li><li><code>date</code> çš„å€¼å°½é‡ä¿è¯æ¯ç¯‡æ–‡ç« æ˜¯å”¯ä¸€çš„ï¼Œå› ä¸ºæœ¬ä¸»é¢˜ä¸­ <code>Gitalk</code> å’Œ <code>Gitment</code> è¯†åˆ« <code>id</code> æ˜¯é€šè¿‡ <code>date</code> çš„å€¼æ¥ä½œä¸ºå”¯ä¸€æ ‡è¯†çš„ã€‚</li><li>å¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„åŠŸèƒ½ï¼Œä¸ä»…è¦åœ¨ Front-matter ä¸­è®¾ç½®é‡‡ç”¨äº† SHA256 åŠ å¯†çš„ password çš„å€¼ï¼Œè¿˜éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> ä¸­æ¿€æ´»äº†é…ç½®ã€‚æœ‰äº›åœ¨çº¿çš„ SHA256 åŠ å¯†çš„åœ°å€ï¼Œå¯ä¾›ä½ ä½¿ç”¨ï¼š<a href="http://tool.oschina.net/encrypt?type=2">å¼€æºä¸­å›½åœ¨çº¿å·¥å…·</a>ã€<a href="http://encode.chahuo.com/">chahuo</a>ã€<a href="http://tool.chinaz.com/tools/hash.aspx">ç«™é•¿å·¥å…·</a>ã€‚</li></ol></blockquote><ul><li><code>Front-matter</code> ç®€å•ç¤ºä¾‹</li></ul><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> typora<span class="token punctuation">-</span>vue<span class="token punctuation">-</span>themeä¸»é¢˜ä»‹ç»<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-07 09:25:00</span><span class="token punctuation">---</span></code></pre><ul><li><code>Front-matter</code> æœ€å…¨ç¤ºä¾‹</li></ul><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> typora<span class="token punctuation">-</span>vue<span class="token punctuation">-</span>themeä¸»é¢˜ä»‹ç»<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2018-09-07 09:25:00</span><span class="token key atrule">author</span><span class="token punctuation">:</span> èµµå¥‡<span class="token key atrule">img</span><span class="token punctuation">:</span> /source/images/xxx.jpg<span class="token key atrule">top</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">cover</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">coverImg</span><span class="token punctuation">:</span> /images/1.jpg<span class="token key atrule">password</span><span class="token punctuation">:</span> 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92<span class="token key atrule">toc</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">mathjax</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">summary</span><span class="token punctuation">:</span> è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦<span class="token key atrule">categories</span><span class="token punctuation">:</span> Markdown<span class="token key atrule">tags</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> Typora  <span class="token punctuation">-</span> Markdown<span class="token punctuation">---</span></code></pre><h3 id="2-3-æ–‡æ¡£å¤´-Front-matter-æ¨¡æ¿"><a href="#2-3-æ–‡æ¡£å¤´-Front-matter-æ¨¡æ¿" class="headerlink" title="2.3 æ–‡æ¡£å¤´ Front-matter æ¨¡æ¿"></a>2.3 æ–‡æ¡£å¤´ Front-matter æ¨¡æ¿</h3><p>æ¯æ¬¡æ–°å»ºæ–‡ç« éƒ½è¦è¾“å…¥é…ç½®é€‰é¡¹ Front-matterï¼Œå¤ªéº»çƒ¦ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ä¿®æ”¹é»˜è®¤æ–‡ç« æ¨¡æ¿ï¼Œè¿™æ ·æ¯æ¬¡æ–°å»ºæ–‡ç« æ—¶å°±ä¼šè‡ªåŠ¨å†™å…¥é»˜è®¤æ¨¡æ¿ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><p>æ‰“å¼€ <code>~\blog\scaffolds</code> ç›®å½•ï¼Œå‘ç°ä»¥ä¸‹æ–‡ä»¶ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash">scaffoldsâ”œâ”€â”€ draft.md  <span class="token comment"># è‰ç¨¿æ¨¡æ¿</span>â”œâ”€â”€ page.md   <span class="token comment"># ç½‘é¡µæ¨¡æ¿</span>â””â”€â”€ post.md   <span class="token comment"># æ–‡ç« æ¨¡æ¿</span></code></pre><p>å¯¹äºæ–‡ç« ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ <code>post.md</code> å³å¯ï¼ˆè‰ç¨¿æ¨¡æ¿å’Œç½‘é¡µæ¨¡æ¿åŒç†ï¼‰ï¼Œä¿®æ”¹åçš„å†…å®¹å¦‚ä¸‹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> date <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token key atrule">author</span><span class="token punctuation">:</span> hhhhmdzz<span class="token key atrule">language</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>Hans<span class="token key atrule">timezone</span><span class="token punctuation">:</span> Asia/Shanghai<span class="token key atrule">img</span><span class="token punctuation">:</span> <span class="token key atrule">top</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">cover</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">coverImg</span><span class="token punctuation">:</span> <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token key atrule">toc</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">mathjax</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">comments</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">summary</span><span class="token punctuation">:</span> <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token key atrule">keyworks</span><span class="token punctuation">:</span> <span class="token key atrule">categories</span><span class="token punctuation">:</span> to be categoried<span class="token key atrule">tags</span><span class="token punctuation">:</span>   <span class="token punctuation">-</span> to be tagged<span class="token punctuation">---</span></code></pre><h3 id="2-4-ä»£ç é«˜äº®ã€ä»£ç æŠ˜å "><a href="#2-4-ä»£ç é«˜äº®ã€ä»£ç æŠ˜å " class="headerlink" title="2.4 ä»£ç é«˜äº®ã€ä»£ç æŠ˜å "></a>2.4 ä»£ç é«˜äº®ã€ä»£ç æŠ˜å </h3><p>Hexo è‡ªå¸¦çš„ä»£ç é«˜äº®ä¸»é¢˜æ˜¾ç¤ºä¸å¥½çœ‹ï¼ŒåŸæœ¬çš„ä»£ç æ˜¾ç¤ºè¡Œå·å’Œå†…å®¹åˆ†å¼€äº†ï¼Œä¸ç¾è§‚ã€‚</p><p>æ‰€ä»¥ä¸»é¢˜ä¸­ä½¿ç”¨åˆ°äº† <a href="https://github.com/ele828/hexo-prism-plugin">hexo-prism-plugin</a> çš„ Hexo æ’ä»¶æ¥åšä»£ç é«˜äº®ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i -S hexo-prism-plugin</code></pre><p>ç„¶åï¼Œä¿®æ”¹ Hexo <strong>æ ¹ç›®å½•</strong>ä¸‹ <code>_config.yml</code> æ–‡ä»¶ä¸­ <code>highlight.enable</code> çš„å€¼ä¸º <code>false</code>ï¼Œå¹¶æ–°å¢ <code>prism</code> æ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œä¸»è¦é…ç½®å¦‚ä¸‹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span><span class="token comment"># ä»£ç å—çš„è®¾ç½®</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token comment"># å¼€å¯ä»£ç å—é«˜äº®</span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token comment"># å¦‚æœæœªæŒ‡å®šè¯­è¨€ï¼Œåˆ™å¯ç”¨è‡ªåŠ¨æ£€æµ‹</span>  <span class="token key atrule">auto_detect</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token comment"># æ˜¾ç¤ºè¡Œæ•°</span>  <span class="token key atrule">tab_replace</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token comment"># ç”¨nä¸ªç©ºæ ¼æ›¿æ¢tabsï¼›å¦‚æœå€¼ä¸ºç©ºï¼Œåˆ™ä¸ä¼šæ›¿æ¢tabs</span>  <span class="token key atrule">wrap</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">hljs</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token comment"># å…³é—­åŸæœ‰çš„ä»£ç é«˜äº®ï¼Œä½¿ç”¨è‡ªå·±çš„</span><span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment"># realtime/preprocess</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token comment"># default false</span>  custom_css<span class="token punctuation">:</span></code></pre><h3 id="2-5-æœç´¢"><a href="#2-5-æœç´¢" class="headerlink" title="2.5 æœç´¢"></a>2.5 æœç´¢</h3><p>æœ¬ä¸»é¢˜ä¸­è¿˜ä½¿ç”¨åˆ°äº† <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a> çš„ Hexo æ’ä»¶æ¥åšå†…å®¹æœç´¢ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search --save</code></pre><p>åœ¨ Hexo <strong>æ ¹ç›®å½•</strong>ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">search</span><span class="token punctuation">:</span>  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml  <span class="token key atrule">field</span><span class="token punctuation">:</span> post</code></pre><h3 id="2-6-ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³ï¼ˆå¯é€‰ï¼‰"><a href="#2-6-ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="2.6 ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³ï¼ˆå¯é€‰ï¼‰"></a>2.6 ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³ï¼ˆå¯é€‰ï¼‰</h3><p>å¦‚æœä½ çš„æ–‡ç« åç§°æ˜¯ä¸­æ–‡çš„ï¼Œé‚£ä¹ˆ Hexo é»˜è®¤ç”Ÿæˆçš„æ°¸ä¹…é“¾æ¥ä¹Ÿä¼šæœ‰ä¸­æ–‡ï¼Œè¿™æ ·ä¸åˆ©äº <code>SEO</code> (Search Engine Optimizationï¼Œæœç´¢å¼•æ“ä¼˜åŒ–)ï¼Œä¸” <code>gitment</code> è¯„è®ºå¯¹ä¸­æ–‡é“¾æ¥ä¹Ÿä¸æ”¯æŒã€‚æˆ‘ä»¬å¯ä»¥ç”¨ <a href="https://github.com/viko16/hexo-permalink-pinyin">hexo-permalink-pinyin</a> Hexo æ’ä»¶ä½¿åœ¨ç”Ÿæˆæ–‡ç« æ—¶ç”Ÿæˆä¸­æ–‡æ‹¼éŸ³çš„æ°¸ä¹…é“¾æ¥ã€‚</p><p>å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i hexo-permalink-pinyin --save</code></pre><p>åœ¨ Hexo <strong>æ ¹ç›®å½•</strong>ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">permalink_pinyin</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">separator</span><span class="token punctuation">:</span> <span class="token string">'-'</span> <span class="token comment"># default: '-'</span></code></pre><blockquote><p><strong>æ³¨</strong>ï¼šé™¤äº†æ­¤æ’ä»¶å¤–ï¼Œ<a href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink</a> æ’ä»¶ä¹Ÿå¯ä»¥ç”Ÿæˆéä¸­æ–‡çš„é“¾æ¥ã€‚</p></blockquote><h3 id="2-7-æ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ç»Ÿè®¡æ’ä»¶ï¼ˆå¯é€‰ï¼‰"><a href="#2-7-æ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ç»Ÿè®¡æ’ä»¶ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="2.7 æ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ç»Ÿè®¡æ’ä»¶ï¼ˆå¯é€‰ï¼‰"></a>2.7 æ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ç»Ÿè®¡æ’ä»¶ï¼ˆå¯é€‰ï¼‰</h3><p>å¦‚æœä½ æƒ³è¦åœ¨æ–‡ç« ä¸­æ˜¾ç¤ºæ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ä¿¡æ¯ï¼Œå¯ä»¥å®‰è£… <a href="https://github.com/willin/hexo-wordcount">hexo-wordcount</a>æ’ä»¶ã€‚</p><p>å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i --save hexo-wordcount</code></pre><p>ç„¶ååªéœ€åœ¨<strong>æœ¬ä¸»é¢˜</strong>ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ï¼Œæ¿€æ´»ä»¥ä¸‹é…ç½®é¡¹å³å¯ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">wordCount</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># å°†è¿™ä¸ªå€¼è®¾ç½®ä¸º true å³å¯.</span>  <span class="token key atrule">postWordCount</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">totalCount</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><h3 id="2-8-æ·»åŠ -RSS-è®¢é˜…æ”¯æŒï¼ˆå¯é€‰çš„ï¼‰"><a href="#2-8-æ·»åŠ -RSS-è®¢é˜…æ”¯æŒï¼ˆå¯é€‰çš„ï¼‰" class="headerlink" title="2.8 æ·»åŠ  RSS è®¢é˜…æ”¯æŒï¼ˆå¯é€‰çš„ï¼‰"></a>2.8 æ·»åŠ  RSS è®¢é˜…æ”¯æŒï¼ˆå¯é€‰çš„ï¼‰</h3><p>æœ¬ä¸»é¢˜ä¸­è¿˜ä½¿ç”¨åˆ°äº† <a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a> çš„ Hexo æ’ä»¶æ¥åš <code>RSS</code>ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-feed --save</code></pre><p>åœ¨ Hexo <strong>æ ¹ç›®å½•</strong>ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">feed</span><span class="token punctuation">:</span>  <span class="token key atrule">type</span><span class="token punctuation">:</span> atom  <span class="token key atrule">path</span><span class="token punctuation">:</span> atom.xml  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">20</span>  <span class="token key atrule">hub</span><span class="token punctuation">:</span>  <span class="token key atrule">content</span><span class="token punctuation">:</span>  <span class="token key atrule">content_limit</span><span class="token punctuation">:</span> <span class="token number">140</span>  <span class="token key atrule">content_limit_delim</span><span class="token punctuation">:</span> <span class="token string">' '</span>  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date</code></pre><p>æ‰§è¡Œ <code>hexo clean &amp;&amp; hexo g</code> é‡æ–°ç”Ÿæˆåšå®¢æ–‡ä»¶ï¼Œç„¶ååœ¨ <code>public</code> æ–‡ä»¶å¤¹ä¸­å³å¯çœ‹åˆ° <code>atom.xml</code> æ–‡ä»¶ï¼Œè¯´æ˜ä½ å·²ç»å®‰è£…æˆåŠŸäº†ã€‚</p><h3 id="2-9-é…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼ˆå¯é€‰çš„ï¼‰"><a href="#2-9-é…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼ˆå¯é€‰çš„ï¼‰" class="headerlink" title="2.9 é…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼ˆå¯é€‰çš„ï¼‰"></a>2.9 é…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼ˆå¯é€‰çš„ï¼‰</h3><h3 id="2-10-ä¿®æ”¹ç¤¾äº¤é“¾æ¥"><a href="#2-10-ä¿®æ”¹ç¤¾äº¤é“¾æ¥" class="headerlink" title="2.10 ä¿®æ”¹ç¤¾äº¤é“¾æ¥"></a>2.10 ä¿®æ”¹ç¤¾äº¤é“¾æ¥</h3><h3 id="2-11-ä¿®æ”¹é¡µè„š"><a href="#2-11-ä¿®æ”¹é¡µè„š" class="headerlink" title="2.11 ä¿®æ”¹é¡µè„š"></a>2.11 ä¿®æ”¹é¡µè„š</h3><p>é¡µè„šä¿¡æ¯å¯èƒ½éœ€è¦åšå®šåˆ¶åŒ–ä¿®æ”¹ï¼Œè€Œä¸”å®ƒä¸ä¾¿äºåšæˆé…ç½®ä¿¡æ¯ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦ä½ è‡ªå·±å»å†ä¿®æ”¹å’ŒåŠ å·¥ã€‚ä¿®æ”¹çš„åœ°æ–¹åœ¨<strong>ä¸»é¢˜æ–‡ä»¶</strong>çš„ <code>/layout/_partial/footer.ejs</code> æ–‡ä»¶ä¸­ï¼ŒåŒ…æ‹¬ç«™ç‚¹ã€ä½¿ç”¨çš„ä¸»é¢˜ã€è®¿é—®é‡ç­‰ã€‚</p><h3 id="2-12-ä¿®æ”¹æ‰“èµçš„äºŒç»´ç å›¾ç‰‡"><a href="#2-12-ä¿®æ”¹æ‰“èµçš„äºŒç»´ç å›¾ç‰‡" class="headerlink" title="2.12 ä¿®æ”¹æ‰“èµçš„äºŒç»´ç å›¾ç‰‡"></a>2.12 ä¿®æ”¹æ‰“èµçš„äºŒç»´ç å›¾ç‰‡</h3><p>åœ¨ä¸»é¢˜æ–‡ä»¶çš„ <code>source/medias/reward</code> æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æ›¿æ¢æˆä½ çš„çš„å¾®ä¿¡å’Œæ”¯ä»˜å®çš„æ‰“èµäºŒç»´ç å›¾ç‰‡ã€‚</p><h3 id="2-13-æ·»åŠ -emoji-è¡¨æƒ…æ”¯æŒ"><a href="#2-13-æ·»åŠ -emoji-è¡¨æƒ…æ”¯æŒ" class="headerlink" title="2.13 æ·»åŠ  emoji è¡¨æƒ…æ”¯æŒ"></a>2.13 æ·»åŠ  emoji è¡¨æƒ…æ”¯æŒ</h3><p>å®‰è£…æ’ä»¶ <code>hexo-filter-github-emojis</code></p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-filter-github-emojis --save</code></pre><p>åœ¨ Hexo <strong>æ ¹ç›®å½•</strong>ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ï¼Œæ–°å¢ä»¥ä¸‹çš„é…ç½®é¡¹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">githubEmojis</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">className</span><span class="token punctuation">:</span> github<span class="token punctuation">-</span>emoji  <span class="token key atrule">inject</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">styles</span><span class="token punctuation">:</span>  customEmojis<span class="token punctuation">:</span></code></pre><h3 id="2-14-æ·»åŠ -mermaid-æ”¯æŒ"><a href="#2-14-æ·»åŠ -mermaid-æ”¯æŒ" class="headerlink" title="2.14 æ·»åŠ  mermaid æ”¯æŒ"></a>2.14 æ·»åŠ  mermaid æ”¯æŒ</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-tag-mermaid --save</code></pre><p>ä¿®æ”¹ä¸»é¢˜ç›®å½•ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">mermaid</span><span class="token punctuation">:</span> <span class="token comment">## mermaid url https://github.com/knsv/mermaid</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># default false</span>  <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"latest"</span> <span class="token comment"># default v7.1.2</span>  <span class="token key atrule">options</span><span class="token punctuation">:</span>  <span class="token comment"># find more api options from https://github.com/knsv/mermaid/blob/master/src/mermaidAPI.js</span>    <span class="token comment">#startOnload: true  // default true</span></code></pre><h3 id="2-15-æ·»åŠ å¯¼èˆªé¡µ"><a href="#2-15-æ·»åŠ å¯¼èˆªé¡µ" class="headerlink" title="2.15 æ·»åŠ å¯¼èˆªé¡µ"></a>2.15 æ·»åŠ å¯¼èˆªé¡µ</h3><p><a href="https://yafine-blog.cn/posts/e925.html">ä¸ºä½ çš„ hexo åšå®¢æ·»åŠ å¯¼èˆªé¡µ</a></p><h3 id="2-16-åŠ¨æ€ç½‘é¡µæ ‡é¢˜"><a href="#2-16-åŠ¨æ€ç½‘é¡µæ ‡é¢˜" class="headerlink" title="2.16 åŠ¨æ€ç½‘é¡µæ ‡é¢˜"></a>2.16 åŠ¨æ€ç½‘é¡µæ ‡é¢˜</h3><h3 id="2-17-ç›´è¾¾è¯„è®º"><a href="#2-17-ç›´è¾¾è¯„è®º" class="headerlink" title="2.17 ç›´è¾¾è¯„è®º"></a>2.17 ç›´è¾¾è¯„è®º</h3><p><a href="https://blog.csdn.net/cungudafa/article/details/106278206">å¢åŠ ç‚¹å‡»è·³è½¬è¯„è®ºæŒ‰é’®</a></p><h3 id="2-18-æ·»åŠ æ€ç»´å¯¼å›¾æ”¯æŒ"><a href="#2-18-æ·»åŠ æ€ç»´å¯¼å›¾æ”¯æŒ" class="headerlink" title="2.18 æ·»åŠ æ€ç»´å¯¼å›¾æ”¯æŒ"></a>2.18 æ·»åŠ æ€ç»´å¯¼å›¾æ”¯æŒ</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-simple-mindmap</code></pre><p>ä½¿ç”¨ï¼šï¼ˆæ³¨æ„ï¼Œè¿™ä¸ªä¸éœ€è¦ä½¿ç”¨ä»£ç å—ï¼Œå¦å¤–ï¼Œtyporaä¸æ”¯æŒæ€ç»´å¯¼å›¾ï¼‰</p><pre class="language-markdown" data-language="markdown"><code class="language-markdown">{% pullquote mindmap mindmap-md %}<span class="token list punctuation">-</span> <span class="token url">[<span class="token content">åœ¨ Hexo ä¸­ä½¿ç”¨æ€ç»´å¯¼å›¾</span>](<span class="token url">https://hunterx.xyz/use-mindmap-in-hexo.html</span>)</span>  <span class="token list punctuation">-</span> å‰è¨€  <span class="token list punctuation">-</span> æ“ä½œæŒ‡å—    <span class="token list punctuation">-</span> å‡†å¤‡éœ€è¦çš„æ–‡ä»¶    <span class="token list punctuation">-</span> ä¸ºä¸»é¢˜æ·»åŠ  CSS/JS æ–‡ä»¶  <span class="token list punctuation">-</span> ä½¿ç”¨æ–¹æ³•{% endpullquote %}</code></pre><h2 id="ä¸‰ã€é—®é¢˜"><a href="#ä¸‰ã€é—®é¢˜" class="headerlink" title="ä¸‰ã€é—®é¢˜"></a>ä¸‰ã€é—®é¢˜</h2><h3 id="Context-Dump-Ends"><a href="#Context-Dump-Ends" class="headerlink" title="=====             Context Dump Ends            ====="></a><code>=====             Context Dump Ends            =====</code></h3><p><img src="/2022/06/28/shi-yong-hexo-kuang-jia-da-jian-ge-ren-bo-ke/hexo-error-context_dump_ends.png" alt="hexo-error-context_dump_ends"></p><p>åŸå› ï¼šæ–‡ç« ä¸­å‡ºç°è¿ç»­çš„èŠ±æ‹¬å·ï¼Œå¦‚ï¼š<code>{{}}</code></p><p>å…·ä½“åŸå› ï¼šhexo çš„æ–‡ç« ä½¿ç”¨ <code>Nunjucks</code> æ¸²æŸ“ï¼Œ<code>Nunjucks</code> çš„èŠ±æ‹¬å· <code>{}</code> æœ‰ä¸åŒçš„è¯­æ³•ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨äº† <code>mathjax</code> æ¸²æŸ“çš„ latex å…¬å¼ï¼Œå®¹æ˜“å‡ºç°èŠ±æ‹¬å·é‡å  <code>{{}}</code>ï¼Œè¿™æ ·äºŒè€…å°±å†²çªäº†ã€‚</p><p>è§£å†³åŠæ³•ï¼šä»¥ $e^{x^{2}}$ å³ <code>$e^{x^{2}}$</code> ä¸ºä¾‹</p><ol><li>ä½¿ç”¨ç©ºæ ¼éš”å¼€èŠ±æ‹¬å·ï¼š<code>$e^{x^{2} }$</code> (ä¸ªäººè®¤ä¸ºæœ€å¥½ç”¨)</li><li>ä½¿ç”¨ <code>\</code> è½¬ä¹‰ï¼š<code>$e^{x^{2\} \}$</code> (æœ‰ç”¨ï¼Œä½†æ˜¯æŸäº›æƒ…å†µä¸é€‚ç”¨)</li><li>ä¿®æ”¹æ ‡è¯†ç¬¦ï¼š<code> $e^{x^{2} }$ </code> (è¾ƒéº»çƒ¦ï¼Œè€Œä¸”ä¸é€šç”¨)</li></ol><ul><li>å›¾ç‰‡ä¸æ˜¾ç¤º</li></ul><p>ä¸‹è½½ <code>hexo-asset-image</code> æ’ä»¶ (ç§‘å­¦ä¸Šç½‘ä¼šå¿«ä¸€ç‚¹)</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> https://github.com/CodeFalling/hexo-asset-image --save</code></pre><p>ä¿®æ”¹æ ¹ç›®å½• <code>_config.yml</code> æ–‡ä»¶å†…å®¹ï¼š</p><pre class="language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">post_asset_folder</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><h3 id="å…³äº-LaTeX"><a href="#å…³äº-LaTeX" class="headerlink" title="å…³äº LaTeX"></a>å…³äº LaTeX</h3><p>ä¸èƒ½è¿ç»­ä½¿ç”¨ <code>~</code><br>ä¸èƒ½ä½¿ç”¨ <code>\textcolor{xxx}</code></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><p>ä¸€ã€å®‰è£…ï¼š</p><ul><li>1.1 æ­å»ºç¯å¢ƒ<ul><li><a href="https://www.cnblogs.com/sghy/p/6840925.html">è®¾ç½®npmçš„registry</a></li></ul></li><li>1.2 åˆ›å»ºGitHubä»“åº“</li><li>1.3 å®‰è£…Hexo</li><li>1.4 å‘å¸ƒç½‘ç«™</li></ul></li><li><p>äºŒã€å¢åŠ åŠŸèƒ½</p><ul><li>å®˜æ–¹ï¼š<a href="http://blinkfox.com/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/">Hexoåšå®¢ä¸»é¢˜ä¹‹hexo-theme-materyçš„ä»‹ç»</a></li><li>2.4 ä»£ç é«˜äº®ã€ä»£ç æŠ˜å <ul><li><a href="http://www.luckyzmj.cn/posts/1b9a9e28.html">ä»£ç å—ä¼˜åŒ–</a></li></ul></li></ul></li><li><p>å‡ ä¸ªä¸é”™çš„æ•™ç¨‹ï¼š</p><ul><li>ä¸ªäººæ„Ÿè§‰è¾ƒå¥½ï¼š<a href="Matery%E4%B8%BB%E9%A2%98%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BC%98%E5%8C%96%E6%95%99%E7%A8%8B%E8%B6%85%E8%AF%A6%E7%BB%86%E8%A7%A3%E6%9E%90">Materyä¸»é¢˜æ­å»ºä¸ä¼˜åŒ–æ•™ç¨‹è¶…è¯¦ç»†è§£æ</a></li><li>è¿™ä¸ªç³»åˆ—å¥½ï¼š<a href="https://zhangxiaocai.cn/categories/Hexo/">https://zhangxiaocai.cn/categories/Hexo/</a></li></ul></li></ul><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonåç¨‹</title>
      <link href="/2022/03/09/python-xie-cheng/"/>
      <url>/2022/03/09/python-xie-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="pythonåç¨‹"><a href="#pythonåç¨‹" class="headerlink" title="pythonåç¨‹"></a>pythonåç¨‹</h1><p>[toc]</p><h2 id="åç¨‹çš„æ¦‚å¿µ"><a href="#åç¨‹çš„æ¦‚å¿µ" class="headerlink" title="åç¨‹çš„æ¦‚å¿µ"></a>åç¨‹çš„æ¦‚å¿µ</h2><p>åç¨‹ (Coroutine)ï¼Œåˆç§°ä¸ºå¾®çº¿ç¨‹ï¼Œæ˜¯ä¸€ç§ç”¨æˆ·æ€çš„<strong>è½»é‡çº§çº¿ç¨‹</strong>ã€‚</p><p>åç¨‹æ‹¥æœ‰è‡ªå·±çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆã€‚åç¨‹è°ƒåº¦åˆ‡æ¢æ—¶ï¼Œå°†å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆä¿å­˜åˆ°å…¶ä»–åœ°æ–¹ï¼Œåœ¨åˆ‡å›æ¥çš„æ—¶å€™ï¼Œæ¢å¤ä¹‹å‰ä¿å­˜çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆã€‚å› æ­¤ï¼Œåç¨‹èƒ½å¤Ÿä¿ç•™ä¸Šæ¬¡ä¸€è°ƒç”¨æ—¶çš„çŠ¶æ€ï¼Œèƒ½å¤Ÿè¿›å…¥ä¸Šä¸€æ¬¡ç¦»å¼€æ—¶æ‰€å¤„çš„é€»è¾‘æµçš„ä½ç½®ã€‚</p><ul><li>åç¨‹çš„å¥½å¤„<ol><li>æ— éœ€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€</li><li>æ— éœ€åŸå­æ“ä½œ(ä¸ä¼šè¢«çº¿ç¨‹è°ƒåº¦æœºåˆ¶æ‰“æ–­çš„æ“ä½œ)é”å®šä»¥åŠåŒæ­¥çš„å¼€é”€</li><li>æ–¹ä¾¿åˆ‡æ¢æ§åˆ¶æµï¼Œç®€åŒ–ç¼–ç¨‹æ¨¡å‹</li><li>é«˜å¹¶å‘ + é«˜æ‰©å±•æ€§ + ä½æˆæ–‡ï¼šä¸€ä¸ª CPU æ”¯æŒä¸Šå®Œçš„åç¨‹éƒ½ä¸æ˜¯é—®é¢˜ï¼Œæ‰€ä»¥å¾ˆé€‚åˆé«˜å¹¶å‘å¤„ç†</li></ol></li><li>åç¨‹çš„ç¼ºç‚¹<ol><li>æ— æ³•åˆ©ç”¨å¤šæ ¸èµ„æºï¼šåç¨‹çš„æœ¬è´¨æ˜¯å•çº¿ç¨‹ï¼Œéœ€è¦å’Œè¿›ç¨‹é…åˆæ‰èƒ½è¿è¡Œåœ¨å¤š CPU ä¸Š</li><li>è¿›è¡Œé˜»å¡ (Blocking) æ“ ä½œ(å¦‚ IO æ—¶) ä¼šé˜»å¡æ‰æ•´ä¸ªç¨‹åº</li></ol></li><li>åç¨‹çš„æ¡ä»¶<ol><li>å¿…é¡»åœ¨<strong>åªæœ‰ä¸€ä¸ªå•çº¿ç¨‹</strong>é‡Œå®ç°å¹¶å‘</li><li>ä¿®æ”¹<strong>å…±äº«æ•°æ®ä¸éœ€åŠ é”</strong></li><li>ç”¨æˆ·ç¨‹åºé‡Œè‡ªå·±ä¿å­˜å¤šä¸ªæ§åˆ¶æµçš„ä¸Šä¸‹æ–‡æ ˆ</li><li>ä¸€ä¸ªåç¨‹é‡åˆ° IO æ“ä½œè‡ªåŠ¨åˆ‡æ¢åˆ°å…¶å®ƒåç¨‹</li></ol></li></ul><p>python ä¸­çš„ <code>yield</code> æ”¯æŒåŸºæœ¬çš„åç¨‹ï¼Œä½†æ˜¯ä¸å®Œå…¨ï¼Œä»¥ä¸‹<strong>ä½¿ç”¨ <code>yield</code> å®ç°åç¨‹ï¼š</strong></p><pre class="language-python" data-language="python"><div class="caption"><span>{.line-numbers}</span></div><code class="language-python"><span class="token keyword">def</span> <span class="token function">consumer</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string"> is consuming."</span></span><span class="token punctuation">)</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        money <span class="token operator">=</span> <span class="token keyword">yield</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[%s] consumed %d ï¿¥."</span> <span class="token operator">%</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">producer</span><span class="token punctuation">(</span>times<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token builtin">next</span><span class="token punctuation">(</span>con1<span class="token punctuation">)</span>    <span class="token builtin">next</span><span class="token punctuation">(</span>con2<span class="token punctuation">)</span>    <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> times<span class="token punctuation">)</span><span class="token punctuation">:</span>        con1<span class="token punctuation">.</span>send<span class="token punctuation">(</span>n<span class="token punctuation">)</span>        con2<span class="token punctuation">.</span>send<span class="token punctuation">(</span>n<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\033[32;1m[producer]\033[0m is producing %s ï¿¥."</span> <span class="token operator">%</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    con1 <span class="token operator">=</span> consumer<span class="token punctuation">(</span><span class="token string">"customer1"</span><span class="token punctuation">)</span>    con2 <span class="token operator">=</span> consumer<span class="token punctuation">(</span><span class="token string">"customer2"</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> producer<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span></code></pre><h2 id="Greenletæ¨¡å—"><a href="#Greenletæ¨¡å—" class="headerlink" title="Greenletæ¨¡å—"></a>Greenletæ¨¡å—</h2><h2 id="Asyncioæ¨¡å—"><a href="#Asyncioæ¨¡å—" class="headerlink" title="Asyncioæ¨¡å—"></a>Asyncioæ¨¡å—</h2><h2 id="Geventæ¨¡å—"><a href="#Geventæ¨¡å—" class="headerlink" title="Geventæ¨¡å—"></a>Geventæ¨¡å—</h2><h2 id="åç¨‹çš„å®ä¾‹"><a href="#åç¨‹çš„å®ä¾‹" class="headerlink" title="åç¨‹çš„å®ä¾‹"></a>åç¨‹çš„å®ä¾‹</h2><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> åç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonçº¿ç¨‹</title>
      <link href="/2022/03/09/python-xian-cheng/"/>
      <url>/2022/03/09/python-xian-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="pythonçº¿ç¨‹"><a href="#pythonçº¿ç¨‹" class="headerlink" title="pythonçº¿ç¨‹"></a>pythonçº¿ç¨‹</h1><p>[toc]</p><h2 id="çº¿ç¨‹çš„æ¦‚å¿µ"><a href="#çº¿ç¨‹çš„æ¦‚å¿µ" class="headerlink" title="çº¿ç¨‹çš„æ¦‚å¿µ"></a>çº¿ç¨‹çš„æ¦‚å¿µ</h2><ul><li><p>outline</p><ul><li><a href="#procss thread">è¿›ç¨‹ vs çº¿ç¨‹</a></li><li><a href="#calculate IO">è®¡ç®—å¯†é›†å‹ vs IOå¯†é›†å‹</a></li><li><a href="#char">çº¿ç¨‹ç‰¹ç‚¹</a></li><li><a href="#CPU thread">CPU &amp; çº¿ç¨‹</a></li><li><a href="#thread module">pythonçº¿ç¨‹æ¨¡å—</a><br></li></ul></li><li><p><a id="procss thread"><font color="lightblue">è¿›ç¨‹ vs çº¿ç¨‹</font></a></p><ul><li>è¿›ç¨‹ï¼šç¨³å®šæ€§é«˜(ä¼˜)ã€å¼€é”€å¤§(ç¼º)</li></ul><ol><li>è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½(ç¨‹åºç”±è‹¥å¹²è¿›ç¨‹ç»„æˆ)ï¼Œä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ã€‚</li><li>è¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œå†…å­˜ï¼Œæ•°æ®æ ˆç­‰ï¼Œæ‰€ä»¥è¿›ç¨‹å ç”¨èµ„æºå¤šã€‚  ç”±äºè¿›ç¨‹çš„èµ„æºç‹¬ç«‹ï¼Œæ‰€ä»¥é€šè®¯ä¸æ–¹ä¾¿ï¼Œåªèƒ½ä½¿ç”¨è¿›ç¨‹é—´é€šè®¯ï¼ˆIPCï¼‰ã€‚</li></ol><ul><li>çº¿ç¨‹ï¼šç¨³å®šæ€§å·®(ç¼º)ã€æ•ˆç‡é«˜(ä¼˜)</li></ul><ol><li>çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½(è¿›ç¨‹ç”±è‹¥å¹²çº¿ç¨‹ç»„æˆ)ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚</li><li>çº¿ç¨‹å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®ï¼Œä»–ä»¬ä½¿ç”¨ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œä½¿ç”¨çº¿ç¨‹åˆ›å»ºå¿«æ·ï¼Œåˆ›å»ºå¼€é”€æ¯”è¿›ç¨‹å°ã€‚  åŒä¸€è¿›ç¨‹ä¸‹çš„çº¿ç¨‹å…±äº«å…¨å±€å˜é‡ã€é™æ€å˜é‡ç­‰æ•°æ®ï¼Œæ‰€ä»¥çº¿ç¨‹é€šè®¯éå¸¸æ–¹ä¾¿ï¼Œä½†ä¼šå­˜åœ¨æ•°æ®åŒæ­¥ä¸äº’æ–¥çš„é—®é¢˜ï¼Œå¦‚ä½•å¤„ç†å¥½åŒæ­¥ä¸äº’æ–¥æ˜¯ç¼–å†™å¤šçº¿ç¨‹ç¨‹åºçš„éš¾ç‚¹ã€‚</li></ol></li></ul><blockquote><p>æ³¨ï¼š<br>1.ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªçº¿ç¨‹ï¼Œåœ¨å•æ ¸CPUä¸­æ¯ä¸ªè¿›ç¨‹ä¸­åŒæ—¶åˆ»åªèƒ½è¿è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œåªæœ‰åœ¨å¤šæ ¸CPUä¸­æ‰èƒ½å­˜åœ¨çº¿ç¨‹å¹¶å‘çš„æƒ…å†µã€‚<br>2.å½“çº¿ç¨‹éœ€è¦è¿è¡Œä½†æ²¡æœ‰è¿è¡Œç©ºé—´æ—¶ï¼Œä¼šå¯¹çº¿ç¨‹çš„ä¼˜å…ˆçº§è¿›è¡Œåˆ¤æ–­ï¼Œé«˜ä¼˜å…ˆçº§å…ˆè¿è¡Œï¼Œä½ä¼˜å…ˆçº§è¿›ç¨‹è®©è¡Œã€‚<br>3.å¤šä»»åŠ¡(æ— è®ºæ˜¯å¤šè¿›ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹)ä¸€æ—¦å¤šåˆ°ä¸€ä¸ªé™åº¦ï¼Œå°±ä¼šæ¶ˆè€—æ‰ç³»ç»Ÿæ‰€æœ‰çš„èµ„æºï¼Œç»“æœæ•ˆç‡æ€¥å‰§ä¸‹ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½åšä¸å¥½ã€‚<br>4.çº¿ç¨‹é—´çš„åˆ‡æ¢æ˜¯è¦å¿«äºè¿›ç¨‹é—´çš„åˆ‡æ¢</p></blockquote><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><p><a id="calculate IO"><font color="lightblue">è®¡ç®—å¯†é›†å‹ vs IOå¯†é›†å‹</font></a></p><ul><li>è®¡ç®—å¯†é›†å‹ï¼šä¸»è¦æ¶ˆè€—CPUèµ„æº</li></ul><p>è®¡ç®—å¯†é›†å‹ä»»åŠ¡çš„ç‰¹ç‚¹æ˜¯è¦è¿›è¡Œå¤§é‡çš„è®¡ç®—ï¼ŒèŠ±åœ¨ä»»åŠ¡åˆ‡æ¢çš„æ—¶é—´å°±è¶Šå¤šï¼ŒCPUæ‰§è¡Œä»»åŠ¡çš„æ•ˆç‡å°±è¶Šä½ï¼Œæ‰€ä»¥ï¼Œè¦æœ€é«˜æ•ˆåœ°åˆ©ç”¨CPUï¼Œè®¡ç®—å¯†é›†å‹ä»»åŠ¡åŒæ—¶è¿›è¡Œçš„æ•°é‡åº”å½“ç­‰äºCPUçš„æ ¸å¿ƒæ•°ã€‚(è„šæœ¬è¯­è¨€pythonè¿è¡Œæ•ˆç‡ä½ï¼Œå®Œå…¨ä¸é€‚åˆè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œè€ŒCè¯­è¨€åœ¨è¿™æ–¹é¢æ•ˆç‡è¦é«˜å¾—å¤š)</p><ul><li>IOå¯†é›†å‹ï¼šå¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç­‰å¾…IOæ“ä½œå®Œæˆ</li></ul><p>æ¶‰åŠåˆ°ç½‘ç»œã€ç£ç›˜IOçš„ä»»åŠ¡éƒ½æ˜¯IOå¯†é›†å‹ä»»åŠ¡ï¼Œè¿™ç±»ä»»åŠ¡çš„ç‰¹ç‚¹æ˜¯CPUæ¶ˆè€—å¾ˆå°‘ï¼Œä»»åŠ¡çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç­‰å¾…IOæ“ä½œå®Œæˆï¼ˆå› ä¸ºIOçš„é€Ÿåº¦è¿œè¿œä½äºCPUå’Œå†…å­˜çš„é€Ÿåº¦ï¼‰ã€‚IOå¯†é›†å‹ä»»åŠ¡æ‰§è¡ŒæœŸé—´ï¼Œ99%çš„æ—¶é—´éƒ½èŠ±åœ¨IOä¸Šï¼ŒèŠ±åœ¨CPUä¸Šçš„æ—¶é—´å¾ˆå°‘ï¼Œæ‰€ä»¥å¯¹äºIOå¯†é›†å‹ä»»åŠ¡ï¼Œæœ€åˆé€‚çš„è¯­è¨€å°±æ˜¯å¼€å‘æ•ˆç‡æœ€é«˜ï¼ˆä»£ç é‡æœ€å°‘ï¼‰çš„è¯­è¨€ï¼Œè„šæœ¬è¯­è¨€æ˜¯é¦–é€‰ï¼ŒCè¯­è¨€æœ€å·®ã€‚</p></li></ul><p>ç®€è¨€ä¹‹ï¼šPythonçš„å¤šçº¿ç¨‹ï¼Œåªæœ‰ç”¨äºI/Oå¯†é›†å‹ç¨‹åºæ—¶æ•ˆç‡æ‰ä¼šæœ‰æ˜æ˜¾çš„æé«˜ã€‚</p><details><summary>åŸå› </summary><p>Pythonä»£ç çš„æ‰§è¡Œæ˜¯ç”±Pythonè™šæ‹Ÿæœº(ä¹Ÿå«è§£é‡Šå™¨ä¸»å¾ªç¯)è¿›è¡Œæ§åˆ¶ã€‚å®ƒåœ¨ä¸»å¾ªç¯ä¸­åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªæ§åˆ¶çº¿ç¨‹åœ¨æ‰§è¡Œï¼Œæ„æ€å°±æ˜¯Pythonè§£é‡Šå™¨ä¸­å¯ä»¥è¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œçš„åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶ä»–çš„å¤„äºç­‰å¾…çŠ¶æ€ã€‚è¿™äº›çº¿ç¨‹æ‰§è¡Œæ˜¯æœ‰å…¨å±€è§£é‡Šå™¨é”ï¼ˆGILï¼‰æ§åˆ¶ï¼Œå®ƒæ¥ä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œã€‚åœ¨å¤šçº¿ç¨‹è¿è¡Œç¯å¢ƒä¸­ï¼ŒPythonè™šæ‹Ÿæœºæ‰§è¡Œæ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li>è®¾ç½®GIL</li><li>åˆ‡æ¢è¿›çº¿ç¨‹</li><li>æ‰§è¡Œä¸‹é¢æ“ä½œä¹‹ä¸€<br>ã€€1. è¿è¡ŒæŒ‡å®šæ•°é‡çš„å­—èŠ‚ç æŒ‡ä»¤<br>ã€€2. çº¿ç¨‹ä¸»åŠ¨è®©å‡ºæ§åˆ¶æƒ</li><li>åˆ‡æ¢å‡ºçº¿ç¨‹ï¼ˆçº¿ç¨‹å¤„äºç¡çœ çŠ¶æ€ï¼‰</li><li>è§£é”GIL</li><li>å†æ¬¡é‡å¤ä»¥ä¸Šæ‰€æœ‰æ­¥éª¤</li></ol><blockquote><p>åœ¨è°ƒç”¨å¤–éƒ¨ä»£ç (å¦‚ C/C++æ‰©å±•å‡½æ•°)çš„æ—¶å€™ï¼ŒGILå°†ä¼šè¢«é”å®šï¼Œç›´åˆ°è¿™ä¸ªå‡½æ•°ç»“æŸä¸ºæ­¢(ç”±äºåœ¨è¿™æœŸé—´æ²¡æœ‰Pythonçš„å­—èŠ‚ç è¢«è¿è¡Œï¼Œæ‰€ä»¥ä¸ä¼šåšçº¿ç¨‹åˆ‡æ¢)ç¼–å†™æ‰©å±•çš„ç¨‹åºå‘˜å¯ä»¥ä¸»åŠ¨è§£é”GILã€‚</p></blockquote></details><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="char"><font color="lightblue">çº¿ç¨‹ç‰¹ç‚¹</font></a></li></ul><ol><li>è½»å‹å®ä½“<br>çº¿ç¨‹ä¸­çš„å®ä½“åŸºæœ¬ä¸Šä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œä½†æ˜¯èƒ½ä¿è¯ç‹¬ç«‹è¿è¡Œçš„èµ„æº</li><li>ç‹¬ç«‹è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½<br>çº¿ç¨‹æ˜¯èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½</li><li>å…±äº«è¿›ç¨‹èµ„æº<br>æ‰€æœ‰çº¿ç¨‹éƒ½å…·æœ‰ç›¸åŒçš„è¿›ç¨‹id</li><li>å¯å¹¶å‘æ‰§è¡Œ<br>å…è®¸åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­æ‰€æœ‰çº¿ç¨‹éƒ½èƒ½å¹¶å‘æ‰§è¡Œ</li></ol><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="CPU thread">CPU &amp; çº¿ç¨‹</a></li></ul><p>æ‰“å¼€ Mac OS X çš„ Activity Monitor æˆ–è€… Windows çš„ Task Managerï¼Œéƒ½å¯ä»¥ç›‘æ§æŸä¸ªè¿›ç¨‹çš„CPUä½¿ç”¨ç‡ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç›‘æ§åˆ°ä¸€ä¸ªæ­»å¾ªç¯çº¿ç¨‹ä¼š100%å ç”¨ä¸€ä¸ªCPUã€‚å¦‚æœæœ‰ä¸¤ä¸ªæ­»å¾ªç¯çº¿ç¨‹ï¼Œåœ¨å¤šæ ¸CPUä¸­ï¼Œå¯ä»¥ç›‘æ§åˆ°ä¼šå ç”¨200%çš„CPUï¼Œä¹Ÿå°±æ˜¯å ç”¨ä¸¤ä¸ªCPUæ ¸å¿ƒã€‚è¦æƒ³æŠŠNæ ¸CPUçš„æ ¸å¿ƒå…¨éƒ¨è·‘æ»¡ï¼Œå°±å¿…é¡»å¯åŠ¨Nä¸ªæ­»å¾ªç¯çº¿ç¨‹ã€‚</p><p>å°è¯•åœ¨pythonå¯åŠ¨ä¸CPUæ ¸å¿ƒæ•°é‡ç›¸åŒçš„Nä¸ªçº¿ç¨‹ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> threading<span class="token punctuation">,</span> multiprocessing<span class="token keyword">def</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> x <span class="token operator">^</span> <span class="token number">1</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>multiprocessing<span class="token punctuation">.</span>cpu_count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>loop<span class="token punctuation">)</span>    t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>è¿™ä¸ªPythonç¨‹åºåœ¨4æ ¸CPUä¸Šå¯ä»¥ç›‘æ§åˆ°CPUå ç”¨ç‡ä»…æœ‰102%ï¼Œä¹Ÿå°±æ˜¯ä»…ä½¿ç”¨äº†ä¸€æ ¸ã€‚ä½†æ˜¯ç”¨Cã€C++æˆ–Javaæ¥æ”¹å†™ç›¸åŒçš„æ­»å¾ªç¯ï¼Œç›´æ¥å¯ä»¥æŠŠå…¨éƒ¨æ ¸å¿ƒè·‘æ»¡ï¼Œ4æ ¸å°±è·‘åˆ°400%ï¼Œ8æ ¸å°±è·‘åˆ°800%ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºPythonçš„çº¿ç¨‹è™½ç„¶æ˜¯çœŸæ­£çš„çº¿ç¨‹ï¼Œä½†è§£é‡Šå™¨æ‰§è¡Œä»£ç æ—¶ï¼Œæœ‰ä¸€ä¸ªGILé”(Global Interpreter Lock)ï¼Œä»»ä½•Pythonçº¿ç¨‹æ‰§è¡Œå‰ï¼Œå¿…é¡»å…ˆè·å¾—GILé”ï¼Œç„¶åï¼Œæ¯æ‰§è¡Œ100æ¡å­—èŠ‚ç ï¼Œè§£é‡Šå™¨å°±è‡ªåŠ¨é‡Šæ”¾GILé”ï¼Œè®©åˆ«çš„çº¿ç¨‹æœ‰æœºä¼šæ‰§è¡Œã€‚è¿™ä¸ªGILå…¨å±€é”å®é™…ä¸ŠæŠŠæ‰€æœ‰çº¿ç¨‹çš„æ‰§è¡Œä»£ç éƒ½ç»™ä¸Šäº†é”ï¼Œæ‰€ä»¥ï¼Œå¤šçº¿ç¨‹åœ¨Pythonä¸­åªèƒ½äº¤æ›¿æ‰§è¡Œï¼Œå³ä½¿100ä¸ªçº¿ç¨‹è·‘åœ¨100æ ¸CPUä¸Šï¼Œä¹Ÿåªèƒ½ç”¨åˆ°1ä¸ªæ ¸ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœä¸€å®šè¦é€šè¿‡å¤šçº¿ç¨‹åˆ©ç”¨å¤šæ ¸ï¼Œé‚£åªèƒ½é€šè¿‡Cæ‰©å±•æ¥å®ç°ã€‚ä½†æ˜¯Pythonå¯ä»¥é€šè¿‡å¤šè¿›ç¨‹å®ç°å¤šæ ¸ä»»åŠ¡ã€‚å¤šä¸ªPythonè¿›ç¨‹æœ‰å„è‡ªç‹¬ç«‹çš„GILé”ï¼Œäº’ä¸å½±å“ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><p><a id="thread module"><font color="lightblue">pythonçº¿ç¨‹æ¨¡å—</font></a></p><ul><li>_threadï¼šä½çº§æ¨¡å—</li></ul><p>_threadæ¨¡å—ä¸æ”¯æŒå®ˆæŠ¤çº¿ç¨‹ï¼Œå½“ä¸»çº¿ç¨‹é€€å‡ºæ—¶ï¼Œæ‰€æœ‰çš„å­çº¿ç¨‹ä¸è®ºå®ƒä»¬æ˜¯å¦è¿˜åœ¨å·¥ä½œï¼Œéƒ½ä¼šè¢«å¼ºè¡Œé€€å‡ºã€‚</p><ul><li>threadingï¼šé«˜çº§æ¨¡å—ï¼Œå¯¹_threadè¿›è¡Œäº†å°è£…ï¼Œæ›´å…ˆè¿›ã€å®Œå–„</li></ul><p>threadingæ¨¡å—æ”¯æŒå®ˆæŠ¤çº¿ç¨‹ï¼Œå®ˆæŠ¤çº¿ç¨‹ä¸€èˆ¬æ˜¯ä¸€ä¸ªç­‰å¾…å®¢æˆ·è¯·æ±‚çš„æœåŠ¡å™¨ï¼Œå¦‚æœæ²¡æœ‰å®¢æˆ·æå‡ºè¯·æ±‚å®ƒå°±åœ¨é‚£ç­‰ç€ï¼Œå¦‚æœè®¾å®šä¸€ä¸ªçº¿ç¨‹ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªçº¿ç¨‹æ˜¯ä¸é‡è¦çš„ï¼Œåœ¨è¿›ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œä¸ç”¨ç­‰å¾…è¿™ä¸ªçº¿ç¨‹é€€å‡ºã€‚</p></li></ul><details><summary>threading æ¨¡å—å¯¹è±¡ã€æ–¹æ³•</summary><table><thead><tr><th align="center">å¯¹è±¡</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center"><code>Thread</code></td><td align="center">è¡¨ç¤ºä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹çš„å¯¹è±¡</td></tr><tr><td align="center"><code>Lock</code></td><td align="center">é”åŸè¯­å¯¹è±¡</td></tr><tr><td align="center"><code>RLock</code></td><td align="center">å¯é‡å…¥é”å¯¹è±¡ï¼Œä½¿å•ä¸€çº¿ç¨‹å¯ä»¥ï¼ˆå†æ¬¡ï¼‰è·å¾—å·²æŒæœ‰çš„é”ï¼ˆé€’å½’é”ï¼‰</td></tr><tr><td align="center"><code>Condition</code></td><td align="center">æ¡ä»¶å˜é‡å¯¹è±¡ï¼Œä½¿å¾—ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ»¡è¶³ç‰¹å®šçš„â€œæ¡ä»¶â€ï¼Œæ¯”å¦‚æ”¹å˜çŠ¶æ€æˆ–æŸä¸ªæ•°æ®å€¼</td></tr><tr><td align="center"><code>Event</code></td><td align="center">æ¡ä»¶å˜é‡çš„é€šç”¨ç‰ˆæœ¬ï¼Œä»»æ„æ•°é‡çš„çº¿ç¨‹ç­‰å¾…æŸä¸ªäº‹ä»¶çš„å‘ç”Ÿï¼Œåœ¨è¯¥äº‹ä»¶å‘ç”Ÿåæ‰€æœ‰çº¿ç¨‹å°†è¢«æ¿€æ´»</td></tr><tr><td align="center"><code>Semaphore</code></td><td align="center">ä¸ºçº¿ç¨‹é—´å…±äº«çš„æœ‰é™èµ„æºæä¾›äº†ä¸€ä¸ªâ€œè®¡æ•°å™¨â€ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨èµ„æºæ—¶ä¼šè¢«é˜»å¡</td></tr><tr><td align="center"><code>BoundedSemaphore</code></td><td align="center">ä¸<code>Semaphore</code>ç›¸ä¼¼ï¼Œä¸è¿‡å®ƒä¸å…è®¸è¶…è¿‡åˆå§‹å€¼</td></tr><tr><td align="center"><code>Timer</code></td><td align="center">ä¸<code>Thread</code>ç›¸ä¼¼ï¼Œä¸è¿‡å®ƒè¦åœ¨è¿è¡Œå‰ç­‰å¾…ä¸€æ®µæ—¶é—´</td></tr><tr><td align="center"><code>Barrier</code></td><td align="center">åˆ›å»ºä¸€ä¸ªéšœç¢ï¼Œå¿…é¡»è¾¾åˆ°æŒ‡å®šæ•°é‡çš„çº¿ç¨‹æ‰å¯ä»¥ç»§ç»­</td></tr></tbody></table><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center"><code>activeCount()</code></td><td align="center">è·å–å½“å‰æ´»åŠ¨ä¸­çš„Threadå¯¹è±¡ä¸ªæ•°</td></tr><tr><td align="center"><code>currentThread()</code></td><td align="center">è·å–å½“å‰çš„Threadå¯¹è±¡</td></tr><tr><td align="center"><code>enumerate()</code></td><td align="center">è·å–å½“å‰æ´»åŠ¨çš„Threadå¯¹è±¡åˆ—è¡¨</td></tr><tr><td align="center"><code>settrace(func)</code></td><td align="center">ä¸ºæ‰€æœ‰çº¿ç¨‹è®¾ç½®ä¸€ä¸ªè·Ÿè¸ªï¼ˆtraceï¼‰å‡½æ•°</td></tr><tr><td align="center"><code>setprofile(func)</code></td><td align="center">ä¸ºæ‰€æœ‰çº¿ç¨‹è®¾ç½®é…ç½®æ–‡ä»¶ï¼ˆprofileï¼‰å‡½æ•°</td></tr><tr><td align="center"><code>stack_size(size=None)</code></td><td align="center">è·å–æ–°åˆ›å»ºçº¿ç¨‹çš„æ ˆå¤§å°ï¼Œä¹Ÿå¯è®¾ç½®çº¿ç¨‹æ ˆçš„å¤§å°ä¸ºsize</td></tr></tbody></table></details><hr><h2 id="çº¿ç¨‹çš„åŸºæœ¬æ“ä½œ"><a href="#çº¿ç¨‹çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="çº¿ç¨‹çš„åŸºæœ¬æ“ä½œ"></a>çº¿ç¨‹çš„åŸºæœ¬æ“ä½œ</h2><h3 id="threading-Thread-ç±»"><a href="#threading-Thread-ç±»" class="headerlink" title="threading.Thread ç±»"></a><code>threading.Thread</code> ç±»</h3><ul><li>outline<ul><li><strong><a href="#Thread intro">Threadç±»ä»‹ç»</a></strong></li><li><strong><a href="#Thread examp">Threadç±»å®ä¾‹</a></strong><ul><li><strong><a href="#ä½¿ç”¨Threadåˆ›å»ºå®ä¾‹å¯¹è±¡">ä½¿ç”¨Threadåˆ›å»ºå®ä¾‹å¯¹è±¡</a></strong></li><li><strong><a href="#ç»§æ‰¿Threadåˆ›å»ºå®ä¾‹å¯¹è±¡">ç»§æ‰¿Threadåˆ›å»ºå®ä¾‹å¯¹è±¡</a></strong></li><li><strong><a href="#å†…å­˜æ•°æ®çš„å…±äº«é—®é¢˜">å†…å­˜æ•°æ®çš„å…±äº«é—®é¢˜</a></strong></li><li><strong><a href="#å¤šçº¿ç¨‹å®ç°socket">å¤šçº¿ç¨‹å®ç°socket</a></strong></li><li><strong><a href="#å®ˆæŠ¤çº¿ç¨‹">å®ˆæŠ¤çº¿ç¨‹</a></strong><br></li></ul></li></ul></li></ul><p><a id="Thread intro"><font color="black"></font></a></p><h4><a id="Thread intro"><font color="black">Threadç±»ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>    group<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>   <span class="token comment"># ä¸ºäº†æ—¥åæ‰©å±• ThreadGroup ç±»å®ç°è€Œä¿ç•™</span>    target<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># ç”¨äº run() æ–¹æ³•è°ƒç”¨çš„å¯è°ƒç”¨å¯¹è±¡</span>    name<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>    <span class="token comment"># çº¿ç¨‹åç§°</span>    args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment"># è°ƒç”¨ç›®æ ‡å‡½æ•°çš„å‚æ•°å…ƒç»„</span>    kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment"># è°ƒç”¨ç›®æ ‡å‡½æ•°çš„å…³é”®å­—å‚æ•°å­—å…¸</span>    daemon<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># å®ˆæŠ¤æ¨¡å¼</span><span class="token punctuation">}</span></code></pre><blockquote><p><code>daemon = None</code>ï¼šçº¿ç¨‹å°†ç»§æ‰¿å½“å‰çº¿ç¨‹çš„å®ˆæŠ¤æ¨¡å¼å±æ€§<br><code>daemon != None</code>ï¼šè®¾ç½®è¯¥çº¿ç¨‹æ˜¯å¦ä¸ºå®ˆæŠ¤æ¨¡å¼</p></blockquote><details><summary>Threadç±»å®ä¾‹å¯¹è±¡çš„æ–¹æ³•ã€å±æ€§</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo æ–¹æ³•</span>t <span class="token operator">=</span> Thread<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># å®ä¾‹åŒ–çº¿ç¨‹</span>t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment"># å¼€å§‹æ‰§è¡Œè¯¥çº¿ç¨‹</span>t<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment"># å®šä¹‰çº¿ç¨‹åŠŸèƒ½çš„æ–¹æ³•ï¼ˆé€šå¸¸åœ¨å­ç±»ä¸­è¢«åº”ç”¨å¼€å‘è€…é‡å†™ï¼‰</span>t<span class="token punctuation">.</span>join<span class="token punctuation">(</span>timeout<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>   <span class="token comment"># é˜»å¡ï¼Œç›´è‡³å¯åŠ¨çš„çº¿ç¨‹ç»ˆæ­¢ä¹‹å‰ä¸€ç›´æŒ‚èµ·ï¼›é™¤éç»™å‡ºäº† timeoutï¼ˆç§’ï¼‰ï¼Œå¦åˆ™ä¼šä¸€ç›´é˜»å¡</span>t<span class="token punctuation">.</span>getName<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># è¿”å›çº¿ç¨‹å</span>t<span class="token punctuation">.</span>setName<span class="token punctuation">(</span>name<span class="token punctuation">)</span>        <span class="token comment"># è®¾å®šçº¿ç¨‹å</span>t<span class="token punctuation">.</span>isAlivel<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># è¯¥çº¿ç¨‹æ˜¯å¦è¿˜å­˜æ´»</span>t<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># è¯¥çº¿ç¨‹æ˜¯å¦è¿˜å­˜æ´»</span>t<span class="token punctuation">.</span>isDaemon<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># å¦‚æœæ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Œåˆ™è¿”å› Trueï¼›å¦åˆ™ï¼Œè¿”å› False</span>t<span class="token punctuation">.</span>setDaemon<span class="token punctuation">(</span>daemonic<span class="token punctuation">)</span>  <span class="token comment"># æŠŠçº¿ç¨‹çš„å®ˆæŠ¤æ ‡å¿—è®¾å®šä¸ºå¸ƒå°”å€¼ daemonicï¼ˆå¿…é¡»åœ¨çº¿ç¨‹ start()ä¹‹å‰è°ƒç”¨ï¼‰</span><span class="token comment"># todo å±æ€§</span>t<span class="token punctuation">.</span>name       <span class="token comment"># çº¿ç¨‹å</span>t<span class="token punctuation">.</span>ident      <span class="token comment"># çº¿ç¨‹æ ‡è¯†ç¬¦ï¼ˆé€šè¿‡t.get_ident()è·å–ï¼‰</span>t<span class="token punctuation">.</span>native_id  <span class="token comment"># æ­¤çº¿ç¨‹çš„åŸç”Ÿé›†æˆçº¿ç¨‹ TIDï¼Œç±»ä¼¼äºè¿›ç¨‹ PIDï¼ˆé€šè¿‡t.get_native_id()è·å–ï¼‰</span>t<span class="token punctuation">.</span>daemon     <span class="token comment"># å®ˆæŠ¤çº¿ç¨‹</span></code></pre></details><details><summary>Threadç±»çš„æ–¹æ³•ã€å±æ€§</summary><pre class="language-python" data-language="python"><code class="language-python">threading<span class="token punctuation">.</span>currentThread<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># è¿”å›å½“å‰çš„çº¿ç¨‹å˜é‡ï¼ˆå¯¹è±¡ï¼‰ã€‚</span>threading<span class="token punctuation">.</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment"># è¿”å›ä¸€ä¸ªåŒ…å«æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹çš„listã€‚æ­£åœ¨è¿è¡ŒæŒ‡çº¿ç¨‹å¯åŠ¨åã€ç»“æŸå‰ï¼Œä¸åŒ…æ‹¬å¯åŠ¨å‰å’Œç»ˆæ­¢åçš„çº¿ç¨‹ã€‚</span>threading<span class="token punctuation">.</span>activeCount<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># è¿”å›æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œä¸len(threading.enumerate())æœ‰ç›¸åŒçš„ç»“æœã€‚</span></code></pre></details><p><a id="Thread examp"></a></p><h4><a id="Thread examp"><font color="black">Threadç±»å®ä¾‹</font></a></h4><p></p><ul><li><a id="ä½¿ç”¨Threadåˆ›å»ºå®ä¾‹å¯¹è±¡">ä½¿ç”¨Threadåˆ›å»ºå®ä¾‹å¯¹è±¡</a></li></ul><p>åŒä¸€è¿›ç¨‹çš„çº¿ç¨‹æœ‰ç›¸åŒçš„PIDï¼Œä½†æ˜¯TIDä¸åŒï¼</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token keyword">import</span> threading<span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread<span class="token keyword">def</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>    loop_thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>loop_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> å¼€å§‹......"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>loop_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> PIDï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>loop_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> TIDï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>loop_thread<span class="token punctuation">.</span>native_id<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>loop_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> ç»“æŸ......"</span></span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    main_thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>main_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> å¼€å§‹......"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>main_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> PIDï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>main_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> TIDï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>main_thread<span class="token punctuation">.</span>native_id<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>        t1 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>loop<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"Loopthread-1"</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>    t2 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>loop<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"Loopthread-2"</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>        t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"çº¿ç¨‹ </span><span class="token interpolation"><span class="token punctuation">{</span>main_thread<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string"> ç»“æŸ......"</span></span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote><p>æ³¨ï¼š<br>1.ä¸»çº¿ç¨‹ï¼šä»»ä½•è¿›ç¨‹é»˜è®¤å°±ä¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¯¥çº¿ç¨‹ç§°ä¸ºä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹åˆå¯ä»¥å¯åŠ¨æ–°çš„çº¿ç¨‹</p></blockquote><ul><li><a id="ç»§æ‰¿Threadåˆ›å»ºå®ä¾‹å¯¹è±¡">ç»§æ‰¿Threadåˆ›å»ºå®ä¾‹å¯¹è±¡</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread<span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> target<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>target <span class="token operator">=</span> target        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>target<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">say_hi</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"hello, this's </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    mythread <span class="token operator">=</span> MyThread<span class="token punctuation">(</span>target<span class="token operator">=</span>say_hi<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"my thread"</span><span class="token punctuation">)</span>    mythread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    mythread<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote><p>æ³¨ï¼š<br>1.ç»§æ‰¿å¿…é¡»å®ç°<code>run()</code>å‡½æ•°ï¼</p></blockquote><ul><li><a id="å†…å­˜æ•°æ®çš„å…±äº«é—®é¢˜">å†…å­˜æ•°æ®çš„å…±äº«é—®é¢˜</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token keyword">import</span> threading<span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token keyword">def</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> n    n <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token number">100</span>    p <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>work<span class="token punctuation">)</span>    p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä¸»è¿›ç¨‹çš„ n = '</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>    n <span class="token operator">=</span> <span class="token number">1</span>    t <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work<span class="token punctuation">)</span>    t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä¸»çº¿ç¨‹çš„ n = '</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span></code></pre><blockquote><p>æ³¨ï¼š<br>1.å­è¿›ç¨‹på·²ç»å°†è‡ªå·±çš„å…¨å±€çš„næ”¹æˆäº†0ï¼ˆå…·ä½“æ¥è¯´æ˜¯å°†æ•°æ®æ‹·è´äº†ä¸€ä»½ï¼Œç„¶åå†ä¿®æ”¹ï¼‰ï¼Œä½†æ”¹çš„ä»…ä»…æ˜¯å®ƒè‡ªå·±çš„ï¼Œçˆ¶è¿›ç¨‹çš„nä»ç„¶ä¸º100ï¼Œæ‰€ä»¥è¿›ç¨‹ä¹‹é—´æ•°æ®ä¸å…±äº«<br>2.ä¸»çº¿ç¨‹nçš„ç»“æœä¸º0ï¼ŒåŒä¸€è¿›ç¨‹å†…çš„çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹å†…çš„æ•°æ®</p></blockquote><ul><li><a id="å¤šçº¿ç¨‹å®ç°socket">å¤šçº¿ç¨‹å®ç°socket</a></li></ul><p>serverç«¯</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#_*_coding:utf-8_*_</span><span class="token comment">#!/usr/bin/env python</span><span class="token keyword">import</span> threading<span class="token keyword">import</span> multiprocessing <span class="token keyword">import</span> sockets <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>s<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">action</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        data<span class="token operator">=</span>conn<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>        conn<span class="token punctuation">.</span>send<span class="token punctuation">(</span>data<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        conn<span class="token punctuation">,</span>addr<span class="token operator">=</span>s<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>        p<span class="token operator">=</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>action<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>clientç«¯</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#_*_coding:utf-8_*_</span><span class="token comment">#!/usr/bin/env python</span><span class="token keyword">import</span> socket s <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>s<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    msg <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'&gt;&gt;: '</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> msg<span class="token punctuation">:</span><span class="token keyword">continue</span>     s<span class="token punctuation">.</span>send<span class="token punctuation">(</span>msg<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    data <span class="token operator">=</span> s<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></code></pre><ul><li><a id="å®ˆæŠ¤çº¿ç¨‹">å®ˆæŠ¤çº¿ç¨‹</a></li></ul><p><b>æ— è®ºæ˜¯è¿›ç¨‹è¿˜æ˜¯çº¿ç¨‹ï¼Œéƒ½éµå¾ªï¼šå®ˆæŠ¤xxä¼šç­‰å¾…ä¸»xxè¿è¡Œå®Œæ¯•åè¢«é”€æ¯ã€‚éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼šè¿è¡Œå®Œæ¯•å¹¶éç»ˆæ­¢è¿è¡Œ</b></p><blockquote><p><b>å®ˆæŠ¤çº¿ç¨‹è¿è¡Œå®Œæ¯•</b><br>1.å¯¹ä¸»è¿›ç¨‹æ¥è¯´ï¼Œè¿è¡Œå®Œæ¯•æŒ‡çš„æ˜¯ä¸»è¿›ç¨‹ä»£ç è¿è¡Œå®Œæ¯•<br>2.å¯¹ä¸»çº¿ç¨‹æ¥è¯´ï¼Œè¿è¡Œå®Œæ¯•æŒ‡çš„æ˜¯ä¸»çº¿ç¨‹æ‰€åœ¨çš„è¿›ç¨‹å†…æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹é€šé€šè¿è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹æ‰ç®—è¿è¡Œå®Œæ¯•</p><blockquote><p><b>è¯¦ç»†è§£é‡Š</b><br>1.ä¸»è¿›ç¨‹åœ¨å…¶ä»£ç ç»“æŸåå°±å·²ç»ç®—è¿è¡Œå®Œæ¯•äº†ï¼ˆå®ˆæŠ¤è¿›ç¨‹åœ¨æ­¤æ—¶å°±è¢«å›æ”¶ï¼‰,ç„¶åä¸»è¿›ç¨‹ä¼šä¸€ç›´ç­‰éå®ˆæŠ¤çš„å­è¿›ç¨‹éƒ½è¿è¡Œå®Œæ¯•åå›æ”¶å­è¿›ç¨‹çš„èµ„æº(å¦åˆ™ä¼šäº§ç”Ÿåƒµå°¸è¿›ç¨‹)ï¼Œæ‰ä¼šç»“æŸã€‚<br>2.ä¸»çº¿ç¨‹åœ¨å…¶ä»–éå®ˆæŠ¤çº¿ç¨‹è¿è¡Œå®Œæ¯•åæ‰ç®—è¿è¡Œå®Œæ¯•ï¼ˆå®ˆæŠ¤çº¿ç¨‹åœ¨æ­¤æ—¶å°±è¢«å›æ”¶ï¼‰ã€‚å› ä¸ºä¸»çº¿ç¨‹çš„ç»“æŸæ„å‘³ç€è¿›ç¨‹çš„ç»“æŸï¼Œè¿›ç¨‹æ•´ä½“çš„èµ„æºéƒ½å°†è¢«å›æ”¶ï¼Œè€Œè¿›ç¨‹å¿…é¡»ä¿è¯éå®ˆæŠ¤çº¿ç¨‹éƒ½è¿è¡Œå®Œæ¯•åæ‰èƒ½ç»“æŸã€‚</p></blockquote></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token keyword">import</span> threading<span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread<span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"thread bar is running......"</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"thread foo is running......"</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    t1 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>bar<span class="token punctuation">,</span><span class="token punctuation">)</span>    t2 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>foo<span class="token punctuation">,</span><span class="token punctuation">)</span>    <span class="token comment"># t1.daemon = True</span>    t1<span class="token punctuation">.</span>setDaemon<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"thread bar is alive </span><span class="token interpolation"><span class="token punctuation">{</span>t1<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"thread foo is alive </span><span class="token interpolation"><span class="token punctuation">{</span>t2<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"thread bar is alive </span><span class="token interpolation"><span class="token punctuation">{</span>t1<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"thread foo is alive </span><span class="token interpolation"><span class="token punctuation">{</span>t2<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></code></pre><blockquote><p>å®ˆæŠ¤è¿›ç¨‹å¿…é¡»è®¾ç½®åœ¨<code>t.start()</code>ä¹‹å‰ï¼</p></blockquote><hr><h4 id="ç»“æŸçº¿ç¨‹æ–¹æ³•"><a href="#ç»“æŸçº¿ç¨‹æ–¹æ³•" class="headerlink" title="ç»“æŸçº¿ç¨‹æ–¹æ³•"></a>ç»“æŸçº¿ç¨‹æ–¹æ³•</h4><p>è§ï¼›<a href="https://blog.csdn.net/fenglepeng/article/details/103186966">python threading ç»“æŸçº¿ç¨‹</a></p><h3 id="threading-Lock-ç±»"><a href="#threading-Lock-ç±»" class="headerlink" title="threading.Lock ç±»"></a><code>threading.Lock</code> ç±»</h3><p>å¤šçº¿ç¨‹æ˜¯åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸‹è¿è¡Œçš„ï¼Œå› æ­¤åœ¨è¿›ç¨‹ä¸­çš„å…¨å±€å˜é‡æ‰€æœ‰çº¿ç¨‹éƒ½æ˜¯å…±äº«çš„ï¼Œè¿™å°±é€ æˆä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºçº¿ç¨‹æ‰§è¡Œçš„é¡ºåºæ˜¯æ— åºçš„ï¼Œæœ‰å¯èƒ½ä¼šé€ æˆæ•°æ®é”™è¯¯ï¼Œæ‰€ä»¥å¼•å…¥é”æœºåˆ¶ã€‚</p><ul><li>outline<ul><li><strong><a href="#Lock intro">Lockç±»ä»‹ç»</a></strong></li><li><strong><a href="#Lock examp">Lockç±»å®ä¾‹</a></strong><ul><li><strong><a href="#share data prob">å¤šçº¿ç¨‹æ•°æ®å…±äº«çš„é—®é¢˜</a></strong></li><li><strong><a href="#share data solu">Lockè§£å†³å¤šçº¿ç¨‹æ•°æ®å…±äº«çš„é—®é¢˜</a></strong></li><li><strong><a href="#Lock0">Lockä¹°ç¥¨é—®é¢˜</a></strong><br></li></ul></li></ul></li></ul><p><a id="Lock intro"><font color="b"></font></a></p><h4><a id="Lock intro"><font color="b">Lockç±»ä»‹ç»</font></a></h4><p></p><details><summary>Lockç±»å¯¹è±¡æ–¹æ³•</summary><pre class="language-python" data-language="python"><code class="language-python">l <span class="token operator">=</span> Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>                               <span class="token comment"># å®ä¾‹åŒ–é”å¯¹è±¡</span>l<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span>blocking<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># è·å–é”ï¼ˆé˜»å¡æˆ–éé˜»å¡ï¼‰</span>l<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>                         <span class="token comment"># é‡Šæ”¾é”</span>l<span class="token punctuation">.</span>locked<span class="token punctuation">(</span><span class="token punctuation">)</span>                               <span class="token comment"># å¦‚æœè·å¾—äº†é”åˆ™è¿”å›çœŸå€¼</span></code></pre></details><p>é”æœ‰ä¸¤ç§çŠ¶æ€ï¼š<font color="red">é”å®š</font>å’Œ<font color="red">æœªé”å®š</font>ã€‚è€Œä¸”ä¹Ÿåªæœ‰ä¸¤ä¸ªå‡½æ•°ï¼š<font color="red">è·å–é”</font>å’Œ<font color="red">é‡Šæ”¾é”</font>ã€‚å½“å¤šçº¿ç¨‹äº‰å¤ºé”çš„æ—¶å€™ï¼Œå…è®¸ç¬¬ä¸€ä¸ªè·å¾—é”çš„çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¹¶æ‰§è¡Œä»£ç ï¼Œä¹‹åæ‰€æœ‰çš„çº¿ç¨‹éƒ½è¢«é˜»å¡ï¼Œå½“ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œé€€å‡ºä¸´ç•ŒåŒºï¼Œé‡Šæ”¾é”ï¼Œæ­¤æ—¶ï¼Œå…¶ä»–ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥è·å¾—é”è¿›å…¥ä¸´ç•ŒåŒºï¼Œä¸è¿‡è¦è®°ä½ï¼Œè¢«é˜»å¡çš„çº¿ç¨‹æ˜¯<font color="red">æ— åº</font>çš„ã€‚</p><p><a id="Lock examp"><font color="b"></font></a></p><h4><a id="Lock examp"><font color="b">Lockç±»å®ä¾‹</font></a></h4><p></p><ul><li><a id="share data prob">å¤šçº¿ç¨‹æ•°æ®å…±äº«çš„é—®é¢˜</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread<span class="token keyword">def</span> <span class="token function">add_v</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> value    <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        value <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"value: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    threads <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        threads<span class="token punctuation">.</span>append<span class="token punctuation">(</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>add_v<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ç»“æœ</span>value: <span class="token number">1398771</span>value: <span class="token number">1555540</span></code></pre><ul><li><a id="share data solu">Lockè§£å†³å¤šçº¿ç¨‹æ•°æ®å…±äº«çš„é—®é¢˜</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> threading <span class="token keyword">import</span> Lock<span class="token punctuation">,</span> Thread<span class="token keyword">def</span> <span class="token function">add_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> value    lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># è·å–é”</span>    <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        value <span class="token operator">+=</span> <span class="token number">1</span>    lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># é‡Šæ”¾é”</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"value: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>value <span class="token operator">=</span> <span class="token number">0</span>lock <span class="token operator">=</span> Lock<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    threads <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        threads<span class="token punctuation">.</span>append<span class="token punctuation">(</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>add_v<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># todo ç»“æœ</span>value: <span class="token number">1000000</span>value: <span class="token number">2000000</span></code></pre><ul><li><a id="Lock0">Lockå–ç¥¨é—®é¢˜</a></li></ul><p>å‡è®¾æœ‰3ä¸ªå–ç¥¨çª—å£ï¼Œä¸€å…±10å¼ ç¥¨ï¼Œæ¯ä¸ªçª—å£æ’é˜Ÿä¹°ç¥¨ï¼Œæ¯äººæœ€å¤šè´­ä¹°2å¼ ï¼Œè¯·ä½¿ç”¨å¤šçº¿ç¨‹æ¨¡æ‹Ÿè¯¥åœºæ™¯ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># to be continue</span></code></pre><hr><h3 id="threading-RLock-ç±»"><a href="#threading-RLock-ç±»" class="headerlink" title="threading.RLock ç±»"></a><code>threading.RLock</code> ç±»</h3><p>é€’å½’é”RLockå’Œæ™®é€šé”Lockçš„å·®åˆ«åœ¨äºåŠ å…¥äº†â€œæ‰€å±çº¿ç¨‹â€å’Œâ€œé€’å½’ç­‰çº§â€çš„æ¦‚å¿µï¼Œé‡Šæ”¾é”å¿…é¡»ç”±è·å–é”çš„çº¿ç¨‹æ¥è¿›è¡Œé‡Šæ”¾ã€‚åŒæ—¶ï¼ŒåŒä¸€ä¸ªçº¿ç¨‹åœ¨é‡Šæ”¾é”ä¹‹å‰å†æ¬¡è·å–é”å°†ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œåªæ˜¯åœ¨é”çš„é€’å½’ç­‰çº§ä¸ŠåŠ äº†1ï¼ˆè·å¾—é”æ—¶çš„åˆå§‹é€’å½’ç­‰çº§ä¸º1ï¼‰ã€‚</p><p>è¯´ç™½äº†é€’å½’é”å°±æ˜¯â€”â€”æ™®é€šé”çš„å¥—å¨ƒï¼šé€’å½’é”RLockå¯ä»¥ä¸Šå¾ˆå¤šæ¬¡é”ï¼Œä¸Šäº†å‡ æ¬¡é”å°±å¾—è§£å‡ æ¬¡é”æ‰èƒ½è§£å¼€ï¼Œä½†æ˜¯å¿…é¡»å¾—å®Œå…¨è§£å¼€ä¹‹åï¼Œå…¶ä»–çº¿ç¨‹æ‰èƒ½ä½¿ç”¨å…¶ä¸­çš„èµ„æºã€‚</p><ul><li>outline<ul><li><strong><a href="#RLock intro">RLockç±»ä»‹ç»</a></strong></li><li><strong><a href="#RLock examp">RLockç±»å®ä¾‹</a></strong><ul><li><strong><a href="#deadlock prob">æ­»é”é—®é¢˜</a></strong></li><li><strong><a href="#deadlock solu">RLockè§£å†³æ­»é”é—®é¢˜</a></strong><br></li></ul></li></ul></li></ul><p><a id="RLock intro"><font color="black"></font></a></p><h4><a id="RLock intro"><font color="black">RLockç±»ä»‹ç»</font></a></h4><p></p><details><summary>RLockç±»æ–¹æ³•(ç•¥)</summary><pre class="language-python" data-language="python"><code class="language-python">rl <span class="token operator">=</span> RLock<span class="token punctuation">(</span><span class="token punctuation">)</span>                           <span class="token comment"># å®ä¾‹åŒ–é€’å½’é”å¯¹è±¡</span>rl<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span>blocking<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># é€’å½’é”çš„é€’å½’ç­‰çº§åŠ 1</span>rl<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>                           <span class="token comment"># é€’å½’é”çš„é€’å½’ç­‰çº§å‡1</span></code></pre></details><details><summary>RLockç±»æ–¹æ³•(è¯¦)</summary><pre class="language-python" data-language="python"><code class="language-python">rl <span class="token operator">=</span> RLock<span class="token punctuation">(</span><span class="token punctuation">)</span>rl<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span>blocking<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    ä¸æ™®é€šé”çš„ä¸åŒä¹‹å¤„åœ¨äºï¼šå½“ä½¿ç”¨é»˜è®¤å€¼æ—¶ï¼Œå¦‚æœè¿™ä¸ªçº¿ç¨‹å·²ç»æ‹¥æœ‰é”ï¼Œé‚£ä¹ˆé”çš„é€’å½’ç­‰çº§åŠ 1ã€‚    çº¿ç¨‹è·å¾—é”æ—¶ï¼Œè¯¥é”çš„é€’å½’ç­‰çº§è¢«åˆå§‹åŒ–ä¸º1ã€‚    å½“å¤šä¸ªçº¿ç¨‹è¢«é˜»å¡æ—¶ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½åœ¨é”è¢«è§£æ—¶è·å¾—é”ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œacquire()æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ã€‚    """</span>rl<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    æ²¡æœ‰è¿”å›å€¼ï¼Œè°ƒç”¨ä¸€æ¬¡åˆ™é€’å½’ç­‰çº§å‡1ï¼Œ    é€’å½’ç­‰çº§ä¸ºé›¶æ—¶è¡¨ç¤ºè¿™ä¸ªçº¿ç¨‹çš„é”å·²ç»è¢«é‡Šæ”¾æ‰ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥è·å–é”äº†ã€‚    å¯èƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è°ƒç”¨äº†å¤šæ¬¡acquire()ï¼Œå¯¼è‡´é”çš„é€’å½’ç­‰çº§å¤§äºäº†1ï¼Œ    é‚£ä¹ˆå°±éœ€è¦è°ƒç”¨å¯¹åº”æ¬¡æ•°çš„release()æ¥å®Œå…¨é‡Šæ”¾é”ï¼Œ    å¹¶å°†å®ƒçš„é€’å½’ç­‰çº§å‡åˆ°é›¶ï¼Œå…¶ä»–çš„çº¿ç¨‹æ‰èƒ½è·å–é”ï¼Œä¸ç„¶å°±ä¼šä¸€ç›´è¢«é˜»å¡ç€ã€‚    """</span></code></pre></details><p><a id="RLock examp"><font color="black"></font></a></p><h4><a id="RLock examp"><font color="black">RLockç±»å®ä¾‹</font></a></h4><p></p><ul><li><a id="deadlock prob">æ­»é”é—®é¢˜</a></li></ul><p><strong>æ­»é”</strong>ï¼šæŒ‡çš„æ˜¯ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹æˆ–è¿›ç¨‹åœ¨è¯·æ±‚é”çš„æ—¶å€™å½¢æˆäº†äº’ç›¸ç­‰å¾…é˜»å¡çš„æƒ…å†µï¼Œå¯¼è‡´è¿™äº›çº¿ç¨‹æˆ–è¿›ç¨‹æ— æ³•ç»§ç»­æ‰§è¡Œä¸‹å»ï¼Œè¿™æ—¶å€™ç§°ç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€æˆ–è€…ç³»ç»Ÿäº§ç”Ÿäº†æ­»é”ï¼Œè¿™äº›çº¿ç¨‹æˆ–è¿›ç¨‹å°±ç§°ä¸ºæ­»é”çº¿ç¨‹æˆ–æ­»é”è¿›ç¨‹ã€‚</p><p><strong>ä¸¾ä¸ªä¾‹å­</strong>ï¼šæˆ‘æœ‰ä¸€ä¸ªè‹¹æœï¼Œä½ æœ‰ä¸€ä¸ªé¦™è•‰ï¼Œæˆ‘æƒ³è¦ä½ çš„é¦™è•‰ï¼Œä½ æƒ³è¦æˆ‘çš„è‹¹æœã€‚ä½†æ˜¯ï¼Œæˆ‘è¦æ±‚ï¼šä½ å¾—å…ˆç»™æˆ‘é¦™è•‰æˆ‘æ‰èƒ½ç»™ä½ è‹¹æœï¼Œä½ ä¹Ÿè¦æ±‚ï¼šæˆ‘å¾—ç»™ä½ è‹¹æœä½ æ‰èƒ½ç»™æˆ‘é¦™è•‰ã€‚æ‰€ä»¥ï¼ŒåŒæ–¹å°±æ— æ³•å®Œæˆäº¤æ¢ï¼Œå³é€ æˆæ­»é”ã€‚</p><blockquote><p>æ­»é”é—®é¢˜å®ä¾‹ï¼š<br><code>func1()</code>ï¼šå¾—åˆ°è‹¹æœ-&gt;å¾—åˆ°é¦™è•‰-&gt;é‡Šæ”¾é¦™è•‰-&gt;é‡Šæ”¾è‹¹æœ<br><code>func1()</code>ï¼šå¾—åˆ°é¦™è•‰-&gt;å¾—åˆ°è‹¹æœ-&gt;é‡Šæ”¾è‹¹æœ-&gt;é‡Šæ”¾é¦™è•‰</p><blockquote><p>é€ æˆæ­»é”æµç¨‹ï¼š<br>1.<code>thread-1</code>åœ¨<code>func1</code>ä¸­ï¼Œä¾æ¬¡å¾—åˆ°å¹¶é‡Šæ”¾è‹¹æœå’Œé¦™è•‰<br>2.æ¥ç€ï¼Œ<code>thread-1</code>åœ¨<code>func2</code>ä¸­å¾—åˆ°é¦™è•‰ï¼Œç„¶å<code>sleep(0.1)</code><br>3.æ­¤æ—¶ï¼Œè¶<code>thread-1</code>åœ¨ä¼‘çœ ï¼Œ<code>thread-2</code>å¼€å§‹æ‰§è¡Œ<br>4.<code>thread-2</code>åœ¨<code>func1</code>ä¸­ï¼Œå…ˆå¾—åˆ°è‹¹æœï¼Œä½†æ˜¯æ— æ³•å¾—åˆ°é¦™è•‰ï¼ˆå› ä¸ºé¦™è•‰åœ¨<code>thread-1</code>é‡Œé¢ï¼‰<br>5.è¿™æ ·ï¼Œå°±å‡ºç°äº†æ­»é”ï¼š<code>thread-1</code>ç­‰<code>thread-2</code>é‡Šæ”¾è‹¹æœï¼Œ<code>thread-2</code>ç­‰<code>thread-1</code>é‡Šæ”¾é¦™è•‰</p></blockquote></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token keyword">import</span> threadinglock_apple <span class="token operator">=</span> threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>lock_banana <span class="token operator">=</span> threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>fun1<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fun2<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        lock_apple<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># å¦‚æœé”è¢«å ç”¨,åˆ™é˜»å¡åœ¨è¿™é‡Œ,ç­‰å¾…é”çš„é‡Šæ”¾</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock_banana<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock_banana<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock_apple<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">fun2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        lock_banana<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>  <span class="token comment"># ä¼‘çœ ï¼Œè®©å…¶ä»–çº¿ç¨‹å¼€å¯</span>        lock_apple<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock_apple<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock_banana<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># å»ºç«‹5ä¸ªçº¿ç¨‹</span>        my_thread <span class="token operator">=</span> MyThread<span class="token punctuation">(</span><span class="token punctuation">)</span>        my_thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li><a id="deadlock solu">RLockè§£å†³æ­»é”é—®é¢˜</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token keyword">import</span> threadinglock <span class="token operator">=</span> threading<span class="token punctuation">.</span>RLock<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#é€’å½’é”</span><span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        threading<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>fun1<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fun2<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># å¦‚æœé”è¢«å ç”¨,åˆ™é˜»å¡åœ¨è¿™é‡Œ,ç­‰å¾…é”çš„é‡Šæ”¾</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">fun2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>        lock<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , æƒ³æ‹¿: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"è‹¹æœ"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        lock<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹ %s , é‡Šæ”¾: %s--%s"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"é¦™è•‰"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#å»ºç«‹10ä¸ªçº¿ç¨‹</span>        my_thread <span class="token operator">=</span> MyThread<span class="token punctuation">(</span><span class="token punctuation">)</span>         my_thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><hr><h3 id="threading-Condition-ç±»"><a href="#threading-Condition-ç±»" class="headerlink" title="threading.Condition ç±»"></a><code>threading.Condition</code> ç±»</h3><p>Locké”æœºåˆ¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šé”æ˜¯ä¸€ä¸ªå¾ˆè€—è´¹CPUèµ„æºçš„è¡Œä¸ºï¼Œè¿™æ—¶å€™å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨Conditionå¯¹è±¡ï¼Œ<code>threading.Condition()</code>å¯ä»¥åœ¨<font color="orange">æ²¡æœ‰æ•°æ®çš„æ—¶å€™å¤„äºé˜»å¡ç­‰å¾…çŠ¶æ€</font>ï¼Œ<font color="orange">ä¸€æ—¦æœ‰åˆé€‚çš„æ•°æ®ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>notify()</code>ç›¸å…³çš„å‡½æ•°æ¥é€šçŸ¥å…¶ä»–å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹</font>ï¼Œè¿™æ ·å°±å¯ä»¥<font color="orange">ä¸ç”¨åšä¸€äº›æ— ç”¨çš„ä¸Šé”å’Œè§£é”æ“ä½œ</font>ï¼Œå¯ä»¥æé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</p><ul><li>outline<ul><li><strong><a href="#Condition intro">Conditionç±»ä»‹ç»</a></strong></li><li><strong><a href="#Condition examp">Conditionç±»å®ä¾‹</a></strong><ul><li><strong><a href="#Condition0">Conditionç¤ºä¾‹</a></strong></li></ul></li></ul></li></ul><p><a id="Condition intro"><font color="black"></font></a></p><h4><a id="Condition intro"><font color="black">Conditionç±»ä»‹ç»</font></a></h4><p></p><details><summary>Conditionç±»å¯¹è±¡æ–¹æ³•</summary><pre class="language-python" data-language="python"><code class="language-python">c <span class="token operator">=</span> Condition<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å®ä¾‹åŒ–æ¡ä»¶å¯¹è±¡</span>c<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># è·å–é”</span>c<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># é‡Šæ”¾é”</span>c<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># å°†å½“å‰çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå¹¶é‡Šæ”¾é”ã€‚å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹ä½¿ç”¨ notify å’Œ notify_all å‡½æ•°å”¤é†’ï¼Œè¢«å”¤é†’åä¼šç»§ç»­ç­‰å¾…ä¸Šé”ï¼Œä¸Šé”åç»§ç»­æ‰§è¡Œä¸‹é¢ä»£ç </span>c<span class="token punctuation">.</span>notify<span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment"># é€šçŸ¥æ­£åœ¨ç­‰å¾…çš„æŸä¸ªçº¿ç¨‹ï¼Œé»˜è®¤æ˜¯ç¬¬ä¸€ä¸ªç­‰å¾…çš„çº¿ç¨‹</span>c<span class="token punctuation">.</span>nofity_all<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># é€šçŸ¥æ‰€æœ‰æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹ï¼Œnotifyå’Œnofify_allä¸ä¼šé‡Šæ”¾é”ï¼Œå¹¶ä¸”éœ€è¦åœ¨releaseï¼ˆï¼‰ä¹‹å‰è°ƒç”¨</span></code></pre></details><p><a id="Condition examp"><font color="black"></font></a></p><h4><a id="Condition examp"><font color="black">Conditionç±»å®ä¾‹</font></a></h4><p></p><ul><li><a id="Condition0">Conditionç¤ºä¾‹</a></li></ul><p>Conditionå®ç°ç”Ÿäº§å’Œæ¶ˆè´¹å¤šå¯¹å¤šæ¨¡å‹</p><p>åˆ›å»ºä¸¤ä¸ªç±»ï¼šProducerå’ŒConsumerã€‚Producerç”¨äºèµšé’±ï¼Œè§„å®šæ¯ä¸ªçº¿ç¨‹åªéœ€è¦å·¥ä½œ10æ¬¡å³å¯ï¼›Consumerç”¨äºæ¶ˆè´¹ã€‚</p><p>Consumeræ¯æ¬¡èŠ±é’±çš„æ—¶å€™ä¼šçœ‹ä¸€ä¸‹é‡‘åº“çš„æ€»é¢å¤Ÿä¸å¤Ÿï¼Œå¦‚æœä¸å¤Ÿå°±ä¼šè°ƒç”¨<code>gCondition.wait()</code>å°†çº¿ç¨‹å¤„äºç­‰å¾….å½“Producerèµšé’±äº†ï¼Œå°±ä¼šè°ƒç”¨<code>gCondition.notify_all()</code>ï¼Œæé†’çœŸæ­£ç­‰å¾…çš„çº¿ç¨‹ï¼Œå½“çº¿ç¨‹è¢«å”¤é†’ä¹‹åä¼šç»§ç»­ç­‰å¾…ä¸Šé”ï¼Œä¸Šé”åç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚</p><pre class="language-python" data-language="python"><div class="caption"><span>{.line-numbers}</span></div><code class="language-python"><span class="token keyword">import</span> time<span class="token punctuation">,</span> random<span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread<span class="token punctuation">,</span> Lock<span class="token punctuation">,</span> RLock<span class="token punctuation">,</span> Condition<span class="token punctuation">,</span> current_threadg_money <span class="token operator">=</span> <span class="token number">1000</span>g_condition <span class="token operator">=</span> Condition<span class="token punctuation">(</span><span class="token punctuation">)</span>g_times <span class="token operator">=</span> <span class="token number">0</span>g_totaltimes <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">class</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">global</span> g_money        <span class="token keyword">global</span> g_times        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>            money <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>            g_condition<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># è·å¾—é”</span>            <span class="token keyword">if</span> g_times <span class="token operator">&gt;=</span> g_totaltimes<span class="token punctuation">:</span>                g_condition<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">break</span>            g_money <span class="token operator">+=</span> money            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"ç”Ÿäº§è€…</span><span class="token interpolation"><span class="token punctuation">{</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">ç”Ÿäº§äº†</span><span class="token interpolation"><span class="token punctuation">{</span>money<span class="token punctuation">}</span></span><span class="token string">å…ƒï¼Œä½™é¢ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>g_money<span class="token punctuation">}</span></span><span class="token string">å…ƒ"</span></span><span class="token punctuation">)</span>            g_times <span class="token operator">+=</span> <span class="token number">1</span>            g_condition<span class="token punctuation">.</span>notify_all<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># é€šçŸ¥æ‰€æœ‰æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹</span>            g_condition<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># é‡Šæ”¾é”</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Consumer</span><span class="token punctuation">(</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">global</span> g_money        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>            price <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>            g_condition<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># è·å¾—é”</span>            <span class="token keyword">while</span> g_money <span class="token operator">&lt;</span> price<span class="token punctuation">:</span>                <span class="token keyword">if</span> g_times <span class="token operator">&gt;=</span> g_totaltimes<span class="token punctuation">:</span>                    g_condition<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token keyword">return</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"æ¶ˆè´¹è€…</span><span class="token interpolation"><span class="token punctuation">{</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">å‡†å¤‡æ¶ˆè´¹</span><span class="token interpolation"><span class="token punctuation">{</span>price<span class="token punctuation">}</span></span><span class="token string">ï¼Œä½™é¢ä¸è¶³ï¼ä½™é¢ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>g_money<span class="token punctuation">}</span></span><span class="token string">å…ƒ"</span></span><span class="token punctuation">)</span>                g_condition<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># é’±ä¸å¤Ÿäº†ï¼Œç­‰å¾…å¹¶é‡Šæ”¾é”</span>            g_money <span class="token operator">-=</span> price            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"æ¶ˆè´¹è€…</span><span class="token interpolation"><span class="token punctuation">{</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">æ¶ˆè´¹äº†</span><span class="token interpolation"><span class="token punctuation">{</span>price<span class="token punctuation">}</span></span><span class="token string">å…ƒï¼Œä½™é¢ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>g_money<span class="token punctuation">}</span></span><span class="token string">å…ƒ"</span></span><span class="token punctuation">)</span>            g_condition<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># å®Œæˆæ¶ˆè´¹ï¼Œé‡Šæ”¾é”</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># æ·»åŠ å¹¶å¼€å¯æ¶ˆè´¹çº¿ç¨‹</span>        t <span class="token operator">=</span> Consumer<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"consumer</span><span class="token interpolation"><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>        t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># æ·»åŠ å¹¶å¼€å¯ç”Ÿäº§çº¿ç¨‹</span>        t <span class="token operator">=</span> Producer<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"producer</span><span class="token interpolation"><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>        t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ <code>g_condition.acquire()</code> <code>g_condition.wait()</code> è·å¾—é”å¹¶ç­‰å¾…ï¼Œå…¶å­çº¿ç¨‹ä¸ä¼šç­‰å¾…ï¼Œè€Œæ˜¯ç»§ç»­è¿è¡Œã€‚</p><hr><h3 id="threading-Semaphore-ç±»"><a href="#threading-Semaphore-ç±»" class="headerlink" title="threading.Semaphore ç±»"></a><code>threading.Semaphore</code> ç±»</h3><hr><h3 id="threading-Event-ç±»"><a href="#threading-Event-ç±»" class="headerlink" title="threading.Event ç±»"></a><code>threading.Event</code> ç±»</h3><hr><h3 id="threading-Timer-ç±»"><a href="#threading-Timer-ç±»" class="headerlink" title="threading.Timer ç±»"></a><code>threading.Timer</code> ç±»</h3><hr><h3 id="threading-Barrier-ç±»"><a href="#threading-Barrier-ç±»" class="headerlink" title="threading.Barrier ç±»"></a><code>threading.Barrier</code> ç±»</h3><hr><h3 id="threading-loacl-ç±»"><a href="#threading-loacl-ç±»" class="headerlink" title="threading.loacl ç±»"></a><code>threading.loacl</code> ç±»</h3><ul><li>outline<ul><li><strong><a href="#local intro">localç±»ä»‹ç»</a></strong></li><li><strong><a href="#local examp">localç±»å®ä¾‹</a></strong><ul><li><strong><a href="#local0">localç¤ºä¾‹</a></strong></li></ul></li></ul></li></ul><p><a id="local intro"><font color="black"></font></a></p><h4><a id="local intro"><font color="black">localç±»ä»‹ç»</font></a></h4><p></p><ul><li><strong><code>ThreadLocal</code>çš„ç”±æ¥</strong></li></ul><p>åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œä½¿ç”¨å±€éƒ¨å˜é‡æ¯”ä½¿ç”¨å…¨å±€å˜é‡è¦å¥½ï¼Œå› æ­¤æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æ•°æ®ï¼Œé‚£ä¹ˆå¦‚æœæƒ³è¦åˆ†äº«çº¿ç¨‹çš„æ•°æ®ï¼Œå°±å¾—ä¼ å‚ï¼Œä½†æ˜¯åœ¨è°ƒç”¨å‡½æ•°ä¼ å‚çš„æ—¶å€™ä¼šæœ‰ç‚¹éº»çƒ¦ï¼Œå› æ­¤å°±å‡ºç°äº†<code>ThreadLocal</code>ã€‚</p><ul><li><strong><code>ThreadLocal</code>çš„ç†è§£</strong></li></ul><p><code>ThreadLocal</code>ï¼ˆçº¿ç¨‹æœ¬åœ°å˜é‡ï¼Œæˆ–è€…çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼‰åœ¨æ¯ä¸€ä¸ªå˜é‡ä¸­éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥è®¿é—®è‡ªå·±å†…éƒ¨çš„å‰¯æœ¬å˜é‡ã€‚é€šä¿—ç‚¹è¯´ï¼Œ<code>ThreadLocal</code>å°±åƒä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„<font color="orange">é”®å€¼å¯¹</font>å°±åƒ<font color="orange">çº¿ç¨‹çš„å˜é‡åŠå…¶æ•°æ®ã€‚</font><font color="lightgrey">æ‰€ä»¥æŒ‰ç†æ¥è¯´ï¼Œåªè¦ä½ æƒ³ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨å­—å…¸æ¥ä¿å­˜çº¿ç¨‹çš„æ•°æ®ï¼Œåªæ˜¯<code>ThreadLocal</code>æ›´å¥½æ›´æœ‰ä¼˜åŠ¿ã€‚</font></p><ul><li><strong><code>ThreadLocal</code>çš„ä½¿ç”¨</strong></li></ul><p><code>ThreadLocal</code>æ˜¯ä¸€ä¸ª<font color="orange">å…¨å±€å˜é‡</font>ï¼Œä½†æ¯ä¸ªçº¿ç¨‹éƒ½<font color="orange">åªèƒ½è¯»å†™è‡ªå·±çº¿ç¨‹çš„ç‹¬ç«‹å‰¯æœ¬ï¼Œäº’ä¸å¹²æ‰°</font>ã€‚<code>ThreadLocal</code>è§£å†³äº†å‚æ•°åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å„ä¸ªå‡½æ•°ä¹‹é—´äº’ç›¸ä¼ é€’çš„é—®é¢˜ï¼ŒçœŸæ­£åšåˆ°äº†çº¿ç¨‹ä¹‹é—´çš„æ•°æ®éš”ç¦»ã€‚</p><img src="/2022/03/09/python-xian-cheng/pythonçº¿ç¨‹-ThreadLocal.png" height="600"><details><summary>localç±»å¯¹è±¡æ–¹æ³•</summary><pre class="language-python" data-language="python"><code class="language-python">tl <span class="token operator">=</span> local<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># å®ä¾‹åŒ–ThreadLocalå¯¹è±¡</span>tl<span class="token punctuation">.</span>xxx <span class="token operator">=</span> dat  <span class="token comment"># åŠ¨æ€ç»‘å®š</span></code></pre></details><p><a id="local examp"><font color="black"></font></a></p><h4><a id="local examp"><font color="black">localç±»å®ä¾‹</font></a></h4><p></p><ul><li><a id="local0">localç¤ºä¾‹</a></li></ul><p>æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥é€šè¿‡<code>local_school.student</code>è·å–è‡ªå·±ç‹¬æœ‰çš„æ•°æ®ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹è¯»å–åˆ°çš„<code>local_school.student</code>éƒ½ä¸åŒï¼ŒçœŸæ­£åšåˆ°çº¿ç¨‹ä¹‹é—´çš„éš”ç¦»ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> threadinglocal_school <span class="token operator">=</span> threading<span class="token punctuation">.</span>local<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºå…¨å±€ThreadLocalå¯¹è±¡</span><span class="token keyword">def</span> <span class="token function">process_student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># è·å–å½“å‰çº¿ç¨‹å…³è”çš„student</span>    std <span class="token operator">=</span> local_school<span class="token punctuation">.</span>student    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, %s (in %s)'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>std<span class="token punctuation">,</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">process_thread</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># ç»‘å®šThreadLocalçš„student</span>    local_school<span class="token punctuation">.</span>student <span class="token operator">=</span> name    process_student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    t1 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>process_thread<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'Thread-A'</span><span class="token punctuation">)</span>    t2 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>process_thread<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'Thread-B'</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    t1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    t2<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><hr><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><table><thead><tr><th align="center">é“¾æ¥</th><th align="center">æ ‡ç­¾</th><th align="center">è¯´æ˜</th><th align="center">ç½‘ç«™</th></tr></thead><tbody><tr><td align="center"><a href="https://www.cnblogs.com/guyuyun/p/11185832.html">Pythonå†…ç½®åº“ï¼šthreadingï¼ˆå¤šçº¿ç¨‹ï¼‰</a></td><td align="center"><code>threading</code></td><td align="center">å†…å®¹å¾ˆå¤šå¾ˆå…¨ã€è®²åŸç†ã€è§£é‡Šå‚æ•°ã€å®ä¾‹å¤šã€é€šä¿—</td><td align="center">åšå®¢å›­</td></tr><tr><td align="center"><a href="https://blog.csdn.net/briblue/category_8520204.html">Python åŸºæœ¬åŠŸ-çº¿ç¨‹</a></td><td align="center"><code>threading</code></td><td align="center">è¿™ä¸ªä¸“æ ç³»åˆ—å†…å®¹å¾ˆå¤šå¾ˆå…¨ã€è®²åŸç†ã€è§£é‡Šå‚æ•°ã€å®ä¾‹å¤šã€é€šä¿—</td><td align="center">CSDN</td></tr><tr><td align="center"><a href="https://blog.csdn.net/qq_41922768/category_7767239.html">pythonåŸºç¡€-çº¿ç¨‹</a></td><td align="center"><code>threading</code></td><td align="center">è¿™ä¸ªä¸“æ ç³»åˆ—å†…å®¹å¾ˆå¤šå¾ˆå…¨ã€è®²åŸç†ã€è§£é‡Šå‚æ•°ã€å®ä¾‹å¤š</td><td align="center">CSDN</td></tr><tr><td align="center"><a href="https://zhuanlan.zhihu.com/p/91601448">Python threadingå®ç°å¤šçº¿ç¨‹ åŸºç¡€ç¯‡</a></td><td align="center"></td><td align="center"></td><td align="center">çŸ¥ä¹</td></tr><tr><td align="center"><a href="https://zhuanlan.zhihu.com/p/94344847">Python threadingå®ç°å¤šçº¿ç¨‹ æé«˜ç¯‡ çº¿ç¨‹åŒæ­¥ï¼Œä»¥åŠå„ç§é”</a></td><td align="center"><code>Lock</code> <code>RLock</code> <code>Semaphore</code> <code>Condition</code> <code>Event</code> <code>Barrie</code> <code>queue</code></td><td align="center"></td><td align="center">çŸ¥ä¹</td></tr><tr><td align="center"><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017629247922688">å¤šçº¿ç¨‹</a></td><td align="center"></td><td align="center"></td><td align="center">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</td></tr><tr><td align="center"><a href="https://blog.csdn.net/l835311324/article/details/86608850">threadingæ¨¡å—åŸºæœ¬ä½¿ç”¨</a></td><td align="center"><code>Thread</code> <code>LOCK</code> <code>Condition</code></td><td align="center">æ¨¡å—å¯¹è±¡æ–¹æ³•è¾ƒå…¨</td><td align="center">CSDN</td></tr><tr><td align="center"><a href="https://docs.python.org/zh-cn/3.8/library/threading.html">threading â€” åŸºäºçº¿ç¨‹çš„å¹¶è¡Œ</a></td><td align="center"><code>threading</code></td><td align="center">æ•™ç¨‹</td><td align="center">pythonå®˜ç½‘</td></tr></tbody></table><p>é”ï¼š</p><table><thead><tr><th align="center">é“¾æ¥</th><th align="center">æ ‡ç­¾</th><th align="center">è¯´æ˜</th><th align="center">ç½‘ç«™</th></tr></thead><tbody><tr><td align="center"><a href="https://cloud.tencent.com/developer/article/1419992">ä¸€ç¯‡æ–‡ç« ç†æ¸…Pythonå¤šçº¿ç¨‹åŒæ­¥é”ï¼Œæ­»é”å’Œé€’å½’é”</a></td><td align="center"><code>Lock</code> <code>RLock</code></td><td align="center">è¯¦ç»†è®²äº†<code>RLock</code>è§£å†³æ­»é”çš„é—®é¢˜</td><td align="center">CSDN</td></tr></tbody></table><p>ThreadLocalï¼š</p><table><thead><tr><th align="center">é“¾æ¥</th><th align="center">æ ‡ç­¾</th><th align="center">è¯´æ˜</th><th align="center">ç½‘ç«™</th></tr></thead><tbody><tr><td align="center"><a href="https://www.cnblogs.com/linpd/p/10051945.html">Pythonä¸­ThreadLocalçš„ç†è§£ä¸ä½¿ç”¨</a></td><td align="center"><code>ThreadLocal</code></td><td align="center"></td><td align="center">åšå®¢å›­</td></tr><tr><td align="center"><a href="https://www.jianshu.com/p/74640d22a72f">æ·±å…¥ç†è§£Pythonä¸­çš„ThreadLocalå˜é‡ï¼ˆä¸Šï¼‰</a></td><td align="center"><code>ThreadLocal</code></td><td align="center"></td><td align="center">ç®€ä¹¦</td></tr><tr><td align="center"><a href="https://www.jianshu.com/p/474ecc81d756">æ·±å…¥ç†è§£Pythonä¸­çš„ThreadLocalå˜é‡ï¼ˆä¸­ï¼‰</a></td><td align="center"><code>ThreadLocal</code></td><td align="center"></td><td align="center">ç®€ä¹¦</td></tr><tr><td align="center"><a href="https://www.jianshu.com/p/0e12c1397bfd">æ·±å…¥ç†è§£Pythonä¸­çš„ThreadLocalå˜é‡ï¼ˆä¸‹ï¼‰</a></td><td align="center"><code>ThreadLocal</code></td><td align="center"></td><td align="center">ç®€ä¹¦</td></tr><tr><td align="center"><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017630786314240">ThreadLocal</a></td><td align="center"><code>ThreadLocal</code></td><td align="center"></td><td align="center">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</td></tr></tbody></table><h2 id="å¾…å®Œæˆ"><a href="#å¾…å®Œæˆ" class="headerlink" title="å¾…å®Œæˆ"></a>å¾…å®Œæˆ</h2><ul><li><input checked disabled type="checkbox"> é€šè¿‡withè¯­å¥ä½¿ç”¨çº¿ç¨‹é”</li><li><input disabled type="checkbox"> Lockå–ç¥¨é—®é¢˜</li><li><input disabled type="checkbox"> ä¿¡å·é‡å¯¹è±¡ï¼šthreading.Semaphore</li><li><input disabled type="checkbox"> äº‹ä»¶å¯¹è±¡ï¼šthreading.Event</li><li><input disabled type="checkbox"> å®šæ—¶å™¨å¯¹è±¡ï¼šthreading.Timer</li><li><input disabled type="checkbox"> æ …æ å¯¹è±¡ï¼šthreading.Barrier</li></ul><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> çº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonè¿›ç¨‹</title>
      <link href="/2022/03/09/python-jin-cheng/"/>
      <url>/2022/03/09/python-jin-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="pythonè¿›ç¨‹"><a href="#pythonè¿›ç¨‹" class="headerlink" title="pythonè¿›ç¨‹"></a>pythonè¿›ç¨‹</h1><p><font color="orange">For Windows</font></p><p>[toc]</p><h2 id="è¿›ç¨‹çš„æ¦‚å¿µ"><a href="#è¿›ç¨‹çš„æ¦‚å¿µ" class="headerlink" title="è¿›ç¨‹çš„æ¦‚å¿µ"></a>è¿›ç¨‹çš„æ¦‚å¿µ</h2><ul><li>outline<ul><li><a href="#def">è¿›ç¨‹çš„å®šä¹‰</a></li><li><a href="#char">è¿›ç¨‹çš„ç‰¹å¾</a></li><li><a href="#disp">è¿›ç¨‹è°ƒåº¦</a></li><li><a href="#parl">è¿›ç¨‹çš„å¹¶è¡Œä¸å¹¶å‘</a></li><li><a href="#state">è¿›ç¨‹çš„çŠ¶æ€</a></li><li><a href="#lib">pythonä¸­çš„è¿›ç¨‹åº“</a></li></ul></li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="def"><font color="lightblue">è¿›ç¨‹çš„å®šä¹‰</font></a><ul><li>ç‹­ä¹‰å®šä¹‰<br>è¿›ç¨‹æ˜¯æ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„å®ä¾‹(an instance of a computer program that is being executed)ã€‚</li><li>å¹¿ä¹‰å®šä¹‰<br>è¿›ç¨‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ã€‚å®ƒæ˜¯æ“ä½œç³»ç»ŸåŠ¨æ€æ‰§è¡Œçš„åŸºæœ¬å•å…ƒï¼Œåœ¨ä¼ ç»Ÿçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹æ—¢æ˜¯åŸºæœ¬çš„åˆ†é…å•å…ƒï¼Œä¹Ÿæ˜¯åŸºæœ¬çš„æ‰§è¡Œå•å…ƒã€‚</li></ul></li></ul><p>ç®€å•æ¥è¯´ï¼Œè¿›ç¨‹å°±æ˜¯ç¨‹åºçš„åŸºæœ¬æ‰§è¡Œå®ä½“ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="char"><font color="lightblue">è¿›ç¨‹çš„ç‰¹å¾</font></a><ul><li>åŠ¨æ€æ€§ï¼šè¿›ç¨‹çš„å®è´¨æ˜¯ç¨‹åºåœ¨å¤šé“ç¨‹åºç³»ç»Ÿä¸­çš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œè¿›æ˜¯åŠ¨æ€äº§ç”Ÿï¼ŒåŠ¨æ€æ¶ˆäº¡çš„ã€‚</li><li>å¹¶å‘æ€§ï¼šä»»ä½•è¿›ç¨‹éƒ½å¯ä»¥åŒå…¶ä»–è¿›ç¨‹ä¸€èµ·å¹¶å‘æ‰§è¡Œ</li><li>ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯ä¸€ä¸ªèƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç³»ç»Ÿåˆ†é…èµ„å’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ï¼›</li><li>å¼‚æ­¥æ€§ï¼šç”±äºè¿›ç¨‹é—´çš„ç›¸äº’åˆ¶çº¦ï¼Œä½¿è¿›ç¨‹å…·æœ‰æ‰§è¡Œçš„é—´æ–­æ€§ï¼Œå³è¿›æŒ‰å„è‡ªç‹¬ç«‹çš„ã€ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›</li><li>ç»“æ„ç‰¹å¾ï¼šè¿›ç¨‹ç”±ç¨‹åºã€æ•°æ®å’Œè¿›ç¨‹æ§åˆ¶å—ä¸‰éƒ¨åˆ†ç»„æˆã€‚</li><li>å¤šä¸ªä¸åŒçš„è¿›ç¨‹å¯ä»¥åŒ…å«ç›¸åŒçš„ç¨‹åºï¼šä¸€ä¸ªç¨‹åºåœ¨ä¸åŒçš„æ•°æ®é›†é‡Œå°±æ„æˆä¸åŒçš„è¿›ç¨‹ï¼Œèƒ½å¾—åˆ°ä¸åŒçš„ç»“æœï¼›ä½†æ˜¯æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç¨‹åºä¸èƒ½å‘ç”Ÿæ”¹å˜ã€‚</li></ul></li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="disp"><font color="lightblue">è¿›ç¨‹è°ƒåº¦</font></a><ul><li>å…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ç®—æ³•ï¼šåˆ©äºé•¿ä½œä¸šï¼ˆè¿›ç¨‹ï¼‰ï¼Œè€Œä¸åˆ©äºçŸ­ä½œä¸šï¼ˆè¿›ç¨‹ï¼‰</li><li>çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦ç®—æ³•ï¼šå¯¹çŸ­ä½œä¸šæˆ–çŸ­è¿›ç¨‹ä¼˜å…ˆè°ƒåº¦</li><li>æ—¶é—´ç‰‡è½®è½¬æ³•ï¼šè®©æ¯ä¸ªè¿›ç¨‹åœ¨å°±ç»ªé˜Ÿåˆ—ä¸­çš„ç­‰å¾…æ—¶é—´ä¸äº«å—æœåŠ¡çš„æ—¶é—´æˆæ¯”ä¾‹</li><li>å¤šçº§åé¦ˆé˜Ÿåˆ—ï¼šç›®å‰è¢«å…¬è®¤çš„ä¸€ç§è¾ƒå¥½çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•</li></ul></li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="parl"><font color="lightblue">è¿›ç¨‹çš„å¹¶è¡Œä¸å¹¶å‘</font></a><ul><li>å¹¶è¡Œï¼šå¤šä¸ªè¿›ç¨‹åŒæ—¶æ‰§è¡Œ</li><li>å¹¶å‘ï¼šå¤šä¸ªè¿›ç¨‹äº¤æ›¿è¿›è¡Œ</li></ul></li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><p><a id="state"><font color="lightblue">è¿›ç¨‹çš„çŠ¶æ€</font></a>ï¼šåˆ›å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡ã€é€€å‡º</p></li><li><p>åŒæ­¥ä¸å¼‚æ­¥</p><ul><li>åŒæ­¥ï¼šå¯é çš„ä»»åŠ¡åºåˆ—ï¼Œè¿›ç¨‹1ä¾èµ–äºè¿›ç¨‹2ï¼Œåªæœ‰è¿›ç¨‹2å®Œæˆåï¼Œè¿›ç¨‹1æ‰ç®—å®Œæˆï¼Œå³è¿™ä¸¤ä¸ªè¿›ç¨‹çŠ¶æ€ä¿æŒä¸€è‡´ã€‚</li><li>å¼‚æ­¥ï¼šä¸å¯é çš„ä»»åŠ¡åºåˆ—ï¼Œè¿›ç¨‹1ä¾èµ–äºè¿›ç¨‹2ï¼Œä¸ç®¡è¿›ç¨‹2æ˜¯å¦å®Œæˆï¼Œè¿›ç¨‹1è‡ªå·±å®Œæˆå°±ç®—å®Œæˆï¼Œå³è¿™ä¸¤ä¸ªè¿›ç¨‹çŠ¶æ€ä¸ä¸€å®šä¿æŒä¸€è‡´ã€‚</li></ul></li><li><p>é˜»å¡ä¸éé˜»å¡ï¼šå³ç¨‹åºç­‰å¾…æ¶ˆæ¯çš„çŠ¶æ€ã€‚</p></li><li><p>åŒæ­¥/å¼‚æ­¥ä¸é˜»å¡/éé˜»å¡</p><ul><li>åŒæ­¥é˜»å¡ï¼šæ•ˆç‡æœ€ä½(åªæ’é˜Ÿ)</li><li>å¼‚æ­¥é˜»å¡ï¼šæ•ˆç‡è¾ƒä½(åªå«å·)</li><li>åŒæ­¥éé˜»å¡ï¼šæ•ˆç‡è¾ƒä½(æ’é˜Ÿ+æ‰“ç”µè¯)</li><li>å¼‚æ­¥éé˜»å¡ï¼šæ•ˆç‡é«˜(å«å·+æ‰“ç”µè¯)</li></ul></li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><p><a id="lib"><font color="lightblue">pythonä¸­çš„è¿›ç¨‹åº“</font></a></p><ul><li><code>subprocess</code>ï¼šé€‚ç”¨äºä¸å¤–éƒ¨è¿›ç¨‹äº¤äº’ï¼Œè°ƒç”¨å¤–éƒ¨è¿›ç¨‹</li></ul><p><code>subprocess</code>ç”¨æ¥æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ï¼Œæ˜¯<code>os.fork()</code>å’Œ<code>os.execve()</code>çš„å°è£…ï¼Œå³å…ˆforkä¸€ä¸ªå­è¿›ç¨‹ï¼Œå†è¿è¡Œæ–°çš„å¤–éƒ¨ç¨‹åºï¼Œ<font color="orange">å­è¿›ç¨‹ä¸ä¼šæŠŠçˆ¶è¿›ç¨‹çš„æ¨¡å—åŠ è½½ä¸€é</font>ã€‚</p><ul><li><code>multiprocessing</code></li></ul><p><code>multiprocessing</code>çš„åŸç†æ˜¯forkï¼Œ<code>fork()</code>è°ƒç”¨ï¼šè°ƒç”¨1æ¬¡ï¼Œè¿”å›ä¸¤æ¬¡â€”â€”æ“ä½œç³»ç»Ÿè‡ªåŠ¨æŠŠå½“å‰è¿›ç¨‹ï¼ˆçˆ¶è¿›ç¨‹ï¼‰å¤åˆ¶äº†ä¸€ä»½ï¼ˆå­è¿›ç¨‹ï¼‰ï¼Œç„¶åï¼Œåˆ†åˆ«åœ¨çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹å†…è¿”å›ï¼Œçˆ¶è¿›ç¨‹è¿”å›å­è¿›ç¨‹çš„pidï¼Œå­è¿›ç¨‹è¿”å›0ï¼Œå³çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹éƒ½åœ¨è¿è¡Œã€‚å¯¹äºå¤–éƒ¨è°ƒç”¨æ¥è¯´ï¼Œä½¿ç”¨multiprocessingå¤ªå èµ„æºã€‚</p></li></ul><hr><h2 id="è¿›ç¨‹çš„åŸºæœ¬æ“ä½œ"><a href="#è¿›ç¨‹çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="è¿›ç¨‹çš„åŸºæœ¬æ“ä½œ"></a>è¿›ç¨‹çš„åŸºæœ¬æ“ä½œ</h2><h3 id="multiprocessing-Process-ç±»"><a href="#multiprocessing-Process-ç±»" class="headerlink" title="multiprocessing.Process ç±»"></a><code>multiprocessing.Process</code> ç±»</h3><ul><li>outline<ul><li><strong><a href="#Process intro">Processç±»ä»‹ç»</a></strong></li><li><strong><a href="#Process examp">Processç±»å®ä¾‹</a></strong><ul><li><strong><a href="#Process0">ä½¿ç”¨Processå¼€å¯ä¸€ä¸ªå­è¿›ç¨‹</a></strong></li><li><strong><a href="#Process1">ç»§æ‰¿Processå¼€å¯ä¸€ä¸ªå­è¿›ç¨‹</a></strong></li><li><strong><a href="#Process2">ä½¿ç”¨Processå®ˆæŠ¤è¿›ç¨‹</a></strong></li><li><strong><a href="#Process3">å¤šè¿›ç¨‹socketèŠå¤©å¹¶å‘</a></strong></li></ul></li></ul></li></ul><p><a id="Process intro"><font color="black"></font></a></p><h4><a id="Process intro"><font color="black">Processç±»ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Process</span><span class="token punctuation">{</span>    group<span class="token punctuation">,</span>   <span class="token comment"># å‚æ•°æœªä½¿ç”¨ï¼Œå€¼å§‹ç»ˆä¸ºNone</span>    target<span class="token punctuation">,</span>  <span class="token comment"># è°ƒç”¨å¯¹è±¡ï¼Œå³å­è¿›ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡</span>    args<span class="token punctuation">,</span>    <span class="token comment"># è°ƒç”¨å¯¹è±¡çš„ä½ç½®å‚æ•°å…ƒç»„</span>    kwargs<span class="token punctuation">,</span>  <span class="token comment"># è°ƒç”¨å¯¹è±¡çš„å­—å…¸</span>    name<span class="token punctuation">,</span>    <span class="token comment"># å­è¿›ç¨‹çš„åç§°</span><span class="token punctuation">}</span></code></pre><details><summary>Processç±»æ–¹æ³•ã€å±æ€§(ç•¥)</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo æ–¹æ³•</span>p <span class="token operator">=</span> Process<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># åˆ›å»ºå­è¿›ç¨‹</span>p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å¯åŠ¨å­è¿›ç¨‹ï¼Œå¹¶è°ƒç”¨è¯¥å­è¿›ç¨‹ä¸­çš„ p.run() </span>p<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment"># è¿›ç¨‹å¯åŠ¨æ—¶è¿è¡Œçš„æ–¹æ³•</span>p<span class="token punctuation">.</span>terminate<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹</span>p<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># å¦‚æœpä»ç„¶è¿è¡Œï¼Œè¿”å›True</span>p<span class="token punctuation">.</span>join<span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>  <span class="token comment"># ä¸»çº¿ç¨‹ç­‰å¾…pç»ˆæ­¢ï¼Œtimeoutæ˜¯å¯é€‰çš„è¶…æ—¶æ—¶é—´</span><span class="token comment"># todo å±æ€§</span>p<span class="token punctuation">.</span>daemon    <span class="token comment"># é»˜è®¤å€¼ä¸ºFalse</span>p<span class="token punctuation">.</span>name      <span class="token comment"># è¿›ç¨‹çš„åç§°</span>p<span class="token punctuation">.</span>pid       <span class="token comment"># è¿›ç¨‹çš„pid</span>p<span class="token punctuation">.</span>exitcode  <span class="token comment"># è¿›ç¨‹åœ¨è¿è¡Œæ—¶ä¸ºNoneã€å¦‚æœä¸ºâ€“Nï¼Œè¡¨ç¤ºè¢«ä¿¡å·Nç»“æŸ(äº†è§£å³å¯)</span>p<span class="token punctuation">.</span>authkey   <span class="token comment"># è¿›ç¨‹çš„èº«ä»½éªŒè¯é”®ï¼Œé»˜è®¤æ˜¯ç”±os.urandom()éšæœºç”Ÿæˆçš„32å­—ç¬¦çš„å­—ç¬¦ä¸²</span></code></pre></details><details><summary>Processç±»æ–¹æ³•ã€å±æ€§(è¯¦)</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo å‚æ•°</span><span class="token keyword">class</span> <span class="token class-name">Process</span><span class="token punctuation">{</span>    group<span class="token punctuation">,</span>   <span class="token comment"># å‚æ•°æœªä½¿ç”¨ï¼Œå€¼å§‹ç»ˆä¸ºNone</span>    target<span class="token punctuation">,</span>  <span class="token comment"># è°ƒç”¨å¯¹è±¡ï¼Œå³å­è¿›ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡</span>    args<span class="token punctuation">,</span>    <span class="token comment"># è°ƒç”¨å¯¹è±¡çš„ä½ç½®å‚æ•°å…ƒç»„</span>    kwargs<span class="token punctuation">,</span>  <span class="token comment"># è°ƒç”¨å¯¹è±¡çš„å­—å…¸</span>    name<span class="token punctuation">,</span>    <span class="token comment"># å­è¿›ç¨‹çš„åç§°</span><span class="token punctuation">}</span><span class="token comment"># todo æ–¹æ³•</span>p <span class="token operator">=</span> Process<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># åˆ›å»ºå­è¿›ç¨‹</span>p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å¯åŠ¨å­è¿›ç¨‹ï¼Œå¹¶è°ƒç”¨è¯¥å­è¿›ç¨‹ä¸­çš„ p.run() </span>p<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment"># è¿›ç¨‹å¯åŠ¨æ—¶è¿è¡Œçš„æ–¹æ³•</span>    <span class="token triple-quoted-string string">"""    è°ƒç”¨targetæŒ‡å®šçš„å‡½æ•°ï¼Œè‡ªå®šä¹‰ç±»çš„ç±»ä¸­ä¸€å®šè¦å®ç°è¯¥æ–¹æ³•    """</span>p<span class="token punctuation">.</span>terminate<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹</span>    <span class="token triple-quoted-string string">"""    å¦‚æœpåˆ›å»ºäº†å­è¿›ç¨‹ï¼Œè¯¥å­è¿›ç¨‹å°±æˆäº†åƒµå°¸è¿›ç¨‹ï¼Œä½¿ç”¨è¯¥æ–¹æ³•éœ€è¦ç‰¹åˆ«å°å¿ƒè¿™ç§æƒ…å†µ    å¦‚æœpè¿˜ä¿å­˜äº†ä¸€ä¸ªé”é‚£ä¹ˆä¹Ÿå°†ä¸ä¼šè¢«é‡Šæ”¾ï¼Œè¿›è€Œå¯¼è‡´æ­»é”    """</span>p<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># å¦‚æœpä»ç„¶è¿è¡Œï¼Œè¿”å›True</span>p<span class="token punctuation">.</span>join<span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>  <span class="token comment"># ä¸»çº¿ç¨‹ç­‰å¾…pç»ˆæ­¢ï¼Œtimeoutæ˜¯å¯é€‰çš„è¶…æ—¶æ—¶é—´</span>    <span class="token triple-quoted-string string">"""    p.joinåªèƒ½joinä½startå¼€å¯çš„è¿›ç¨‹ï¼Œè€Œä¸èƒ½joinä½runå¼€å¯çš„è¿›ç¨‹    """</span><span class="token comment"># todo å±æ€§</span>p<span class="token punctuation">.</span>daemon  <span class="token comment"># é»˜è®¤å€¼ä¸ºFalse</span>    <span class="token triple-quoted-string string">"""    å¦‚æœè®¾ä¸ºTrueï¼Œä»£è¡¨pä¸ºåå°è¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå½“pçš„çˆ¶è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œpä¹Ÿéšä¹‹ç»ˆæ­¢    å¹¶ä¸”è®¾å®šä¸ºTrueåï¼ˆå¿…é¡»åœ¨p.start()ä¹‹å‰è®¾ç½®ï¼‰ï¼Œpä¸èƒ½åˆ›å»ºè‡ªå·±çš„æ–°è¿›ç¨‹    """</span>p<span class="token punctuation">.</span>name  <span class="token comment"># è¿›ç¨‹çš„åç§°</span>p<span class="token punctuation">.</span>pid  <span class="token comment"># è¿›ç¨‹çš„pid</span>p<span class="token punctuation">.</span>exitcode  <span class="token comment"># è¿›ç¨‹åœ¨è¿è¡Œæ—¶ä¸ºNoneã€å¦‚æœä¸ºâ€“Nï¼Œè¡¨ç¤ºè¢«ä¿¡å·Nç»“æŸ(äº†è§£å³å¯)</span>p<span class="token punctuation">.</span>authkey  <span class="token comment"># è¿›ç¨‹çš„èº«ä»½éªŒè¯é”®ï¼Œé»˜è®¤æ˜¯ç”±os.urandom()éšæœºç”Ÿæˆçš„32å­—ç¬¦çš„å­—ç¬¦ä¸²</span>    <span class="token triple-quoted-string string">"""    è¿™ä¸ªé”®çš„ç”¨é€”æ˜¯ä¸ºæ¶‰åŠç½‘ç»œè¿æ¥çš„åº•å±‚è¿›ç¨‹é—´é€šä¿¡æä¾›å®‰å…¨æ€§ï¼Œè¿™ç±»è¿æ¥åªæœ‰åœ¨å…·æœ‰ç›¸åŒçš„èº«ä»½éªŒè¯é”®æ—¶æ‰èƒ½æˆåŠŸï¼ˆäº†è§£å³å¯ï¼‰    """</span><span class="token comment"># todo æ³¨æ„äº‹é¡¹</span><span class="token triple-quoted-string string">"""åœ¨Windowsåˆ›å»ºå­è¿›ç¨‹çš„æ—¶å€™ä¼šè‡ªåŠ¨ import å¯åŠ¨å®ƒçš„è¿™ä¸ªæ–‡ä»¶ï¼Œè€Œåœ¨ import çš„æ—¶å€™åˆæ‰§è¡Œäº†æ•´ä¸ªæ–‡ä»¶ã€‚å› æ­¤å¦‚æœå°†process()ç›´æ¥å†™åœ¨æ–‡ä»¶ä¸­å°±ä¼šæ— é™é€’å½’åˆ›å»ºå­è¿›ç¨‹æŠ¥é”™ï¼Œæ‰€ä»¥å¿…é¡»æŠŠåˆ›å»ºå­è¿›ç¨‹çš„éƒ¨åˆ†ä½¿ç”¨if __name__ ==â€˜__main__â€™:    passåˆ¤æ–­ä¿æŠ¤èµ·æ¥ï¼Œimport çš„æ—¶å€™ï¼Œå°±ä¸ä¼šé€’å½’è¿è¡Œäº†ã€‚è€Œä¸”ä¸èƒ½åœ¨äº¤äº’å¼çš„ç¼–è¾‘å™¨ä¸‹é¢ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼šJupyter ç­‰ï¼"""</span></code></pre></details><blockquote><p>æ³¨ï¼š<br>1.å­è¿›ç¨‹çš„æ‰§è¡Œé¡ºåºä¸æ˜¯æ ¹æ®å¯åŠ¨é¡ºåºå†³å®šçš„<br>2.<code>p.terminate()</code>å¼ºåˆ¶å…³é—­è¿›ç¨‹ï¼Œä½†æ˜¯ä¸ä¼šç«‹å³å…³é—­ï¼Œå¯ä»¥é€šè¿‡<code>p.is_alive()</code>æŸ¥çœ‹æ˜¯å¦å­˜æ´»<br>3.å¯ä»¥é€šè¿‡<code>p.join()</code>è®©ä¸»è¿›ç¨‹ç­‰åˆ°å­è¿›ç¨‹çœŸæ­£ç»“æŸ<br>4.å…³é—­å­è¿›ç¨‹åº”å…ˆ <code>p.terminate()</code> å† <code>p.join()</code></p></blockquote><p><a id="Process examp"><font color="black"></font></a></p><h4><a id="Process examp"><font color="black">Processç±»å®ä¾‹</font></a></h4><p></p><ul><li><a id="Process0">ä½¿ç”¨Processå¼€å¯ä¸€ä¸ªå­è¿›ç¨‹</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token keyword">def</span> <span class="token function">sub_process</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"æ­£åœ¨è¿è¡Œå­è¿›ç¨‹......"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"å­è¿›ç¨‹PIDï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">ï¼Œçˆ¶è¿›ç¨‹PIDï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>getppid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"å­è¿›ç¨‹çš„å‚æ•°ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"æ­£åœ¨è¿è¡Œä¸»è¿›ç¨‹......"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"ä¸»è¿›ç¨‹PIDï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"å‡†å¤‡è¿è¡Œå­è¿›ç¨‹......"</span></span><span class="token punctuation">)</span>    p <span class="token operator">=</span> Process<span class="token punctuation">(</span>        target<span class="token operator">=</span>sub_process<span class="token punctuation">,</span>        args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"å¼€å§‹è¿è¡Œå­è¿›ç¨‹......"</span></span><span class="token punctuation">)</span>    p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"ä¸»è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹ç»“æŸ......"</span></span><span class="token punctuation">)</span>    p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"å­è¿›ç¨‹è¿è¡Œç»“æŸ......"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"ä¸»è¿›ç¨‹è¿è¡Œå³å°†ç»“æŸ......"</span></span><span class="token punctuation">)</span></code></pre><ul><li><a id="Process1">ç»§æ‰¿Processå¼€å¯ä¸€ä¸ªå­è¿›ç¨‹</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token keyword">class</span> <span class="token class-name">MyProcess</span><span class="token punctuation">(</span>Process<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""è‡ªå®šä¹‰ç±» ç»§æ‰¿Processç±»"""</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>arg1 <span class="token operator">=</span> arg1        self<span class="token punctuation">.</span>arg2 <span class="token operator">=</span> arg2    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""å¿…é¡»å®ç°ä¸€ä¸ªrunæ–¹æ³•ï¼Œrunæ–¹æ³•ä¸­æ˜¯åœ¨å­è¿›ç¨‹ä¸­æ‰§è¡Œçš„ä»£ç """</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"process name:</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">, PID:</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>pid<span class="token punctuation">}</span></span><span class="token string">,args:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>arg1<span class="token punctuation">,</span> self<span class="token punctuation">.</span>arg2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    p <span class="token operator">=</span> MyProcess<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>    p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li><a id="Process2">ä½¿ç”¨Processå®ˆæŠ¤è¿›ç¨‹</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token keyword">def</span> <span class="token function">daemon_process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> i_func    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        i_func <span class="token operator">+=</span> <span class="token number">1</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'å®ˆæŠ¤è¿›ç¨‹è¿˜æ´»ç€</span><span class="token interpolation"><span class="token punctuation">{</span>i_func<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">com_process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ™®é€šè¿›ç¨‹å¼€å§‹......'</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ™®é€šè¿›ç¨‹ç»“æŸ......'</span><span class="token punctuation">)</span>i_func <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    p_d <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>daemon_process<span class="token punctuation">)</span>    p_d<span class="token punctuation">.</span>daemon <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># è®¾ç½®å­è¿›ç¨‹ä¸ºå®ˆæŠ¤è¿›ç¨‹</span>    p_d<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    p_c <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>com_process<span class="token punctuation">)</span>  <span class="token comment"># æ™®é€šè¿›ç¨‹</span>    p_c<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"æ™®é€šè¿›ç¨‹ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>p_c<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">ï¼Œæ˜¯å¦æ´»ç€ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>p_c<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    p_c<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"æ™®é€šè¿›ç¨‹ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>p_c<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">ï¼Œæ˜¯å¦æ´»ç€ï¼š</span><span class="token interpolation"><span class="token punctuation">{</span>p_c<span class="token punctuation">.</span>is_alive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å‡†å¤‡ä¼‘çœ ......"</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä¼‘çœ ç»“æŸ......"</span><span class="token punctuation">)</span></code></pre><ul><li><a id="Process3">å¤šè¿›ç¨‹socketèŠå¤©å¹¶å‘</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> socket<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token comment"># server</span><span class="token comment"># client</span></code></pre><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># ä½¿ç”¨å¤šè¿›ç¨‹å®ç°socketèŠå¤©å¹¶å‘-server</span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Processserver <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span>SOCK_STREAM<span class="token punctuation">)</span>server<span class="token punctuation">.</span>setsockopt<span class="token punctuation">(</span>SOL_SOCKET<span class="token punctuation">,</span>SO_REUSEADDR<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>server<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">)</span>server<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">talk</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>client_addr<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            msg<span class="token operator">=</span>conn<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> msg<span class="token punctuation">:</span><span class="token keyword">break</span>            conn<span class="token punctuation">.</span>send<span class="token punctuation">(</span>msg<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">except</span> Exception<span class="token punctuation">:</span>            <span class="token keyword">break</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span> <span class="token comment">#windowsä¸‹startè¿›ç¨‹ä¸€å®šè¦å†™åˆ°è¿™ä¸‹é¢</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        conn<span class="token punctuation">,</span>client_addr<span class="token operator">=</span>server<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>        p <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>talk<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span>client_addr<span class="token punctuation">)</span><span class="token punctuation">)</span>        p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#clientç«¯</span><span class="token keyword">from</span> socket <span class="token keyword">import</span> <span class="token operator">*</span>client <span class="token operator">=</span> socket<span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span>SOCK_STREAM<span class="token punctuation">)</span>client<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    msg <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'&gt;&gt;: '</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> msg<span class="token punctuation">:</span><span class="token keyword">continue</span>     client<span class="token punctuation">.</span>send<span class="token punctuation">(</span>msg<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    msg <span class="token operator">=</span> client<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><hr><h2 id="å­è¿›ç¨‹"><a href="#å­è¿›ç¨‹" class="headerlink" title="å­è¿›ç¨‹"></a>å­è¿›ç¨‹</h2><p><font color="red" size="6">ç„¯ï¼å¤ªTMéš¾å†™äº†ï¼Œä¸å†™äº†ï¼Œè‡ªå·±çœ‹åšå®¢å§.<br>è¿™ä¹ˆå¤šåšå®¢ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ã€‚</font><font size="10"><span class="github-emoji"><span>ğŸ˜…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f605.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></font></p><p><a href="https://www.runoob.com/w3cnote/python3-subprocess.html">subprocess-èœé¸Ÿæ•™ç¨‹</a></p><p><a href="https://docs.python.org/3/library/subprocess.html">subprocess-å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://www.cnblogs.com/songhaixing/p/14275042.html">subprocess-ç›¸å…³åšå®¢-åšå®¢å›­1</a></p><p><a href="https://www.cnblogs.com/-qing-/p/10934322.html">subprocess-ç›¸å…³åšå®¢-åšå®¢å›­2</a></p><p><a href="https://www.jb51.net/article/133941.htm">subprocess-ç›¸å…³åšå®¢-è„šæœ¬ä¹‹å®¶</a></p><p><a href="https://blog.csdn.net/weixin_39059031/article/details/108440342">subprocess-ç›¸å…³åšå®¢-CSDN</a></p><p><a href="https://www.jianshu.com/p/430c411160f8">subprocess-ç›¸å…³åšå®¢-ç®€ä¹¦</a></p><h3 id="subprocess-æ¨¡å—"><a href="#subprocess-æ¨¡å—" class="headerlink" title="subprocess æ¨¡å—"></a><code>subprocess</code> æ¨¡å—</h3><p><code>subprocess</code>æ¨¡å—ï¼Œç”¨æ¥åˆ›å»ºå’Œç®¡ç†å­è¿›ç¨‹ï¼Œå¹¶èƒ½å¤Ÿä¸åˆ›å»ºçš„å­è¿›ç¨‹çš„<code>stdin</code>ã€<code>stdout</code>ã€<code>stderr</code>è¿æ¥é€šä¿¡ï¼Œè·å–å­è¿›ç¨‹æ‰§è¡Œç»“æŸåçš„<font color="orange">è¿”å›ç </font>ï¼Œåœ¨æ‰§è¡Œè¶…æ—¶æˆ–æ‰§è¡Œé”™è¯¯æ—¶å¾—åˆ°<font color="orange">å¼‚å¸¸</font>ã€‚</p><p>é—®é¢˜ï¼š<br>multiprocessingä¸­ï¼Œè°ƒç”¨p.join()ç­‰å¾…å­è¿›ç¨‹æ‰§è¡Œç»“æŸ<br>subprocessæ¨¡å—â€“çˆ¶è¿›ç¨‹å¦‚ä½•ç›‘å¬å­è¿›ç¨‹ç»“æŸï¼Ÿ<br>ä¸¤ä¸ªæ–¹æ³•ï¼š<br>subprocess.Popen()çˆ¶è¿›ç¨‹å¼€å¯å­è¿›ç¨‹åï¼Œä¸ç®¡å…¶æ˜¯å¦ç»“æŸï¼Œç›´æ¥æ‰§è¡Œä¸‹ä¸€æ­¥ï¼›<br>subprocess.Call()çˆ¶è¿›ç¨‹ä¸€ç›´ç­‰å¾…åˆ°å­è¿›ç¨‹è¿è¡Œç»“æŸï¼Œå†æ‰§è¡Œä¸‹ä¸€æ­¥ï¼›</p><ul><li>outline<ul><li><strong><a href="#subprocess intro"><code>subprocess</code> æ¨¡å—ä»‹ç»</a></strong></li><li><strong><a href="#subprocess examp"><code>subprocess</code> æ¨¡å—å®ä¾‹</a></strong><ul><li><strong><a href="#subprocess.run"><code>subprocess.run</code> ä¾‹å­</a></strong></li></ul></li></ul></li></ul><p><a id="subprocess intro"><font color="black"></font></a></p><h4><a id="subprocess intro"><font color="black"><code>subprocess</code> æ¨¡å—ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python">subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># æ‰§è¡Œargså‚æ•°æ‰€è¡¨ç¤ºçš„å‘½ä»¤ï¼Œç­‰å¾…å‘½ä»¤æ‰§è¡Œå®Œæ¯•ï¼Œè¿”å›ä¸€ä¸ªCompletedProcesså¯¹è±¡ã€‚</span>subprocess<span class="token punctuation">.</span>Popen<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># çˆ¶è¿›ç¨‹å¼€å¯å­è¿›ç¨‹åï¼Œä¸ç®¡å…¶æ˜¯å¦ç»“æŸï¼Œç›´æ¥æ‰§è¡Œä¸‹ä¸€æ­¥ï¼›</span>subprocess<span class="token punctuation">.</span>Call<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># ä¸æ¨èä½¿ç”¨ï¼Œçˆ¶è¿›ç¨‹ä¸€ç›´ç­‰å¾…åˆ°å­è¿›ç¨‹è¿è¡Œç»“æŸï¼Œå†æ‰§è¡Œä¸‹ä¸€æ­¥ï¼›</span></code></pre><blockquote><p><code>run</code>å‡½æ•°çš„åº•å±‚å°±æ˜¯<code>Popen</code>å‡½æ•°ã€‚<code>run</code>åŒæ­¥ï¼Œ<code>Popen</code>å¼‚æ­¥ã€‚<br><strong>åŒæ­¥å‡½æ•°</strong>ï¼šå½“ä¸€ä¸ªå‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œæ—¶ï¼Œé‚£ä¹ˆå½“è¯¥å‡½æ•°è¢«è°ƒç”¨æ—¶<font color="orange">ä¸ä¼šç«‹å³è¿”å›</font>ï¼Œç›´åˆ°è¯¥å‡½æ•°æ‰€è¦åšçš„äº‹æƒ…å…¨éƒ½åšå®Œäº†æ‰è¿”å›ã€‚<br><strong>å¼‚æ­¥å‡½æ•°</strong>ï¼šå¦‚æœä¸€ä¸ªå¼‚æ­¥å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥å‡½æ•°<font color="orange">ä¼šç«‹å³è¿”å›</font>å°½ç®¡è¯¥å‡½æ•°è§„å®šçš„æ“ä½œä»»åŠ¡è¿˜æ²¡æœ‰å®Œæˆã€‚</p><blockquote><p><code>call</code>ã€<code>check_call</code>ã€<code>check_output</code>ã€<code>getoutput</code>ã€<code>getstatusoutput</code>ã€è¿™äº›å‡½æ•°ï¼Œéƒ½è¢«<code>run</code>å‡½æ•°ä»£æ›¿äº†ï¼Œå®ƒä»¬åœ¨å­˜åœ¨åªæ˜¯ä¸ºäº†ä¿æŒå‘ä¸‹å…¼å®¹ã€‚</p></blockquote></blockquote><ul><li><code>subprocess</code>çš„æ–¹æ³•ã€ç±»</li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>    args<span class="token punctuation">,</span>                     <span class="token comment"># é€šè¿‡åˆ›å»ºè¿›ç¨‹è€Œæ‰§è¡Œçš„å‘½ä»¤åŠå‚æ•°</span>    stdin<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>               <span class="token comment"># æŒ‡å®šå‘½ä»¤çš„è¾“å…¥é€”å¾„</span>    <span class="token builtin">input</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>               <span class="token comment"># å‘½ä»¤çš„å…·ä½“è¾“å…¥å†…å®¹</span>        <span class="token triple-quoted-string string">"""        inputä¸stdinä¸èƒ½åŒæ—¶ä½¿ç”¨        inputé»˜è®¤æ˜¯ä¸€ä¸ªbytesæµ        """</span>    stdout<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>              <span class="token comment"># æŒ‡å®šå‘½ä»¤çš„è¾“å‡ºé€”å¾„</span>    stderr<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>              <span class="token comment"># æŒ‡å®šå‘½ä»¤çš„errorè¾“å‡ºé€”å¾„</span>    capture_output<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>     <span class="token comment"># æ˜¯å¦æ•è·è¿›ç¨‹çš„è¾“å‡º</span>        <span class="token triple-quoted-string string">"""        capture_output=Trueçš„æ•ˆæœä¸è®¾ç½®ä»¥ä¸‹çš„æ•ˆæœä¸€æ ·ã€‚            stdout=PIPE, stderr=PIPE        è®¾ç½®äº†capture_output=Trueï¼Œå°±ä¸èƒ½å†è®¾ç½®stdoutå’Œstderr        """</span>    shell<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>              <span class="token comment"># æ˜¯å¦é€šè¿‡shellæ¥æ‰§è¡Œå‘½ä»¤ï¼ˆLinuxä¸‹é»˜è®¤ä¸º/bin/shï¼‰</span>        <span class="token triple-quoted-string string">"""        shell=Falseï¼šargsåªèƒ½æ˜¯ä¸€ä¸ªä¸å¸¦å‚æ•°çš„å‘½ä»¤å­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯å‘½ä»¤å’Œå‚æ•°ç»„æˆçš„ä¸€ä¸ªlist        shell=Trueï¼šargså°±å¯ä»¥æ˜¯ä¸€ä¸ªæˆ‘ä»¬å¸¸è§çš„å‘½ä»¤å­—ç¬¦ä¸²        """</span>    cwd<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                 <span class="token comment"># æŒ‡ç¤ºäº†å½“å‰å·¥ä½œè·¯å¾„</span>    timeout<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>             <span class="token comment"># è®¾ç½®è¿›ç¨‹æ‰§è¡Œçš„è¶…æ—¶æ—¶é—´</span>        <span class="token triple-quoted-string string">"""        å¦‚æœæ—¶é—´åˆ°å­è¿›ç¨‹è¿˜æœªç»“æŸï¼Œsubprocess.TimeoutExpiredå¼‚å¸¸ä¼šæŠ›å‡ºã€‚        timeoutå‚æ•°çš„å•ä½ï¼šç§’        """</span>    check<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>              <span class="token comment"># æ£€æŸ¥å¼‚å¸¸ï¼Ÿ</span>        <span class="token triple-quoted-string string">"""        å¦‚æœcheck=Trueï¼Œ        åœ¨å­è¿›ç¨‹çš„è¿”å›ä¸ä¸º 0 çš„æ—¶å€™ï¼ŒæŠ›å‡ºsubprocess.CalledProcessErrorå¼‚å¸¸ã€‚        è¿™æ—¶ï¼Œrunå‡½æ•°è¿”å›çš„CompletedProcesså¯¹è±¡çš„returncodeä¸å¯ç”¨ã€‚        """</span>    encoding<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>            <span class="token comment"># </span>    errors<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>              <span class="token comment"># </span>    text<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                <span class="token comment"># å°†stdinï¼Œstdoutï¼Œstderrä¿®æ”¹ä¸ºstringæ¨¡å¼</span>        <span class="token triple-quoted-string string">"""        stdinï¼Œstdoutï¼Œstderræœ¬æ¥éƒ½æ˜¯å­—èŠ‚æµbytes        """</span>    env<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                 <span class="token comment"># </span>    universal_newlines<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># åŒtext</span>        <span class="token triple-quoted-string string">"""        è¿™ä¸ªå‚æ•°çš„å­˜åœ¨ä¹Ÿæ˜¯ä¸ºäº†å‘ä¸‹å…¼å®¹        ä»Python3.7å¼€å§‹æœ‰textå‚æ•°        è€ŒPython3.5å’Œ3.6éƒ½æ˜¯universal_newlineså‚æ•°        å› æ­¤ä½¿ç”¨textå‚æ•°å°±å¥½äº†        """</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">subprocess</span><span class="token punctuation">.</span>PopenPopen<span class="token punctuation">(</span>    args<span class="token punctuation">,</span>                     <span class="token comment"># é€šè¿‡åˆ›å»ºè¿›ç¨‹è€Œæ‰§è¡Œçš„å‘½ä»¤åŠå‚æ•°</span>    bufsize<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>               <span class="token comment"># </span>    executable<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>          <span class="token comment"># </span>    stdin<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>               <span class="token comment"># æŒ‡å®šå‘½ä»¤çš„è¾“å…¥é€”å¾„</span>    stdout<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>              <span class="token comment"># æŒ‡å®šå‘½ä»¤çš„è¾“å‡ºé€”å¾„</span>    stderr<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>              <span class="token comment"># æŒ‡å®šå‘½ä»¤çš„errorè¾“å‡ºé€”å¾„</span>    preexec_fn<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>          <span class="token comment"># </span>    close_fds<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>           <span class="token comment"># </span>    shell<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>              <span class="token comment"># æ˜¯å¦é€šè¿‡shellæ¥æ‰§è¡Œå‘½ä»¤</span>    cwd<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                 <span class="token comment"># æŒ‡ç¤ºäº†å½“å‰å·¥ä½œè·¯å¾„</span>    env<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                 <span class="token comment"># </span>    universal_newlines<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># åŒtext</span>    startupinfo<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>         <span class="token comment"># </span>    creationflags<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>          <span class="token comment"># </span>    restore_signals<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>     <span class="token comment"># </span>    start_new_session<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token comment"># </span>    pass_fds<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token comment"># </span>    encoding<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>            <span class="token comment"># </span>    errors<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>              <span class="token comment"># </span>    text<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>                <span class="token comment"># å°†stdinï¼Œstdoutï¼Œstderrä¿®æ”¹ä¸ºstringæ¨¡å¼</span><span class="token punctuation">)</span></code></pre><ul><li><code>subprocess.Popen</code>çš„æ–¹æ³•</li></ul><pre class="language-python" data-language="python"><code class="language-python">proc <span class="token operator">=</span> Popen<span class="token punctuation">(</span>args<span class="token punctuation">)</span>                 <span class="token comment"># </span>out<span class="token punctuation">,</span> err <span class="token operator">=</span> proc<span class="token punctuation">.</span>communicate<span class="token punctuation">(</span>bstr<span class="token punctuation">)</span>  <span class="token comment"># </span>returncode <span class="token operator">=</span> proc<span class="token punctuation">.</span>wait<span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>    <span class="token comment"># </span></code></pre><details><summary>nothing</summary></details><p><a id="subprocess examp"><font color="black"></font></a></p><h4><a id="subprocess examp"><font color="black"><code>subprocess</code> æ¨¡å—å®ä¾‹</font></a></h4><p></p><ul><li><a id="subprocess.run"><code>subprocess.run</code> ä¾‹å­</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo run args:strã€shell</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> proc <span class="token operator">=</span> run<span class="token punctuation">(</span><span class="token string">'dir'</span><span class="token punctuation">,</span> shell<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>Â·Â·Â·Â·Â·Â·<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> proc<span class="token punctuation">.</span>args<span class="token string">'dir'</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> proc<span class="token punctuation">.</span>returncode<span class="token number">0</span><span class="token comment"># todo run args:listã€shell</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> p <span class="token operator">=</span> run<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"ipconfig"</span><span class="token punctuation">,</span> <span class="token string">"/all"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> shell<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>Â·Â·Â·Â·Â·Â·<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> proc<span class="token punctuation">.</span>args<span class="token punctuation">[</span><span class="token string">"ipconfig"</span><span class="token punctuation">,</span> <span class="token string">"/all"</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> proc<span class="token punctuation">.</span>returncode<span class="token number">0</span></code></pre><hr><h2 id="ä¸€äº›éå¸¸æœ‰ç”¨çš„å‡½æ•°"><a href="#ä¸€äº›éå¸¸æœ‰ç”¨çš„å‡½æ•°" class="headerlink" title="ä¸€äº›éå¸¸æœ‰ç”¨çš„å‡½æ•°"></a>ä¸€äº›éå¸¸æœ‰ç”¨çš„å‡½æ•°</h2><h3 id="multiprocessing-freeze-support-å‡½æ•°"><a href="#multiprocessing-freeze-support-å‡½æ•°" class="headerlink" title="multiprocessing.freeze_support() å‡½æ•°"></a><code>multiprocessing.freeze_support()</code> å‡½æ•°</h3><ul><li>outline<ul><li><strong><a href="#freeze_support intro"><code>freeze_support()</code> å‡½æ•°ä»‹ç»</a></strong></li><li><strong><a href="#freeze_support examp"><code>freeze_support()</code> å‡½æ•°å®ä¾‹</a></strong></li></ul></li></ul><p><a id="freeze_support intro"><font color="black"></font></a></p><h4><a id="freeze_support intro"><font color="black"><code>freeze_support()</code> å‡½æ•°ä»‹ç»</font></a></h4><p></p><ul><li>ä¸ºä»€ä¹ˆè¦æœ‰<code>freeze_support()</code>ï¼Ÿ</li></ul><p>å®˜æ–¹è§£é‡Šï¼š<a href="https://docs.python.org/3.8/library/multiprocessing.html?highlight=freeze_support#multiprocessing.freeze_support">multiprocessing.freeze_support()Â¶</a><br>ã€€ã€€å½“ä½¿ç”¨<code>multiprocessing</code>çš„ç¨‹åºè¢«å†»ç»“ä»¥ç”ŸæˆWindowså¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œæ·»åŠ å¯¹è¯¥ç¨‹åºçš„æ”¯æŒã€‚ï¼ˆå·²ä½¿ç”¨<code>Py2Exe</code>ã€<code>PyInstaller</code>å’Œ<code>cx_Freeze</code>è¿›è¡Œäº†æµ‹è¯•ã€‚ï¼‰<br>ä¸ªäººç†è§£ï¼šå‚è€ƒï¼š<a href="https://blog.csdn.net/Owen_goodman/article/details/115521388">multiprocessing.freeze_support()ä»‹ç»</a><br>ã€€ã€€Pythonå¤šè¿›ç¨‹<code>multiprocessing</code>åœ¨ Windows çš„ Dos æˆ–è€… idle ä¸‹è¿è¡Œä¸äº†ä¼šæŠ¥é”™ï¼Œæ‰“åŒ…æˆ.exeåŒå‡»ä¹‹åä¼šä¸€ç›´æ‰“å¼€exeï¼Œå¯¼è‡´å†…å­˜å æ»¡ï¼ˆè‡³äºä¸ºä»€ä¹ˆä¼šé€ æˆå†…å­˜æº¢å‡ºï¼Œæš‚æ—¶ä¸å¾—è€ŒçŸ¥ï¼Œåé¢è¿˜éœ€è¦å†ç ”ç©¶ä¸€ä¸‹ï¼‰ï¼Œåœ¨ PyCharm ä¸‹è¿è¡Œä¹Ÿä¸ä¼šæœ‰é—®é¢˜ï¼Œåœ¨ Linux ä¸‹æ²¡æœ‰é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ª bugï¼Œpython3.8 æ·»åŠ äº†è¿™ä¸ªå‡½æ•°ã€‚</p><p><font color="orange">ç®€å•æ¥è¯´å°±æ˜¯ï¼Œæœ¬æ¥ä¹‹å‰æŠŠä½¿ç”¨<code>multiprocessing</code>çš„ç¨‹åºæ‰“åŒ…æˆ.exeæ–‡ä»¶æœ‰ bugï¼Œä½†æ˜¯ç°åœ¨åªè¦åœ¨<code>main</code>å…¥å£ä¸‹æ·»åŠ <code>multiprocessing.freeze_support()</code>å°±å¯ä»¥è§£å†³è¿™ä¸ª bug äº†ã€‚</font></p><ul><li>å…³äº<code>freeze_support()</code>ï¼Œå†å¤šè¯´å‡ å¥</li></ul><ol><li>å¦‚æœæ²¡æœ‰è°ƒç”¨ <code>freeze_support()</code> åœ¨å°è¯•è¿è¡Œè¢«å†»ç»“çš„å¯æ‰§è¡Œæ–‡ä»¶æ—¶ä¼šæŠ›å‡º <code>RuntimeError</code> å¼‚å¸¸ã€‚</li><li>å¯¹ <code>freeze_support()</code> çš„è°ƒç”¨åœ¨é Windows å¹³å°ä¸Šæ˜¯æ— æ•ˆçš„ã€‚å¦‚æœè¯¥æ¨¡å—åœ¨ Windows å¹³å°çš„ Python è§£é‡Šå™¨ä¸­æ­£å¸¸è¿è¡Œ (è¯¥ç¨‹åºæ²¡æœ‰è¢«å†»ç»“)ï¼Œ è°ƒç”¨<code>freeze_support()</code> ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚</li><li>å¦‚æœç¨‹åºå°†æ­£å¸¸è¿è¡Œè€Œä¸æ˜¯å†»ç»“ï¼Œåˆ™å¯ä»¥çœç•¥ <code>freeze_support()</code>ã€‚</li><li>æ€»çš„æ¥è¯´ï¼Œä¸ç®¡æ€æ ·æœ€å¥½åŠ ä¸Š <code>freeze_support()</code>ã€‚</li></ol><p><code>freeze_support()</code>æºä»£ç ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">freeze_support</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''    Run code for process object if this in not the main process    '''</span>    <span class="token keyword">if</span> is_forking<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">:</span>        kwds <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token keyword">for</span> arg <span class="token keyword">in</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            name<span class="token punctuation">,</span> value <span class="token operator">=</span> arg<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> value <span class="token operator">==</span> <span class="token string">'None'</span><span class="token punctuation">:</span>                kwds<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                kwds<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>        spawn_main<span class="token punctuation">(</span><span class="token operator">**</span>kwds<span class="token punctuation">)</span>        sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><a id="freeze_support examp"><font color="black"></font></a></p><h4><a id="freeze_support examp"><font color="black"><code>freeze_support()</code> å‡½æ•°å®ä¾‹</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token punctuation">,</span> freeze_support<span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello world!'</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    freeze_support<span class="token punctuation">(</span><span class="token punctuation">)</span>    Process<span class="token punctuation">(</span>target<span class="token operator">=</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><hr><h2 id="è¿›ç¨‹åŒæ­¥"><a href="#è¿›ç¨‹åŒæ­¥" class="headerlink" title="è¿›ç¨‹åŒæ­¥"></a>è¿›ç¨‹åŒæ­¥</h2><h3 id="multiprocess-Lock-ç±»"><a href="#multiprocess-Lock-ç±»" class="headerlink" title="multiprocess.Lock ç±»"></a><code>multiprocess.Lock</code> ç±»</h3><h3 id="multiprocess-Semaphore-ç±»"><a href="#multiprocess-Semaphore-ç±»" class="headerlink" title="multiprocess.Semaphore ç±»"></a><code>multiprocess.Semaphore</code> ç±»</h3><h3 id="multiprocess-Event-ç±»"><a href="#multiprocess-Event-ç±»" class="headerlink" title="multiprocess.Event ç±»"></a><code>multiprocess.Event</code> ç±»</h3><hr><h2 id="è¿›ç¨‹é—´çš„é€šä¿¡æ¨¡å¼"><a href="#è¿›ç¨‹é—´çš„é€šä¿¡æ¨¡å¼" class="headerlink" title="è¿›ç¨‹é—´çš„é€šä¿¡æ¨¡å¼"></a>è¿›ç¨‹é—´çš„é€šä¿¡æ¨¡å¼</h2><p>è¿›ç¨‹é—´çš„é€šä¿¡æ¨¡å¼ IPC (Inter-Process Communication)</p><h3 id="multiprocessing-Pipe-æ–¹æ³•"><a href="#multiprocessing-Pipe-æ–¹æ³•" class="headerlink" title="multiprocessing.Pipe æ–¹æ³•"></a><code>multiprocessing.Pipe</code> æ–¹æ³•</h3><ul><li>outline<ul><li><strong><a href="#Pipe intro">Pipeæ–¹æ³•ä»‹ç»</a></strong></li><li><strong><a href="#Pipe examp">Pipeæ–¹æ³•å®ä¾‹</a></strong><ul><li><strong><a href="#Pipe0">Pipeä¸¤ä¸ªè¿›ç¨‹é—´é€šä¿¡</a></strong></li></ul></li></ul></li></ul><p><a id="Pipe intro"><font color="black"></font></a></p><h4><a id="Pipe intro"><font color="black">Pipeæ–¹æ³•ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">Pipe</span><span class="token punctuation">(</span>duplex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    <span class="token comment"># é€šä¿¡æ¨¡å¼</span>    <span class="token keyword">return</span> conn1<span class="token punctuation">,</span> conn2  <span class="token comment"># è¿”å›ä¸€ä¸ªç®¡é“çš„ä¸¤ç«¯</span></code></pre><blockquote><p><code>duplex=True</code>ï¼šå…¨åŒå·¥æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼ŒåŒæ–¹å‡å¯æ”¶å‘<br><code>duplex=False</code>ï¼šconn1åªæ¥æ”¶ï¼Œconn2åªå‘é€</p></blockquote><details><summary>Pipeæ–¹æ³•(ç•¥)</summary><pre class="language-python" data-language="python"><code class="language-python">pipe <span class="token operator">=</span> Pipe<span class="token punctuation">(</span><span class="token punctuation">)</span>                           <span class="token comment"># </span>pipe<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>recv<span class="token punctuation">(</span>msg<span class="token punctuation">)</span>                       <span class="token comment"># æ¥æ”¶</span>pipe<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>send<span class="token punctuation">(</span>msg<span class="token punctuation">)</span>                       <span class="token comment"># å‘é€</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>                            <span class="token comment"># </span>conn<span class="token punctuation">.</span>fileno<span class="token punctuation">(</span><span class="token punctuation">)</span>                           <span class="token comment"># </span>conn<span class="token punctuation">.</span>poll<span class="token punctuation">(</span><span class="token punctuation">[</span>timeout<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token comment"># </span>conn<span class="token punctuation">.</span>recv_bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>maxlength<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment"># </span>conn<span class="token punctuation">.</span>send_bytes<span class="token punctuation">(</span><span class="token builtin">buffer</span><span class="token punctuation">,</span> offset<span class="token punctuation">,</span> size<span class="token punctuation">)</span>   <span class="token comment"># </span>conn<span class="token punctuation">.</span>recv_bytes_into<span class="token punctuation">(</span><span class="token builtin">buffer</span><span class="token punctuation">,</span> offset<span class="token punctuation">)</span>    <span class="token comment"># </span></code></pre></details><details><summary>Pipeæ–¹æ³•(è¯¦)</summary><pre class="language-python" data-language="python"><code class="language-python">pipe <span class="token operator">=</span> Pipe<span class="token punctuation">(</span><span class="token punctuation">)</span>pipe<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>recv<span class="token punctuation">(</span>msg<span class="token punctuation">)</span>  <span class="token comment"># æ¥æ”¶</span>pipe<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>send<span class="token punctuation">(</span>msg<span class="token punctuation">)</span>  <span class="token comment"># å‘é€</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å…³é—­è¿æ¥ï¼Œå¦‚æœconnè¢«åƒåœ¾å›æ”¶ï¼Œå°†è‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•    """</span>conn<span class="token punctuation">.</span>fileno<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    è¿”å›è¿æ¥ä½¿ç”¨çš„æ•´æ•°æ–‡ä»¶æè¿°ç¬¦    """</span>conn<span class="token punctuation">.</span>poll<span class="token punctuation">(</span><span class="token punctuation">[</span>timeout<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å¦‚æœè¿æ¥ä¸Šçš„æ•°æ®å¯ç”¨ï¼Œè¿”å›Trueã€‚    timeoutæŒ‡å®šç­‰å¾…çš„æœ€é•¿æ—¶é™ã€‚    å¦‚æœçœç•¥æ­¤å‚æ•°ï¼Œæ–¹æ³•å°†ç«‹å³è¿”å›ç»“æœã€‚    å¦‚æœå°†timeoutå°„æˆNoneï¼Œæ“ä½œå°†æ— é™æœŸåœ°ç­‰å¾…æ•°æ®åˆ°è¾¾ã€‚    """</span>conn<span class="token punctuation">.</span>recv_bytes<span class="token punctuation">(</span><span class="token punctuation">[</span>maxlength<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    æ¥æ”¶ conn.send_bytes() æ–¹æ³•å‘é€çš„ä¸€æ¡å®Œæ•´çš„å­—èŠ‚æ¶ˆæ¯ã€‚    maxlengthæŒ‡å®šè¦æ¥æ”¶çš„æœ€å¤§å­—èŠ‚æ•°ã€‚    å¦‚æœè¿›å…¥çš„æ¶ˆæ¯ï¼Œè¶…è¿‡äº†è¿™ä¸ªæœ€å¤§å€¼ï¼Œå°†å¼•å‘IOErrorå¼‚å¸¸ï¼Œå¹¶ä¸”åœ¨è¿æ¥ä¸Šæ— æ³•è¿›è¡Œè¿›ä¸€æ­¥è¯»å–ã€‚    å¦‚æœè¿æ¥çš„å¦å¤–ä¸€ç«¯å·²ç»å…³é—­ï¼Œå†ä¹Ÿä¸å­˜åœ¨ä»»ä½•æ•°æ®ï¼Œå°†å¼•å‘EOFErrorå¼‚å¸¸ã€‚    """</span>conn<span class="token punctuation">.</span>send_bytes<span class="token punctuation">(</span><span class="token builtin">buffer</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> offset <span class="token punctuation">[</span><span class="token punctuation">,</span> size<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    é€šè¿‡è¿æ¥å‘é€å­—èŠ‚æ•°æ®ç¼“å†²åŒºï¼Œ    bufferæ˜¯æ”¯æŒç¼“å†²åŒºæ¥å£çš„ä»»æ„å¯¹è±¡ï¼Œ    offsetæ˜¯ç¼“å†²åŒºä¸­çš„å­—èŠ‚åç§»é‡ï¼Œ    sizeæ˜¯è¦å‘é€å­—èŠ‚æ•°ã€‚    ç»“æœæ•°æ®ä»¥å•æ¡æ¶ˆæ¯çš„å½¢å¼å‘å‡ºï¼Œ    ç„¶åè°ƒç”¨ conn.recv_bytes() å‡½æ•°è¿›è¡Œæ¥æ”¶    """</span>conn<span class="token punctuation">.</span>recv_bytes_into<span class="token punctuation">(</span><span class="token builtin">buffer</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    æ¥æ”¶ä¸€æ¡å®Œæ•´çš„å­—èŠ‚æ¶ˆæ¯ï¼Œå¹¶æŠŠå®ƒä¿å­˜åœ¨bufferå¯¹è±¡ä¸­ï¼Œ    è¯¥å¯¹è±¡æ”¯æŒå¯å†™å…¥çš„ç¼“å†²åŒºæ¥å£ï¼ˆå³bytearrayå¯¹è±¡æˆ–ç±»ä¼¼çš„å¯¹è±¡ï¼‰ã€‚    offsetæŒ‡å®šç¼“å†²åŒºä¸­æ”¾ç½®æ¶ˆæ¯å¤„çš„å­—èŠ‚ä½ç§»ã€‚    è¿”å›å€¼æ˜¯æ”¶åˆ°çš„å­—èŠ‚æ•°ã€‚    å¦‚æœæ¶ˆæ¯é•¿åº¦å¤§äºå¯ç”¨çš„ç¼“å†²åŒºç©ºé—´ï¼Œå°†å¼•å‘BufferTooShortå¼‚å¸¸ã€‚    """</span></code></pre></details><blockquote><p>æ³¨ï¼š<br>1.Pipe çš„è¯»å†™æ•ˆç‡è¦é«˜äº Queue<br>2.å¦‚æœæ²¡æœ‰æ¶ˆæ¯å¯æ¥æ”¶ï¼Œ<code>conn.recv()</code>æ–¹æ³•ä¼šä¸€ç›´é˜»å¡ã€‚<br>3.å¦‚æœç®¡é“å·²ç»è¢«å…³é—­ï¼Œ<code>conn.recv()</code>æ–¹æ³•ä¼šæŠ›å‡º<code>EOFError</code>ã€‚<br>4.<code>conn.close()</code>å¹¶æœªå…³é—­é€šé“ï¼Œåªæ˜¯æŠŠçŠ¶æ€æ”¹ä¸ºä¸å¯å†æ’å…¥å…ƒç´ çš„çŠ¶æ€<br>5.Pipeæ˜¯é€šè¿‡ socket è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡çš„</p></blockquote><p><a id="Pipe examp"><font color="black"></font></a></p><h4><a id="Pipe examp"><font color="black">Pipeæ–¹æ³•å®ä¾‹</font></a></h4><p></p><ul><li><a id="Pipe0">Pipeä¸¤ä¸ªè¿›ç¨‹é—´é€šä¿¡</a></li></ul><p>pipeå®ç°ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¸€å¯¹ä¸€æ¨¡å‹</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token punctuation">,</span> random<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token punctuation">,</span> Pipe<span class="token keyword">def</span> <span class="token function">producer</span><span class="token punctuation">(</span>pipe<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> product <span class="token keyword">in</span> products<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ç”Ÿäº§è€…å‘é€:{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">)</span>        pipe<span class="token punctuation">.</span>send<span class="token punctuation">(</span>product<span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">consumer</span><span class="token punctuation">(</span>pipe<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            item <span class="token operator">=</span> pipe<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ¶ˆè´¹è€…æ¥æ”¶:{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span>        <span class="token keyword">except</span> EOFError <span class="token keyword">as</span> e<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ç”Ÿäº§è€…è·‘è·¯äº†'</span><span class="token punctuation">)</span>            <span class="token keyword">break</span>products <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    pipe <span class="token operator">=</span> Pipe<span class="token punctuation">(</span>duplex<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>    process_producer <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>producer<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>pipe<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>    process_consumer <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>consumer<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>pipe<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>    process_producer<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    process_consumer<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    pipe<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    pipe<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    process_producer<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    process_consumer<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote><p>æ³¨ï¼š<br>1.è‹¥åŒæ–¹éƒ½æ²¡æœ‰ä½¿ç”¨ç®¡é“çš„æŸä¸ªç«¯ç‚¹ï¼Œå°±åº”è¯¥å…³é—­ç®¡é“<br>2.è‹¥ä¸€æ–¹å…³é—­äº†ç«¯ç‚¹ï¼Œç›¸åº”çš„å¦ä¸€ç«¯å¿…é¡»å…³é—­å…¶ç«¯ç‚¹<br>3.åº”å…ˆå…³é—­é€šé“ä¸¤ç«¯<code>pipe.close()</code>å†å…³é—­è¿›ç¨‹<code>proc.terminate()</code>å†ç­‰å¾…è¿›ç¨‹ç»“æŸ<code>proc.join()</code></p></blockquote><hr><h3 id="multiprocessing-Queue-ç±»"><a href="#multiprocessing-Queue-ç±»" class="headerlink" title="multiprocessing.Queue ç±»"></a><code>multiprocessing.Queue</code> ç±»</h3><ul><li>outline<ul><li><strong><a href="#Queue intro">Queueç±»ä»‹ç»</a></strong></li><li><strong><a href="#Queue examp">Queueç±»å®ä¾‹</a></strong><ul><li><strong><a href="#Queue0">Queueå¤šä¸ªè¿›ç¨‹é—´é€šä¿¡</a></strong></li></ul></li></ul></li></ul><p><a id="Queue intro"><font color="black"></font></a></p><h4><a id="Queue intro"><font color="black">Queueç±»ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo å‚æ•°</span><span class="token keyword">class</span> <span class="token class-name">Queue</span><span class="token punctuation">{</span>maxsize<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span>  <span class="token comment"># é˜Ÿåˆ—ä¸­å…è®¸çš„æœ€å¤§é¡¹æ•°ï¼Œå¿½ç•¥/é»˜è®¤æ— å¤§å°é™åˆ¶</span></code></pre><details><summary>Queueç±»æ–¹æ³•(ç•¥)</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo æ–¹æ³•</span>q <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>                  <span class="token comment"># é˜Ÿåˆ—å®ä¾‹åŒ–</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span>block<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>        <span class="token comment"># æ•°æ®å‡ºé˜Ÿï¼Œé˜»å¡</span>q<span class="token punctuation">.</span>get_nowait<span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token comment"># æ•°æ®å‡ºé˜Ÿï¼Œéé˜»å¡</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>item<span class="token punctuation">,</span> block<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>  <span class="token comment"># æ•°æ®å…¥é˜Ÿï¼Œé˜»å¡</span>q<span class="token punctuation">.</span>put_nowait<span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token comment"># æ•°æ®å…¥é˜Ÿï¼Œéé˜»å¡</span>q<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token comment"># é˜Ÿåˆ—å¤§å°</span>q<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token comment"># é˜Ÿåˆ—åˆ¤ç©º</span>q<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token comment"># é˜Ÿåˆ—åˆ¤æ»¡</span>q<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token comment"># å…³é—­é˜Ÿåˆ—</span>q<span class="token punctuation">.</span>cancel_join_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># å–æ¶ˆé˜Ÿåˆ—è¿æ¥åå°çº¿ç¨‹</span>q<span class="token punctuation">.</span>join_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment"># é˜Ÿåˆ—è¿æ¥åå°çº¿ç¨‹</span></code></pre></details><details><summary>Queueç±»æ–¹æ³•(è¯¦)</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo æ–¹æ³•</span>q <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span> <span class="token punctuation">[</span> block <span class="token punctuation">[</span> <span class="token punctuation">,</span>timeout <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    è¿”å›qä¸­çš„ä¸€ä¸ªé¡¹ç›®ã€‚    å¦‚æœqä¸ºç©ºï¼Œæ­¤æ–¹æ³•å°†é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰é¡¹ç›®å¯ç”¨ä¸ºæ­¢ã€‚    blockç”¨äºæ§åˆ¶é˜»å¡è¡Œä¸ºï¼Œé»˜è®¤ä¸ºTrueã€‚    å¦‚æœè®¾ç½®ä¸ºFalseï¼Œå°†å¼•å‘Queue.Emptyå¼‚å¸¸ï¼ˆå®šä¹‰åœ¨Queueæ¨¡å—ä¸­ï¼‰ã€‚    timeoutæ˜¯å¯é€‰è¶…æ—¶æ—¶é—´ï¼Œç”¨åœ¨é˜»å¡æ¨¡å¼ä¸­ã€‚    å¦‚æœåœ¨åˆ¶å®šçš„æ—¶é—´é—´éš”å†…æ²¡æœ‰é¡¹ç›®å˜ä¸ºå¯ç”¨ï¼Œå°†å¼•å‘Queue.Emptyå¼‚å¸¸ã€‚    """</span>q<span class="token punctuation">.</span>get_nowait<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    åŒq.get(False)æ–¹æ³•ã€‚    """</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>item <span class="token punctuation">[</span><span class="token punctuation">,</span> block <span class="token punctuation">[</span><span class="token punctuation">,</span>timeout <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å°†itemæ”¾å…¥é˜Ÿåˆ—ã€‚    å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œæ­¤æ–¹æ³•å°†é˜»å¡è‡³æœ‰ç©ºé—´å¯ç”¨ä¸ºæ­¢ã€‚    blockæ§åˆ¶é˜»å¡è¡Œä¸ºï¼Œé»˜è®¤ä¸ºTrueã€‚    å¦‚æœè®¾ç½®ä¸ºFalseï¼Œå°†å¼•å‘Queue.Emptyå¼‚å¸¸ï¼ˆå®šä¹‰åœ¨Queueåº“æ¨¡å—ä¸­ï¼‰ã€‚    timeoutæŒ‡å®šåœ¨é˜»å¡æ¨¡å¼ä¸­ç­‰å¾…å¯ç”¨ç©ºé—´çš„æ—¶é—´é•¿çŸ­ã€‚    è¶…æ—¶åå°†å¼•å‘Queue.Fullå¼‚å¸¸ã€‚    """</span>q<span class="token punctuation">.</span>put_nowait<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    åŒq.get(False)æ–¹æ³•ã€‚    """</span>q<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    è¿”å›é˜Ÿåˆ—ä¸­ç›®å‰é¡¹ç›®çš„æ­£ç¡®æ•°é‡ã€‚    æ­¤å‡½æ•°çš„ç»“æœå¹¶ä¸å¯é ï¼Œ    å› ä¸ºåœ¨è¿”å›ç»“æœå’Œåœ¨ç¨åç¨‹åºä¸­ä½¿ç”¨ç»“æœä¹‹é—´ï¼Œ    é˜Ÿåˆ—ä¸­å¯èƒ½æ·»åŠ æˆ–åˆ é™¤äº†é¡¹ç›®ã€‚    åœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œæ­¤æ–¹æ³•å¯èƒ½å¼•å‘NotImplementedErrorå¼‚å¸¸ã€‚    """</span>q<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å¦‚æœè°ƒç”¨æ­¤æ–¹æ³•æ—¶ qä¸ºç©ºï¼Œè¿”å›Trueã€‚    å¦‚æœå…¶ä»–è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨å¾€é˜Ÿåˆ—ä¸­æ·»åŠ é¡¹ç›®ï¼Œç»“æœæ˜¯ä¸å¯é çš„ã€‚    ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿”å›å’Œä½¿ç”¨ç»“æœä¹‹é—´ï¼Œé˜Ÿåˆ—ä¸­å¯èƒ½å·²ç»åŠ å…¥æ–°çš„é¡¹ç›®ã€‚    """</span>q<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å¦‚æœqå·²æ»¡ï¼Œè¿”å›ä¸ºTrueã€‚    ç”±äºçº¿ç¨‹çš„å­˜åœ¨ï¼Œç»“æœä¹Ÿå¯èƒ½æ˜¯ä¸å¯é çš„ï¼ˆå‚è€ƒq.emptyï¼ˆï¼‰æ–¹æ³•ï¼‰ã€‚    """</span>q<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å…³é—­é˜Ÿåˆ—ï¼Œé˜²æ­¢é˜Ÿåˆ—ä¸­åŠ å…¥æ›´å¤šæ•°æ®ã€‚    è°ƒç”¨æ­¤æ–¹æ³•æ—¶ï¼Œåå°çº¿ç¨‹å°†ç»§ç»­å†™å…¥é‚£äº›å·²å…¥é˜Ÿåˆ—ä½†å°šæœªå†™å…¥çš„æ•°æ®ï¼Œ    ä½†å°†åœ¨æ­¤æ–¹æ³•å®Œæˆæ—¶é©¬ä¸Šå…³é—­ã€‚    å¦‚æœqè¢«åƒåœ¾æ”¶é›†ï¼Œå°†è‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•ã€‚    å…³é—­é˜Ÿåˆ—ä¸ä¼šåœ¨é˜Ÿåˆ—ä½¿ç”¨è€…ä¸­ç”Ÿæˆä»»ä½•ç±»å‹çš„æ•°æ®ç»“æŸä¿¡å·æˆ–å¼‚å¸¸ã€‚    ä¾‹å¦‚ï¼Œå¦‚æœæŸä¸ªä½¿ç”¨è€…æ­£è¢«é˜»å¡åœ¨getï¼ˆï¼‰æ“ä½œä¸Šï¼Œ    å…³é—­ç”Ÿäº§è€…ä¸­çš„é˜Ÿåˆ—ä¸ä¼šå¯¼è‡´getï¼ˆï¼‰æ–¹æ³•è¿”å›é”™è¯¯ã€‚    """</span>q<span class="token punctuation">.</span>cancel_join_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    ä¸ä¼šå†è¿›ç¨‹é€€å‡ºæ—¶è‡ªåŠ¨è¿æ¥åå°çº¿ç¨‹ã€‚    è¿™å¯ä»¥é˜²æ­¢join_thread()æ–¹æ³•é˜»å¡ã€‚    """</span>q<span class="token punctuation">.</span>join_thread<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    è¿æ¥é˜Ÿåˆ—çš„åå°çº¿ç¨‹ã€‚    æ­¤æ–¹æ³•ç”¨äºåœ¨è°ƒç”¨q.close()æ–¹æ³•åï¼Œ    ç­‰å¾…æ‰€æœ‰é˜Ÿåˆ—é¡¹è¢«æ¶ˆè€—ã€‚    é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤æ–¹æ³•ç”±ä¸æ˜¯qçš„åŸå§‹åˆ›å»ºè€…çš„æ‰€æœ‰è¿›ç¨‹è°ƒç”¨ã€‚    è°ƒç”¨q.cancel_join_thread()æ–¹æ³•å¯ä»¥ç¦æ­¢è¿™ç§è¡Œä¸ºã€‚    """</span></code></pre></details><!-- <br/> --><blockquote><p>æ³¨ï¼š<br>1.åº•å±‚é˜Ÿåˆ—ä½¿ç”¨ç®¡é“å’Œé”å®šå®ç°<br>2.<code>q.put()</code>å’Œ<code>q.get()</code>æ˜¯ä¸¤ä¸ªé˜»å¡æ–¹æ³•<br>3.<code>q.put_nowait()</code>å’Œ<code>q.get_nowait()</code>æ˜¯ä¸¤ä¸ªéé˜»å¡æ–¹æ³•ï¼Œæ•…ä¸€å®šè¦åšå¼‚å¸¸å¤„ç†ï¼ï¼ï¼<br>4.ä¸¤ä¸ªè¿›ç¨‹çš„ Queue å¹¶ä¸æ˜¯åŒä¸€ä¸ªï¼Œè€Œæ˜¯å°†æ•°æ® pickle åä¼ ç»™å¦ä¸€ä¸ªè¿›ç¨‹çš„ Queue<br>5.Queueç”¨äºçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æˆ–åŒä¸€çˆ¶è¿›ç¨‹çš„å­è¿›ç¨‹ä¹‹é—´é€šä¿¡</p></blockquote><p><a id="Queue examp"><font color="black"></font></a></p><h4><a id="Queue examp"><font color="black">Queueç±»å®ä¾‹</font></a></h4><p></p><ul><li><a id="Queue0">Queueå¤šä¸ªè¿›ç¨‹é—´é€šä¿¡</a></li></ul><p>Queueå®ç°ä¸€æ–¹å‘é€å¤šæ–¹æ¥æ”¶</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> time<span class="token punctuation">,</span> random<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token punctuation">,</span> Queue<span class="token keyword">def</span> <span class="token function">proc_put</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> data<span class="token punctuation">,</span> proc_name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> dat <span class="token keyword">in</span> data<span class="token punctuation">:</span>  <span class="token comment"># æ•°æ®å‘é€å®Œå°±è·³å‡º</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            q<span class="token punctuation">.</span>put_nowait<span class="token punctuation">(</span>dat<span class="token punctuation">)</span>  <span class="token comment"># æ•°æ®å…¥é˜Ÿ</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>proc_name<span class="token punctuation">}</span></span><span class="token string">æ–¹å‘é€æ•°æ®</span><span class="token interpolation"><span class="token punctuation">{</span>dat<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"é˜Ÿåˆ—æ»¡äº†ï¼"</span></span><span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">proc_get</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> proc_name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> q<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># æ•°æ®æ¥æ”¶å®Œ(æ²¡æœ‰æ•°æ®)å°±è·³å‡º</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            dat <span class="token operator">=</span> q<span class="token punctuation">.</span>get_nowait<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æ•°æ®å‡ºé˜Ÿ</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>proc_name<span class="token punctuation">}</span></span><span class="token string">æ–¹æ¥æ”¶æ•°æ®</span><span class="token interpolation"><span class="token punctuation">{</span>dat<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>        <span class="token keyword">except</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"é˜Ÿåˆ—ç©ºäº†ï¼"</span></span><span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    q <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>    data <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    proc_send1 <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>proc_put<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token string">"process send1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    proc_recv1 <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>proc_get<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token string">"process recv1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    proc_recv2 <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>proc_get<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token string">"process recv2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    proc_send1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc_recv1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc_recv2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc_send1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc_recv1<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc_recv2<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><hr><h3 id="multiprocessing-JoinableQueue-ç±»"><a href="#multiprocessing-JoinableQueue-ç±»" class="headerlink" title="multiprocessing.JoinableQueue ç±»"></a><code>multiprocessing.JoinableQueue</code> ç±»</h3><p>å¯è¿æ¥çš„å…±äº«è¿›ç¨‹é˜Ÿåˆ—</p><ul><li>outline<ul><li><strong><a href="#JQ intro">JoinableQueueç±»ä»‹ç»</a></strong></li><li><strong><a href="#JQ examp">JoinableQueueç±»å®ä¾‹</a></strong></li></ul></li></ul><p><a id="JQ intro"><font color="black"></font></a></p><h4><a id="JQ intro"><font color="black">JoinableQueueç±»ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">JoinableQueue</span><span class="token punctuation">{</span>maxsize<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span>  <span class="token comment"># é˜Ÿåˆ—ä¸­å…è®¸çš„æœ€å¤§é¡¹æ•°ï¼Œå¿½ç•¥/é»˜è®¤æ— å¤§å°é™åˆ¶</span></code></pre><p><font color="grey">JoinableQueueçš„å®ä¾‹pé™¤äº†ä¸Queueå¯¹è±¡ç›¸åŒçš„æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å…·æœ‰ä»¥ä¸‹æ–¹æ³•</font></p><details><summary>JoinableQueueç±»æ–¹æ³•(ç•¥)</summary><pre class="language-python" data-language="python"><code class="language-python">q<span class="token punctuation">.</span>task_done<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># å‘å‡ºä¿¡å·è¡¨ç¤ºq.get()è¿”å›çš„é¡¹ç›®å·²ç»è¢«å¤„ç†</span>q<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># é˜»å¡ç›´åˆ°é˜Ÿåˆ—æ‰€æœ‰é¡¹ç›®è¢«å¤„ç†ä¸ºæ­¢ï¼Œå³æ‰€æœ‰é¡¹ç›®è¢«è°ƒç”¨q.task_done()ä¸ºæ­¢</span></code></pre><p><font>è¯´ç™½äº†ï¼Œ<code>q.task_done()</code>å°±æ˜¯å‘Šè¯‰ os å·²ç»å®Œæˆè¿™ä¸€æ¬¡çš„<code>q.get()</code>äº†ï¼Œ<code>q.join()</code>å‘Šè¯‰ osï¼šQueueå·²ç»å–å®Œã€æ²¡æœ‰å…ƒç´ äº†ï¼Œå¹¶ä¸”ç­‰å¾…ç»“æŸã€‚</font></p></details><details><summary>JoinableQueueç±»æ–¹æ³•(è¯¦)</summary><pre class="language-python" data-language="python"><code class="language-python">q<span class="token punctuation">.</span>task_done<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    ä½¿ç”¨è€…ä½¿ç”¨æ­¤æ–¹æ³•å‘å‡ºä¿¡å·ï¼Œè¡¨ç¤ºq.get()è¿”å›çš„é¡¹ç›®å·²ç»è¢«å¤„ç†ã€‚    å¦‚æœè°ƒç”¨æ­¤æ–¹æ³•çš„æ¬¡æ•°å¤§äºä»é˜Ÿåˆ—ä¸­åˆ é™¤çš„é¡¹ç›®æ•°é‡ï¼Œå°†å¼•å‘ValueErrorå¼‚å¸¸ã€‚    """</span>q<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    ç”Ÿäº§è€…å°†ä½¿ç”¨æ­¤æ–¹æ³•è¿›è¡Œé˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æ‰€æœ‰é¡¹ç›®å‡è¢«å¤„ç†ã€‚    é˜»å¡å°†æŒç»­åˆ°ä¸ºé˜Ÿåˆ—ä¸­çš„æ¯ä¸ªé¡¹ç›®å‡è°ƒç”¨q.task_done()æ–¹æ³•ä¸ºæ­¢ã€‚     """</span></code></pre></details><p><a id="JQ examp"><font color="black"></font></a></p><h4><a id="JQ examp"><font color="black">JoinableQueueç±»å®ä¾‹</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token punctuation">,</span> random<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token punctuation">,</span> JoinableQueue<span class="token keyword">def</span> <span class="token function">consumer</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        food <span class="token operator">=</span> q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%såƒäº†ä¸€ä¸ª%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> food<span class="token punctuation">)</span><span class="token punctuation">)</span>        q<span class="token punctuation">.</span>task_done<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># é€šçŸ¥é˜Ÿåˆ—å·²ç»æœ‰ä¸€ä¸ªæ•°æ®è¢«å¤„ç†äº†</span><span class="token keyword">def</span> <span class="token function">producer</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> name<span class="token punctuation">,</span> food<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%sç”Ÿäº§äº†%s%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> food<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>food <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    q <span class="token operator">=</span> JoinableQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc_con <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>consumer<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token string">'con'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    proc_prod <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>producer<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token string">'pro'</span><span class="token punctuation">,</span> <span class="token string">'é¦’å¤´'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    proc_con<span class="token punctuation">.</span>daemon <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># è®¾ç½®å®ˆæŠ¤è¿›ç¨‹ï¼Œå¦åˆ™æ°¸è¿œè¿è¡Œï¼Œjoin()ä¹Ÿæ²¡ç”¨</span>    proc_con<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc_prod<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># proc_con.join()        # ä¸è¦ä½¿ç”¨join()ï¼Œå¦åˆ™æ°¸è¿œè¿è¡Œ</span>    proc_prod<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment"># ç”Ÿäº§è€…è¦å…ˆæŠŠæ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åˆ°é˜Ÿåˆ—ä¸­</span>    q<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>                 <span class="token comment"># é˜»å¡ç›´åˆ°æ”¾å…¥é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„æ•°æ®éƒ½è¢«å¤„ç†æ‰(æœ‰å¤šå°‘ä¸ªæ•°æ®å°±æ¥æ”¶åˆ°äº†å¤šå°‘task_done)</span></code></pre><hr><h2 id="è¿›ç¨‹é—´çš„æ•°æ®å…±äº«"><a href="#è¿›ç¨‹é—´çš„æ•°æ®å…±äº«" class="headerlink" title="è¿›ç¨‹é—´çš„æ•°æ®å…±äº«"></a>è¿›ç¨‹é—´çš„æ•°æ®å…±äº«</h2><h3 id="multiprocessing-Value-æ–¹æ³•"><a href="#multiprocessing-Value-æ–¹æ³•" class="headerlink" title="multiprocessing.Value æ–¹æ³•"></a><code>multiprocessing.Value</code> æ–¹æ³•</h3><h3 id="multiprocessing-Array-æ–¹æ³•"><a href="#multiprocessing-Array-æ–¹æ³•" class="headerlink" title="multiprocessing.Array æ–¹æ³•"></a><code>multiprocessing.Array</code> æ–¹æ³•</h3><p><code>Value</code>å’Œ<code>Array</code>å·®ä¸å¤šï¼ˆ<code>Value</code>å’Œ<code>Array</code>åˆ†åˆ«ç›¸å½“äºæ•°å’Œæ•°ç»„ï¼‰ï¼Œå°±æ”¾åœ¨ä¸€èµ·äº†ï¼Œå®ƒä»¬éƒ½æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨<font color="red">å…±äº«å†…å­˜</font>æ˜ å°„ä¸­ã€‚</p><p>åœ¨è¿›è¡Œå¹¶å‘ç¼–ç¨‹æ—¶ï¼Œé€šå¸¸æœ€å¥½å°½é‡é¿å…ä½¿ç”¨å…±äº«çŠ¶æ€ã€‚ä½¿ç”¨å¤šä¸ªè¿›ç¨‹æ—¶å°¤å…¶å¦‚æ­¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ çœŸçš„éœ€è¦ä½¿ç”¨ä¸€äº›å…±äº«æ•°æ®ï¼Œé‚£ä¹ˆ <code>multiprocessing</code>æä¾›äº†ä¸¤ç§æ–¹æ³•ï¼š<code>Value</code>å’Œ<code>Array</code>ã€‚</p><blockquote><p><code>Value</code>å’Œ<code>Array</code>æ˜¯<font color="red">çº¿ç¨‹ä¸å®‰å…¨</font>çš„ï¼Œæ‰€ä»¥ä»¥ä¸‹å†…å®¹äº†è§£å³å¯ï¼Œå› æ­¤å»ºè®®ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„<code>Manager().Value</code>å’Œ<code>Manager().Array</code>ã€‚</p></blockquote><ul><li>outline<ul><li><strong><a href="#VA intro"><code>Value</code>å’Œ<code>Array</code>æ–¹æ³•ä»‹ç»</a></strong></li><li><strong><a href="#VA examp"><code>Value</code>å’Œ<code>Array</code>æ–¹æ³•å®ä¾‹</a></strong></li></ul></li></ul><p><a id="VA intro"><font color="black"></font></a></p><h4><a id="VA intro"><font color="black"><code>Value</code>å’Œ<code>Array</code>æ–¹æ³•ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">Value</span><span class="token punctuation">(</span>typecode_or_type<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> lock<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">Array</span><span class="token punctuation">(</span>typecode_or_type<span class="token punctuation">,</span> size_or_initializer<span class="token punctuation">,</span> lock<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å‚æ•°ï¼š        typecode_or_typeï¼šè¿”å› ctypes å¯¹è±¡çš„ç±»å‹        *argsï¼šä¼ é€’ç»™ ctypes çš„æ„é€ å‚æ•°        size_or_initializerï¼šæ•°ç»„çš„é•¿åº¦æˆ–è€…åˆå§‹åŒ–æ•°ç»„çš„åºåˆ—        lockï¼šæ˜¯å¦åŠ é”    è¿”å›ï¼š        ä»¥ä¸Šæ–¹æ³•è¿”å›ä»å…±äº«å†…å­˜ä¸­åˆ†é…çš„ä¸€ä¸ª ctypes å¯¹è±¡    è¯´æ˜ï¼š        1.size_or_initializerï¼šå¦‚æœå®ƒæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆå®ƒç¡®å®šæ•°ç»„çš„é•¿åº¦ï¼Œå¹¶ä¸”æ•°ç»„å°†è¢«åˆå§‹åŒ–ä¸ºé›¶ã€‚        å¦åˆ™ï¼Œsize_or_initializeræ˜¯ç”¨äºåˆå§‹åŒ–æ•°ç»„çš„åºåˆ—ï¼Œå…¶é•¿åº¦å†³å®šæ•°ç»„çš„é•¿åº¦ã€‚                2. ctypes æ˜¯ Python çš„ä¸€ä¸ªå¤–éƒ¨å‡½æ•°åº“ï¼Œå®ƒæä¾›äº†å’ŒCè¯­è¨€å…¼ä»»çš„æ•°æ®ç±»å‹ï¼Œ        å¯ä»¥è°ƒç”¨ DLLs æˆ–è€…å…±äº«åº“çš„å‡½æ•°ï¼Œèƒ½è¢«ç”¨ä½œåœ¨ python ä¸­åŒ…è£¹è¿™äº›åº“ã€‚    ä¾‹å¦‚ï¼š        i = Value('i', 1)        d = Value('d', 1)        c = Value('c', '0')    """</span></code></pre><p><code>'d'</code>å’Œ<code>'i'</code>å‚æ•°æ˜¯<code>array</code>æ¨¡å—ä½¿ç”¨çš„ç±»å‹çš„<code>typecode</code>ã€‚<code>'d'</code>è¡¨ç¤ºåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œ<code>'i'</code>è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚<font color="red">è¿™äº›å…±äº«å¯¹è±¡å°†æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹å®‰å…¨çš„ã€‚</font></p><p>ä¸ºäº†æ›´çµæ´»åœ°ä½¿ç”¨å…±äº«å†…å­˜ï¼Œå¯ä»¥ä½¿ç”¨<code>multiprocessing.sharedctypes</code>æ¨¡å—ï¼Œè¯¥æ¨¡å—æ”¯æŒåˆ›å»ºä»å…±äº«å†…å­˜åˆ†é…çš„ä»»æ„ctypeså¯¹è±¡ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo Valueå±æ€§</span>v <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>v<span class="token punctuation">.</span>value</code></pre><ul><li><strong>å…±äº«æ•´æ•°æˆ–è€…å•ä¸ªå­—ç¬¦</strong></li></ul><p>å…±äº«æ•´æ•°æˆ–è€…å•ä¸ªå­—ç¬¦çš„åˆå§‹åŒ–æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥åœ¨ä¸‹é¢çš„<font color="red">codeæ˜ å°„è¡¨</font>æ‰¾åˆ°å¯¹åº”å…³ç³»ã€‚</p><img src="/2022/03/09/python-jin-cheng/pythonè¿›ç¨‹-Value-Type_code.png" width="800"><p><code>Value</code>åˆå§‹åŒ–æ•´æ•°ã€å­—ç¬¦ä¾‹å­ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Valuei <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>c <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></code></pre><ul><li><strong>å…±äº«å­—ç¬¦ä¸²</strong></li></ul><p>å¦‚æœå…±äº«çš„æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™åœ¨ä¸Šè¡¨æ˜¯æ‰¾ä¸åˆ°æ˜ å°„å…³ç³»çš„ï¼Œå°±æ˜¯æ²¡æœ‰codeå¯ç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨åŸå§‹çš„ctypeç±»å‹ï¼š<font color="red">ctypeç±»å‹å¯¹åº”è¡¨</font>ã€‚</p><img src="/2022/03/09/python-jin-cheng/pythonè¿›ç¨‹-Value-ctypes_type.png" width="830"><p><code>Value</code>åˆå§‹åŒ–å­—ç¬¦ä¸²ä¾‹å­ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> ctypes <span class="token keyword">import</span> c_char_p<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Value<span class="token punctuation">,</span> Manager<span class="token comment"># ss = Value(c_char_p, 'hello')  # è¿™é‡Œåœ¨æˆ‘çš„ç¯å¢ƒä¼šæŠ¥é”™ï¼Œä½¿ç”¨ä¸‹é¢çš„Manageråˆ™ä¸ä¼š</span>ss <span class="token operator">=</span> Manager<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Value<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_char_p<span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span></code></pre><p><a id="VA intro"><font color="black"></font></a></p><h4><a id="VA intro"><font color="black"><code>Value</code>å’Œ<code>Array</code>æ–¹æ³•å®ä¾‹</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token punctuation">,</span> Value<span class="token punctuation">,</span> Array<span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>    n<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">3.1415927</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span>    arr <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    p <span class="token operator">=</span> Process<span class="token punctuation">(</span>target<span class="token operator">=</span>f<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span>    p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span>value<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><hr><h3 id="multiprocessing-Manager-æ–¹æ³•"><a href="#multiprocessing-Manager-æ–¹æ³•" class="headerlink" title="multiprocessing.Manager æ–¹æ³•"></a><code>multiprocessing.Manager</code> æ–¹æ³•</h3><p><code>Manager</code>æ˜¯é€šè¿‡å…±äº«è¿›ç¨‹çš„æ–¹å¼<font color="red">å…±äº«æ•°æ®</font>ã€‚<font color="grey">ç®€å•æ¥è¯´å°±æ˜¯ï¼Œè™½ç„¶è¿›ç¨‹é—´çš„æ•°æ®ä¸å…±äº«ï¼Œä½†æ˜¯ä¸€ä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡<code>Manager</code>ä¿®æ”¹å…¶ä»–è¿›ç¨‹çš„æ•°æ®ã€‚</font></p><p><code>Manager</code>ç®¡ç†çš„å…±äº«æ•°æ®ç±»å‹æœ‰ï¼š<code>Value</code>ã€<code>Array</code>ã€<code>dict</code>ã€<code>list</code>ã€<code>Lock</code>ã€<code>Semaphore</code>ç­‰ç­‰ï¼ŒåŒæ—¶<code>Manager</code>è¿˜å¯ä»¥å…±äº«ç±»çš„å®ä¾‹å¯¹è±¡ã€‚</p><p><code>Manager</code>ä¸éœ€è¦åŠ é”ï¼Œå› ä¸º<code>Manager</code>å·²ç»é»˜è®¤ç»™ä½ åŠ é”äº†ã€‚</p><ul><li>outline<ul><li><strong><a href="#Manager intro"><code>Manager</code>æ–¹æ³•ä»‹ç»</a></strong></li><li><strong><a href="#Manager examp"><code>Manager</code>æ–¹æ³•å®ä¾‹</a></strong></li></ul></li></ul><p><a id="Manager intro"><font color="black"></font></a></p><h4><a id="Manager intro"><font color="black">Manageræ–¹æ³•ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python">manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># å®ä¾‹åŒ–Managerå¯¹è±¡</span>manager<span class="token punctuation">.</span>Value<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment"># </span>manager<span class="token punctuation">.</span>Array<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment"># </span>manager<span class="token punctuation">.</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># </span>manager<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># </span>manager<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># </span>manager<span class="token punctuation">.</span>Semaphore<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># </span></code></pre><p><a id="Manager examp"><font color="black"></font></a></p><h4><a id="Manager examp"><font color="black">Manageræ–¹æ³•å®ä¾‹</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Process<span class="token punctuation">,</span> Manager<span class="token keyword">def</span> <span class="token function">func1</span><span class="token punctuation">(</span>shareList<span class="token punctuation">,</span> shareValue<span class="token punctuation">,</span> shareDict<span class="token punctuation">,</span> lock<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">with</span> lock<span class="token punctuation">:</span>        shareValue<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>        shareDict<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span>        shareDict<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'2'</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>shareList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            shareList<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span><span class="token punctuation">)</span>    list1   <span class="token operator">=</span> manager<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    value1  <span class="token operator">=</span> manager<span class="token punctuation">.</span>Value<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>    dict1   <span class="token operator">=</span> manager<span class="token punctuation">.</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    lock1   <span class="token operator">=</span> manager<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>    proc <span class="token operator">=</span> <span class="token punctuation">[</span>        Process<span class="token punctuation">(</span>            target<span class="token operator">=</span>func1<span class="token punctuation">,</span>            args<span class="token operator">=</span><span class="token punctuation">(</span>list1<span class="token punctuation">,</span> value1<span class="token punctuation">,</span> dict1<span class="token punctuation">,</span> lock1<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>    <span class="token punctuation">]</span>    <span class="token keyword">for</span> p <span class="token keyword">in</span> proc<span class="token punctuation">:</span>        p<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> p <span class="token keyword">in</span> proc<span class="token punctuation">:</span>        p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>value1<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>dict1<span class="token punctuation">)</span>    array1 <span class="token operator">=</span> manager<span class="token punctuation">.</span>Array<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>array1<span class="token punctuation">)</span></code></pre><p>è¿è¡Œç»“æœï¼š</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span><span class="token number">21</span>, <span class="token number">22</span>, <span class="token number">23</span>, <span class="token number">24</span>, <span class="token number">25</span><span class="token punctuation">]</span>Value<span class="token punctuation">(</span><span class="token string">'i'</span>, <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">1</span>: <span class="token string">'1'</span>, <span class="token number">2</span>: <span class="token string">'2'</span><span class="token punctuation">}</span>array<span class="token punctuation">(</span><span class="token string">'i'</span>, <span class="token punctuation">[</span><span class="token number">0</span>, <span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span>, <span class="token number">5</span>, <span class="token number">6</span>, <span class="token number">7</span>, <span class="token number">8</span>, <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><hr><h2 id="è¿›ç¨‹æ± "><a href="#è¿›ç¨‹æ± " class="headerlink" title="è¿›ç¨‹æ± "></a>è¿›ç¨‹æ± </h2><h3 id="multiprocessing-Pool-æ–¹æ³•"><a href="#multiprocessing-Pool-æ–¹æ³•" class="headerlink" title="multiprocessing.Pool æ–¹æ³•"></a><code>multiprocessing.Pool</code> æ–¹æ³•</h3><ul><li>outline<ul><li><strong><a href="#Pool intro">Poolæ–¹æ³•ä»‹ç»</a></strong></li><li><strong><a href="#Pool examp">Poolæ–¹æ³•å®ä¾‹</a></strong><ul><li><strong><a href="#Pool0">ä½¿ç”¨å¤šçº¿ç¨‹-åº”ç”¨apply</a></strong></li><li><strong><a href="#Pool1">ä½¿ç”¨å¤šçº¿ç¨‹-æ˜ å°„map</a></strong></li></ul></li></ul></li></ul><p><a id="Pool intro"><font color="black"></font></a></p><h4><a id="Pool intro"><font color="black">Poolæ–¹æ³•ä»‹ç»</font></a></h4><p></p><p>Poolå¯ä»¥æä¾›æŒ‡å®šæ•°é‡çš„è¿›ç¨‹ï¼Œä¾›ç”¨æˆ·è°ƒç”¨ï¼Œå½“æœ‰æ–°çš„è¯·æ±‚æäº¤åˆ°Poolä¸­æ—¶ï¼Œå¦‚æœæ± è¿˜æ²¡æœ‰æ»¡ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ç”¨æ¥æ‰§è¡Œè¯¥è¯·æ±‚ï¼›ä½†å¦‚æœæ± ä¸­çš„è¿›ç¨‹æ•°å·²ç»è¾¾åˆ°è§„å®šæœ€å¤§å€¼ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚å°±ä¼šç­‰å¾…ï¼Œç›´åˆ°æ± ä¸­æœ‰è¿›ç¨‹ç»“æŸï¼Œæ‰ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹æ¥å®ƒã€‚</p><details><summary>Poolæ–¹æ³•(ç•¥)</summary><pre class="language-python" data-language="python"><code class="language-python">p<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> args<span class="token punctuation">,</span> kwds<span class="token punctuation">)</span>                  <span class="token comment"># é˜»å¡</span>p<span class="token punctuation">.</span>apply_async<span class="token punctuation">(</span>func<span class="token punctuation">,</span> args<span class="token punctuation">,</span> kwds<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>  <span class="token comment"># éé˜»å¡</span>p<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>                                  <span class="token comment"># å…³é—­pool</span>p<span class="token punctuation">.</span>terminate<span class="token punctuation">(</span><span class="token punctuation">)</span>                              <span class="token comment"># ç»“æŸå·¥ä½œè¿›ç¨‹</span>p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>                                   <span class="token comment"># ä¸»è¿›ç¨‹é˜»å¡ï¼Œç­‰å¾…å­è¿›ç¨‹çš„é€€å‡º</span></code></pre></details><details><summary>Poolæ–¹æ³•(è¯¦)</summary><pre class="language-python" data-language="python"><code class="language-python">p<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> args<span class="token punctuation">,</span> kwds<span class="token punctuation">)</span>                  <span class="token comment"># é˜»å¡</span>p<span class="token punctuation">.</span>apply_async<span class="token punctuation">(</span>func<span class="token punctuation">,</span> args<span class="token punctuation">,</span> kwds<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>  <span class="token comment"># å¼‚æ­¥éé˜»å¡</span>p<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>                                  <span class="token comment"># å…³é—­poolï¼Œä¸å†æ¥å—æ–°çš„ä»»åŠ¡</span>p<span class="token punctuation">.</span>terminate<span class="token punctuation">(</span><span class="token punctuation">)</span>                              <span class="token comment"># ç»“æŸå·¥ä½œè¿›ç¨‹ï¼Œä¸å†å¤„ç†æœªå®Œæˆçš„ä»»åŠ¡</span>p<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>                                   <span class="token comment"># ä¸»è¿›ç¨‹é˜»å¡ï¼Œç­‰å¾…å­è¿›ç¨‹çš„é€€å‡º</span><span class="token number">1</span> æ–¹æ³•apply_async<span class="token punctuation">(</span><span class="token punctuation">)</span>å’Œmap_async<span class="token punctuation">(</span><span class="token punctuation">)</span>çš„è¿”å›å€¼æ˜¯AsyncResulçš„å®ä¾‹objã€‚å®ä¾‹å…·æœ‰ä»¥ä¸‹æ–¹æ³•<span class="token number">2</span> obj<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>è¿”å›ç»“æœï¼Œå¦‚æœæœ‰å¿…è¦åˆ™ç­‰å¾…ç»“æœåˆ°è¾¾ã€‚timeoutæ˜¯å¯é€‰çš„ã€‚å¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…è¿˜æ²¡æœ‰åˆ°è¾¾ï¼Œå°†å¼•å‘ä¸€åœºã€‚å¦‚æœè¿œç¨‹æ“ä½œä¸­å¼•å‘äº†å¼‚å¸¸ï¼Œå®ƒå°†åœ¨è°ƒç”¨æ­¤æ–¹æ³•æ—¶å†æ¬¡è¢«å¼•å‘ã€‚<span class="token number">3</span> obj<span class="token punctuation">.</span>ready<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>å¦‚æœè°ƒç”¨å®Œæˆï¼Œè¿”å›<span class="token boolean">True</span><span class="token number">4</span> obj<span class="token punctuation">.</span>successful<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>å¦‚æœè°ƒç”¨å®Œæˆä¸”æ²¡æœ‰å¼•å‘å¼‚å¸¸ï¼Œè¿”å›<span class="token boolean">True</span>ï¼Œå¦‚æœåœ¨ç»“æœå°±ç»ªä¹‹å‰è°ƒç”¨æ­¤æ–¹æ³•ï¼Œå¼•å‘å¼‚å¸¸<span class="token number">5</span> obj<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">[</span>timeout<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>ç­‰å¾…ç»“æœå˜ä¸ºå¯ç”¨ã€‚<span class="token number">6</span> obj<span class="token punctuation">.</span>terminate<span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šç«‹å³ç»ˆæ­¢æ‰€æœ‰å·¥ä½œè¿›ç¨‹ï¼ŒåŒæ—¶ä¸æ‰§è¡Œä»»ä½•æ¸…ç†æˆ–ç»“æŸä»»ä½•æŒ‚èµ·å·¥ä½œã€‚å¦‚æœpè¢«åƒåœ¾å›æ”¶ï¼Œå°†è‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°</code></pre></details><p><a id="Pool examp"><font color="black"></font></a></p><h4><a id="Pool examp"><font color="black">Poolæ–¹æ³•å®ä¾‹</font></a></h4><p></p><ul><li><a id="Pool0">ä½¿ç”¨å¤šçº¿ç¨‹-åº”ç”¨apply</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Pool<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"msg: "</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"func end"</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    pool <span class="token operator">=</span> Pool<span class="token punctuation">(</span>processes<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        msg <span class="token operator">=</span> <span class="token string">"hello world{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token comment"># pool.apply(func=func, args=(msg, ))        # é˜»å¡ï¼</span>        pool<span class="token punctuation">.</span>apply_async<span class="token punctuation">(</span>func<span class="token operator">=</span>func<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># éé˜»å¡ï¼</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"close......"</span><span class="token punctuation">)</span>    pool<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    pool<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"done......"</span><span class="token punctuation">)</span></code></pre><blockquote><p>æ³¨ï¼š<br>1.è°ƒç”¨joinä¹‹å‰ï¼Œå…ˆè°ƒç”¨closeæˆ–è€…å‡½æ•°terminateï¼Œå¦åˆ™ä¼šå‡ºé”™<br>2.æ‰§è¡Œå®Œcloseåä¸ä¼šæœ‰æ–°çš„è¿›ç¨‹åŠ å…¥åˆ°pool,joinå‡½æ•°ç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹ç»“</p></blockquote><ul><li><a id="Pool1">ä½¿ç”¨å¤šçº¿ç¨‹-æ˜ å°„map</a></li></ul><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Pool<span class="token keyword">def</span> <span class="token function">task</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'num:%d; PID:%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>num<span class="token punctuation">,</span> os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> num<span class="token operator">**</span><span class="token number">2</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    p <span class="token operator">=</span> Pool<span class="token punctuation">(</span><span class="token punctuation">)</span>    p<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># é˜»å¡</span>    <span class="token comment"># p.map_async(task, range(20))  # å¼‚æ­¥éé˜»å¡</span></code></pre><blockquote><p><code>map()</code>å’Œ<code>map_async()</code>å‚æ•°ä¸ºè¿­ä»£å™¨ç±»å‹</p></blockquote><hr><h2 id="åˆ†å¸ƒå¼è¿›ç¨‹"><a href="#åˆ†å¸ƒå¼è¿›ç¨‹" class="headerlink" title="åˆ†å¸ƒå¼è¿›ç¨‹"></a>åˆ†å¸ƒå¼è¿›ç¨‹</h2><p>åˆ†å¸ƒå¼è¿›ç¨‹ï¼šå°†Processè¿›ç¨‹åˆ†å¸ƒåˆ°å¤šå°æœºå™¨ä¸Šï¼Œå……åˆ†åˆ©ç”¨å¤šæ€æœºå™¨çš„æ€§èƒ½å®Œæˆå¤æ‚çš„ä»»åŠ¡ã€‚é€šå¸¸ä¼šæœ‰ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ä½œä¸ºè°ƒåº¦è€…ï¼Œå°†ä»»åŠ¡åˆ†å¸ƒåˆ°å…¶ä»–å¤šä¸ªè¿›ç¨‹ä¸­ï¼Œä¾é ç½‘ç»œé€šä¿¡è¿›è¡Œç®¡ç†ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šä½¿ç”¨å¤šè¿›ç¨‹åšçˆ¬è™«ç¨‹åºæ—¶ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸¤ä¸ªè¿›ç¨‹ã€‚ä¸€ä¸ªè¿›ç¨‹è´Ÿè´£æŠ“å–é“¾æ¥åœ°å€ï¼Œå°†é“¾æ¥åœ°å€æ”¾åˆ°queueä¸­ï¼›å¦ä¸€ä¸ªè¿›ç¨‹è´Ÿè´£ä»queueä¸­å–é“¾æ¥åœ°å€è¿›è¡Œä¸‹è½½å’Œå­˜å‚¨åˆ°æœ¬åœ°ã€‚å…¶ä¸­ï¼Œqueueéœ€è¦æš´éœ²åˆ°è¿›ç¨‹é€šä¿¡çš„ç½‘ç»œä¸­ã€‚</p><p>åˆ›å»ºåˆ†å¸ƒå¼è¿›ç¨‹çš„<font color="red">å¤§è‡´æ­¥éª¤</font>ï¼ˆå…·ä½“éœ€æ±‚ä¸åŒä¼šæœ‰å·®å¼‚ï¼‰ï¼š</p><ul><li><strong>STEP1</strong>ï¼šå®ä¾‹åŒ–Queueå¯¹è±¡</li></ul><p>å¾—æœ‰ä¸ªé˜Ÿåˆ—Queueæ¥å­˜å‚¨ä»»åŠ¡/æ•°æ®ï¼Œç”¨äºä¸åŒè¿›ç¨‹çš„é€šä¿¡ã€‚<br><font color="orange">ä»£ç </font>ï¼š<code>queue = queue.Queue()</code></p><ul><li><strong>STEP2</strong>ï¼šæ³¨å†ŒQueueå¯¹è±¡</li></ul><p>åœ¨å®ä¾‹åŒ–Queueå¯¹è±¡åï¼Œè¿˜éœ€è¦æŠŠQueueå¯¹è±¡æš´éœ²åœ¨é€šä¿¡ç½‘ç»œä¸­æ‰èƒ½ä½¿ç”¨ã€‚æœåŠ¡ç«¯éœ€è¦æ³¨å†Œå¯¹è±¡åŠå…¶æ–¹æ³•ï¼Œè€Œå®¢æˆ·ç«¯ åªéœ€è¦æ³¨å†Œæ–¹æ³•ï¼Œä¸éœ€è¦æ³¨å†Œå¯¹è±¡ã€‚<br><font color="orange">ä»£ç </font>ï¼š<br>æœåŠ¡ç«¯ï¼š<code>BaseManager.register("get_queue", callable=lambda: queue)</code><br>å®¢æˆ·ç«¯ï¼š<code>BaseManager.register("get_queue")</code></p><ul><li><strong>STEP3</strong>ï¼šå®ä¾‹åŒ–Managerå¯¹è±¡</li></ul><p>ä¸ºäº†å®ç°ä¸åŒè¿›ç¨‹/ä¸»æœºé—´çš„é€šä¿¡ï¼Œå¾—ç»‘å®šåœ°å€ã€ç«¯å£å’ŒéªŒè¯å£ä»¤ã€‚<br><font color="orange">ä»£ç </font>ï¼š<code>manager = BaseManager(address=('127.0.0.1', 8001), authkey=b'pwword')</code></p><ul><li><strong>STEP3.5</strong>ï¼šå†»ç»“æ”¯æŒ</li></ul><p>ç”±äºpythonåœ¨ä½¿ç”¨Manageræ—¶ä¼šå‡ºç°ä¸€äº› bugï¼Œéœ€è¦åœ¨<code>mari()</code>é‡Œé¢ä½¿ç”¨å†»ç»“æ”¯æŒå‡½æ•°ï¼Œä¹‹åæ‰èƒ½æ­£å¸¸è¿›è¡Œå¼€å¯æœåŠ¡ã€è¿æ¥æœåŠ¡ç­‰æ“ä½œã€‚ï¼ˆä¸Šé¢æœ‰è®²ï¼Œå¿˜è®°çš„è¯å¯ä»¥ç¿»ä¸Šå»çœ‹ä¸€ä¸‹ï¼‰<br><font color="orange">ä»£ç </font>ï¼š<code>freeze_support()</code></p><ul><li><strong>STEP4</strong>ï¼šæœåŠ¡ç«¯å¼€å¯ï¼Œå®¢æˆ·ç«¯è¿æ¥</li></ul><p>æœåŠ¡å™¨å¼€å¯æœåŠ¡ æˆ–è€… å¯åŠ¨ç®¡ç†ã€ç›‘å¬ä¿¡é“ï¼›å®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯ã€‚<br><font color="orange">ä»£ç </font>ï¼š</p><ol><li>æœåŠ¡å™¨å¯åŠ¨ç®¡ç†ï¼š<code>manager.start()</code></li><li>æœåŠ¡å™¨å¼€å¯æœåŠ¡ï¼š<br>ã€€ã€€å…ˆè·å–æœåŠ¡å™¨å¯¹è±¡<code>server = manager.get_server()</code><br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ç„¶åæ°¸ä¹…å¼€å¯æœåŠ¡ï¼š<code>server.serve_forever()</code></li><li>å®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯ï¼š<code>manager.connect()</code></li></ol><ul><li><strong>STEP5</strong>ï¼šä»Managerå¯¹è±¡è·å¾—Queueå¯¹è±¡</li></ul><p>ä»Managerè·å–Queueï¼Œç”¨äºåˆ†é…ã€æ‰§è¡Œä»»åŠ¡<br><font color="orange">ä»£ç </font>ï¼š<code>queue = manager.get_queue()</code></p><ul><li><strong>STEP6</strong>ï¼šåˆ†é…ã€æ‰§è¡Œä»»åŠ¡</li></ul><p>ä¸€æ–¹(ä¸ä¸€å®šæ˜¯æœåŠ¡å™¨)åˆ†é…ä»»åŠ¡ï¼Œå¦ä¸€æ–¹æ‰§è¡Œä»»åŠ¡ã€‚<br><font color="orange">ä»£ç </font>ï¼š<br>åˆ†é…ï¼š<code>queue.put(task)</code><br>æ‰§è¡Œï¼š<code>queue.get()</code></p><ul><li><strong>STEP7</strong>ï¼šç»“æŸä»»åŠ¡</li></ul><p>å¦‚æœæœåŠ¡ç«¯ä½¿ç”¨æ°¸ä¹…å¼€å¯æœåŠ¡(<strong>STEP4</strong>ä¸­çš„2.)ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ç»“æŸä»»åŠ¡ï¼Œå¦åˆ™å°±è¦ç»“æŸä»»åŠ¡è¿›ç¨‹ã€‚<br><font color="orange">ä»£ç </font>ï¼š<code>manager.shutdown()</code></p><details><summary>å…³äºåˆ†å¸ƒå¼è¿›ç¨‹ä¸­çš„é˜Ÿåˆ—Queueä¸€äº›è¯</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""æ³¨æ„ï¼Œå½“æˆ‘ä»¬åœ¨ä¸€å°æœºå™¨ä¸Šå†™å¤šè¿›ç¨‹ç¨‹åºæ—¶ï¼Œåˆ›å»ºçš„Queueå¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œä½†æ˜¯ï¼Œåœ¨åˆ†å¸ƒå¼å¤šè¿›ç¨‹ç¯å¢ƒä¸‹ï¼Œæ·»åŠ ä»»åŠ¡åˆ°Queueä¸å¯ä»¥ç›´æ¥å¯¹åŸå§‹çš„task_queueè¿›è¡Œæ“ä½œï¼Œé‚£æ ·å°±ç»•è¿‡äº†QueueManagerçš„å°è£…ï¼Œå¿…é¡»é€šè¿‡manager.get_task_queue()è·å¾—çš„Queueæ¥å£æ·»åŠ ã€‚ä»»åŠ¡è¿›ç¨‹è¦é€šè¿‡ç½‘ç»œè¿æ¥åˆ°æœåŠ¡è¿›ç¨‹ï¼Œæ‰€ä»¥è¦æŒ‡å®šæœåŠ¡è¿›ç¨‹çš„IPå…ˆå¯åŠ¨task_master.pyæœåŠ¡è¿›ç¨‹task_master.pyè¿›ç¨‹å‘é€å®Œä»»åŠ¡åï¼Œå¼€å§‹ç­‰å¾…resulté˜Ÿåˆ—çš„ç»“æœã€‚å†å¯åŠ¨task_worker.pyè¿›ç¨‹task_worker.pyè¿›ç¨‹ç»“æŸï¼Œåœ¨task_master.pyè¿›ç¨‹ä¸­ä¼šç»§ç»­æ‰“å°å‡ºç»“æœQueueå¯¹è±¡å­˜å‚¨åœ¨å“ªï¼Ÿæ³¨æ„åˆ°task_worker.pyä¸­æ ¹æœ¬æ²¡æœ‰åˆ›å»ºQueueçš„ä»£ç ï¼Œæ‰€ä»¥ï¼ŒQueueå¯¹è±¡å­˜å‚¨åœ¨task_master.pyè¿›ç¨‹ä¸­ï¼Œå³serverè€ŒQueueä¹‹æ‰€ä»¥èƒ½é€šè¿‡ç½‘ç»œè®¿é—®ï¼Œå°±æ˜¯é€šè¿‡QueueManagerå®ç°çš„ã€‚ç”±äºQueueManagerç®¡ç†çš„ä¸æ­¢ä¸€ä¸ªQueueï¼Œæ‰€ä»¥ï¼Œè¦ç»™æ¯ä¸ªQueueçš„ç½‘ç»œè°ƒç”¨æ¥å£èµ·ä¸ªåå­—ï¼Œæ¯”å¦‚get_task_queueã€‚authkeyæœ‰ä»€ä¹ˆç”¨ï¼Ÿè¿™æ˜¯ä¸ºäº†ä¿è¯ä¸¤å°æœºå™¨æ­£å¸¸é€šä¿¡ï¼Œä¸è¢«å…¶ä»–æœºå™¨æ¶æ„å¹²æ‰°ã€‚å¦‚æœtask_worker.pyçš„authkeyå’Œtask_master.pyçš„authkeyä¸ä¸€è‡´ï¼Œè‚¯å®šè¿æ¥ä¸ä¸Šã€‚"""</span></code></pre></details><h3 id="multiprocessing-managers-æ¨¡å—"><a href="#multiprocessing-managers-æ¨¡å—" class="headerlink" title="multiprocessing.managers æ¨¡å—"></a><code>multiprocessing.managers</code> æ¨¡å—</h3><ul><li>outline<ul><li><strong><a href="#managers intro">managersç±»ä»‹ç»</a></strong></li><li><strong><a href="#managers examp">managersç±»å®ä¾‹</a></strong><ul><li><strong><a href="#managers1">managersç¤ºä¾‹1ï¼šä½¿ç”¨BaseManagerè¿›è¡Œåˆ†å¸ƒå¼è¿›ç¨‹ä»»åŠ¡ï¼ˆå…±ä¸‰æ–¹å‚ä¸ï¼‰</a></strong></li><li><strong><a href="#managers2">managersç¤ºä¾‹2ï¼šä½¿ç”¨BaseManagerè¿›è¡Œåˆ†å¸ƒå¼è¿›ç¨‹ä»»åŠ¡ï¼ˆå…±ä¸¤æ–¹å‚ä¸ï¼‰</a></strong></li><li><strong><a href="#managers3">managersç¤ºä¾‹3ï¼šä½¿ç”¨BaseManagerè¿›è¡Œåˆ†å¸ƒå¼è¿›ç¨‹ä»»åŠ¡ï¼ˆä¸€å¯¹å¤šï¼‰</a></strong></li></ul></li></ul></li></ul><p><a id="managers intro"><font color="black"></font></a></p><h4><a id="managers intro"><font color="black">managersç±»ä»‹ç»</font></a></h4><p></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo ç±»</span><span class="token keyword">class</span> <span class="token class-name">BaseManager</span><span class="token punctuation">(</span>    address<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>         <span class="token comment"># åœ°å€</span>    authkey<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>         <span class="token comment"># èº«ä»½éªŒè¯</span>    serializer<span class="token operator">=</span><span class="token string">'pickle'</span><span class="token punctuation">,</span>  <span class="token comment"># åºåˆ—åŒ–ç¨‹åº</span>    ctx<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>             <span class="token comment"># æ–­ç»­å™¨ï¼Ÿ</span><span class="token punctuation">)</span><span class="token punctuation">:</span></code></pre><details><summary>BaseManager ç±»æ–¹æ³•(ç•¥)</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># todo ç±»æ–¹æ³•</span>BaseManager<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># ä¸ºmanagerå¯¹è±¡ç”ŸæˆæœåŠ¡å™¨è¿›ç¨‹</span>BaseManager<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># å°†managerå¯¹è±¡è¿æ¥åˆ°æœåŠ¡å™¨è¿›ç¨‹</span>BaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># ä½¿ç”¨managerç±»å‹æ³¨å†Œç±»å‹ ID</span>BaseManager<span class="token punctuation">.</span>get_server<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># è¿”å›å…·æœ‰serve_forever()æ–¹æ³•å’Œåœ°å€å±æ€§çš„æœåŠ¡å™¨å¯¹è±¡</span>BaseManager<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># åŠ å…¥managerè¿›ç¨‹ï¼ˆå¦‚æœå·²ç”Ÿæˆï¼‰</span>BaseManager<span class="token punctuation">.</span>shutdown<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å…³é—­managerè¿›ç¨‹</span></code></pre></details><details><summary>BaseManager ç±»æ–¹æ³•(è¯¦)</summary>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<details><summary>BaseManager.start()å‡½æ•°</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>initializer<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> initargs<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    å¯åŠ¨manager    """</span></code></pre><p>å…·ä½“ä½¿ç”¨è§<font color="red">ä¾‹2</font></p></details>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<details><summary>BaseManager.connect()å‡½æ•°</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    è¿æ¥æœåŠ¡å™¨è¿›ç¨‹    """</span></code></pre><p>å…·ä½“ä½¿ç”¨è§<font color="red">ä¾‹1</font></p></details>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<details><summary>BaseManager.register()å‡½æ•°</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> BaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span>    typeid<span class="token punctuation">,</span>             <span class="token comment"># å­—ç¬¦ä¸²ï¼Œç±»å‹æ ‡è¯†ç¬¦</span>    <span class="token builtin">callable</span><span class="token punctuation">,</span>           <span class="token comment"># å¯è°ƒç”¨å¯¹è±¡çš„</span>    proxytype<span class="token punctuation">,</span>          <span class="token comment"># </span>    exposed<span class="token punctuation">,</span>            <span class="token comment"># </span>    method_to_typeid<span class="token punctuation">,</span>   <span class="token comment"># </span>    create_method<span class="token punctuation">,</span>      <span class="token comment"># </span><span class="token punctuation">)</span><span class="token punctuation">:</span></code></pre><blockquote><p>è¯´å¾—é€šä¿—ä¸€ç‚¹ï¼š<br>1.<code>register</code>å‡½æ•°å¹²çš„äº‹å°±æ˜¯ç»™<code>BaseManager</code>ç±»æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼ˆç±»ä¼¼åŠ¨æ€ç»‘å®šï¼Ÿï¼‰<br>2.<code>typeid</code>å‚æ•°å°±æ˜¯æ³¨å†Œå¯¹è±¡å¯ä»¥è°ƒç”¨çš„å‡½æ•°<br>3.<code>callable</code>å‚æ•°ä¸€èˆ¬æ˜¯é˜Ÿåˆ—çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¸€èˆ¬ç”¨å‡½æ•°è¿”å›ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> queue<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> BaseManagerq <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># todo æ³•1ï¼šå®šä¹‰å‡½æ•°</span><span class="token keyword">def</span> <span class="token function">get_q</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> q    <span class="token keyword">return</span> qBaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_q'</span><span class="token punctuation">,</span> <span class="token builtin">callable</span><span class="token operator">=</span>get_q<span class="token punctuation">)</span><span class="token comment"># todo æ³•2ï¼šåŒ¿åå‡½æ•°</span>BaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_q'</span><span class="token punctuation">,</span> <span class="token builtin">callable</span><span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> q<span class="token punctuation">)</span><span class="token comment"># å»ºè®®ä½¿ç”¨æ ‡å‡†å‡½æ•°æ¥ä»£æ›¿lambdaå‡½æ•°ï¼Œé¿å…python2.7ä¸­ï¼Œpickleæ— æ³•åºåˆ—åŒ–lambdaçš„é—®é¢˜ï¼Œè™½ç„¶ä½†æ˜¯ç°åœ¨åŸºæœ¬éƒ½åœ¨ç”¨python3</span></code></pre>  <details><summary>BaseManager.register() çš„(å®˜æ–¹ï¼Ÿ)å‚æ•°æè¿°(å·²ç¿»è¯‘)ï¼š</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">register</span><span class="token punctuation">(</span>    typeid<span class="token punctuation">,</span>         <span class="token triple-quoted-string string">"""        typeid is a â€œtype identifierâ€ which is used to identify a particular type of shared object. This must be a string.        typeid æ˜¯ä¸€ä¸ªâ€œç±»å‹æ ‡è¯†ç¬¦â€ï¼Œç”¨äºæ ‡è¯†ç‰¹å®šç±»å‹çš„å…±äº«å¯¹è±¡ã€‚è¿™å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚        """</span>    <span class="token builtin">callable</span><span class="token punctuation">,</span>         <span class="token triple-quoted-string string">"""        callable is a callable used for creating objects for this type identifier.         callable æ˜¯ä¸€ä¸ªå¯è°ƒç”¨çš„ä½¿ç”¨ï¼Œç”¨äºä¸ºæ­¤ç±»å‹æ ‡è¯†ç¬¦åˆ›å»ºå¯¹è±¡ã€‚        If a manager instance will be created using the from_address() classmethod or if the create_method argument is False then this can be left as None.        å¦‚æœå°†ä½¿ç”¨from_address()ç±»æ–¹æ³•æˆ– create_method=False åˆ›å»º Manager å®ä¾‹ï¼Œåˆ™è¿™å¯ä»¥ç•™ä¸‹ã€‚        """</span>    proxytype<span class="token punctuation">,</span>         <span class="token triple-quoted-string string">"""        proxytype is a subclass of BaseProxy which is used to create proxies for shared objects with this typeid.         proxytype æ˜¯BaseProxyçš„å­ç±»ï¼Œç”¨äºåˆ›å»ºå…·æœ‰æ­¤ç±»å‹çš„å…±äº«å¯¹è±¡çš„ä»£ç†ã€‚        If None then a proxy class is created automatically.        å¦‚æœ proxytype=Noneï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºä»£ç†ç±»proxyã€‚        """</span>    exposed<span class="token punctuation">,</span>         <span class="token triple-quoted-string string">"""        exposed is used to specify a sequence of method names which proxies for this typeid should be allowed to access using BaseProxy._callmethod().         exposed ç”¨äºæŒ‡å®šåº”å…è®¸ä½¿ç”¨ BaseProxy._callMethod() çš„ä»£ç†çš„æ–¹æ³•åç§°çš„åºåˆ—ã€‚        (If exposed is None then proxytype._exposed_ is used instead if it exists.)         ï¼ˆå¦‚æœ exposed=Noneï¼Œåˆ™ä¸ä½¿ç”¨proxytype._exposed_å¦‚æœå­˜åœ¨ã€‚ï¼‰        In the case where no exposed list is specified, all â€œpublic methodsâ€ of the shared object will be accessible.         åœ¨æœªæŒ‡å®šæœªå…¬å¼€åˆ—è¡¨çš„æƒ…å†µä¸‹ï¼Œå°†å¯ä»¥è®¿é—®å…±äº«å¯¹è±¡çš„æ‰€æœ‰â€œå…¬å…±æ–¹æ³•â€ã€‚        (Here a â€œpublic methodâ€ means any attribute which has a __call__() method and whose name does not begin with '_'.)        ï¼ˆè¿™é‡Œæœ‰ä¸€ä¸ªâ€œå…¬å…±æ–¹æ³•â€æ˜¯æŒ‡å…·æœ‰ __call __()æ–¹æ³•çš„ä»»ä½•å±æ€§ï¼Œå…¶åç§°ä¸ä¼šä»¥'_'å¼€å¤´ã€‚ï¼‰        """</span>    method_to_typeid<span class="token punctuation">,</span>         <span class="token triple-quoted-string string">"""        method_to_typeid is a mapping used to specify the return type of those exposed methods which should return a proxy. It maps method names to typeid strings.         method_to_typeId æ˜¯ç”¨äºæŒ‡å®šåº”è¿”å›ä»£ç†çš„é‚£äº›å…¬å¼€æ–¹æ³•çš„è¿”å›ç±»å‹çš„æ˜ å°„ã€‚å®ƒå°†æ–¹æ³•åç§°æ˜ å°„åˆ° typeid å­—ç¬¦ä¸²ã€‚        (If method_to_typeid is None then proxytype._method_to_typeid_ is used instead if it exists.)         ï¼ˆå¦‚æœmethod_to_typeId=Noneï¼Œåˆ™ä½¿ç”¨proxytype._method_to_typeid_ï¼Œè€Œä¸æ˜¯å­˜åœ¨ã€‚ï¼‰        If a methodâ€™s name is not a key of this mapping or if the mapping is None then the object returned by the method will be copied by value.        å¦‚æœæ–¹æ³•çš„åç§°ä¸æ˜¯æ­¤æ˜ å°„çš„é”®ï¼Œæˆ–è€…å¦‚æœæ˜ å°„ä¸ºNoneï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›çš„å¯¹è±¡å°†è¢«å€¼å¤åˆ¶ã€‚        """</span>    create_method<span class="token punctuation">,</span>         <span class="token triple-quoted-string string">"""        create_method determines whether a method should be created with name typeid which can be used to tell the server process to create a new shared object and return a proxy for it. By default it is True.        create_method ç¡®å®šæ˜¯å¦åº”è¯¥ä½¿ç”¨åç§°ç±»å‹åˆ›å»ºæ–¹æ³•ï¼Œè¯¥ç±»å‹å¯ä»¥ç”¨äºå‘Šè¯‰æœåŠ¡å™¨è¿›ç¨‹åˆ›å»ºæ–°çš„å…±äº«å¯¹è±¡å¹¶è¿”å›ä»£ç†ã€‚é»˜è®¤create_method=Trueã€‚        """</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    A classmethod which can be used for registering a type or callable with the manager class.    ä¸€ä¸ªç±»æ–¹æ³•ï¼Œå¯ç”¨äºæ³¨å†Œç±»å‹æˆ–å¯è°ƒç”¨managerç±»ã€‚    """</span></code></pre>  </details></details>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<details><summary>BaseManager.get_server() å‡½æ•°</summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_server</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    è¿”å›æœ‰serve_forever()æ–¹æ³•çš„æœåŠ¡å™¨å¯¹è±¡    """</span></code></pre><p>å…·ä½“ä½¿ç”¨è§<font color="red">ä¾‹1</font></p></details>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<details><summary>BaseManager.join() å‡½æ•°</summary><p>è¿™ä¸ªå‡½æ•°æ²¡å•¥å¥½è¯´çš„ï¼Œå¯ä»¥å‚è€ƒä¹‹å‰çš„<code>join</code>ï¼Œä½†æ˜¯è²Œä¼¼åœ¨è¿™å¾ˆå°‘ç”¨åˆ°ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">join</span><span class="token punctuation">(</span>timeout<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span></code></pre></details>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<details><summary><font>BaseManager.shutdown() å‡½æ•°</font></summary><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> BaseManager<span class="token punctuation">.</span>shutdown<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">"""    åªæœ‰å½“è¿›ç¨‹start()ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼Œç”¨äºå…³é—­managerè¿›ç¨‹    """</span></code></pre><p>å…·ä½“ä½¿ç”¨è§<font color="red">ä¾‹2</font></p></details>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</details><p><a id="managers examp"><font color="black"></font></a></p><h4><a id="managers examp"><font color="black">managersç±»å®ä¾‹</font></a></h4><p></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="managers1">managersç¤ºä¾‹1ï¼šä½¿ç”¨BaseManagerè¿›è¡Œåˆ†å¸ƒå¼è¿›ç¨‹ä»»åŠ¡ï¼ˆå…±ä¸‰æ–¹å‚ä¸ï¼‰</a></li></ul><p>å®ä¾‹è¯´æ˜ï¼šæœ¬ä¾‹ä¸­ç»§æ‰¿äº†<code>BaseManager</code>ç±»ï¼Œå½“ç„¶ï¼ŒæŠŠå…¶ä¸­çš„<code>QueueManager</code>æ¢æˆ<code>BaseManager</code>ä¹Ÿæ˜¯å®Œå…¨æ²¡é—®é¢˜çš„ã€‚</p><p><font color="red">æœåŠ¡ç«¯Server</font></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> queue<span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>managers <span class="token keyword">import</span> BaseManagerque <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">QueueManager</span><span class="token punctuation">(</span>BaseManager<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>QueueManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">"get_queue"</span><span class="token punctuation">,</span> <span class="token builtin">callable</span><span class="token operator">=</span><span class="token keyword">lambda</span><span class="token punctuation">:</span>que<span class="token punctuation">)</span>m <span class="token operator">=</span> QueueManager<span class="token punctuation">(</span>address<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> <span class="token number">50000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> authkey<span class="token operator">=</span><span class="token string">"abc"</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>s <span class="token operator">=</span> m<span class="token punctuation">.</span>get_server<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>serve_forever<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><font color="red">å‘é€ç«¯Send</font></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>managers <span class="token keyword">import</span> BaseManager<span class="token keyword">class</span> <span class="token class-name">QueueManager</span><span class="token punctuation">(</span>BaseManager<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>QueueManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">"get_queue"</span><span class="token punctuation">)</span>m <span class="token operator">=</span> QueueManager<span class="token punctuation">(</span>address<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span> <span class="token number">50000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> authkey<span class="token operator">=</span><span class="token string">"abc"</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>m<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span>queue <span class="token operator">=</span> m<span class="token punctuation">.</span>get_queue<span class="token punctuation">(</span><span class="token punctuation">)</span>queue<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span></code></pre><p><font color="red">æ¥æ”¶ç«¯Recv</font></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>managers <span class="token keyword">import</span> BaseManager<span class="token keyword">class</span> <span class="token class-name">QueueManager</span><span class="token punctuation">(</span>BaseManager<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>QueueManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">"get_queue"</span><span class="token punctuation">)</span>m <span class="token operator">=</span> QueueManager<span class="token punctuation">(</span>address<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span> <span class="token number">50000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> authkey<span class="token operator">=</span><span class="token string">"abc"</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>m<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span>queue <span class="token operator">=</span> m<span class="token punctuation">.</span>get_queue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>address<span class="token punctuation">)</span></code></pre><blockquote><p>ä½¿ç”¨æ–¹æ³•ï¼šä¾æ¬¡å¯åŠ¨æœåŠ¡ç«¯ã€å‘é€ç«¯å’Œæ¥æ”¶ç«¯å³å¯ã€‚</p></blockquote><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="managers2">managersç¤ºä¾‹2ï¼šä½¿ç”¨BaseManagerè¿›è¡Œåˆ†å¸ƒå¼è¿›ç¨‹ä»»åŠ¡ï¼ˆå…±ä¸¤æ–¹å‚ä¸ï¼‰</a></li></ul><p>å®ä¾‹è¯´æ˜ï¼šmanageræœåŠ¡ç«¯ç”¨äºæ§åˆ¶ï¼Œworkerå·¥ä½œåŠç”¨äºæ‰§è¡Œã€‚è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œå¤§ä½“æ€è·¯å·®ä¸å¤šï¼Œå…·ä½“æ­¥éª¤å¯å±•å¼€ä¸‹é¢å†…å®¹æŸ¥çœ‹ã€‚</p><details><summary>åˆ›å»ºåˆ†å¸ƒå¼è¿›ç¨‹éœ€è¦çš„<font color="red">æ­¥éª¤</font>ï¼š</summary><ul><li><strong>ä¸€ã€å»ºç«‹ç”¨äºè¿›ç¨‹é—´é€šä¿¡çš„é˜Ÿåˆ—Queue</strong></li></ul><p>æœåŠ¡è¿›ç¨‹åˆ›å»ºä»»åŠ¡é˜Ÿåˆ— task_queue å’Œç»“æœé˜Ÿåˆ— result_queueã€‚ä»»åŠ¡é˜Ÿåˆ— task_queue ç”¨æ¥ä½œä¸º<font color="orange">ä¼ é€’ä»»åŠ¡ç»™ä»»åŠ¡è¿›</font>ç¨‹çš„é€šé“ï¼›æœåŠ¡è¿›ç¨‹åˆ›å»ºç»“æœé˜Ÿåˆ— result_queue ç”¨æ¥ä½œä¸ºä»»åŠ¡è¿›ç¨‹<font color="orange">å®Œæˆä»»åŠ¡åå›å¤æœåŠ¡è¿›ç¨‹</font>çš„é€šé“ã€‚åœ¨åˆ†å¸ƒå¼å¤šè¿›ç¨‹ç¯å¢ƒä¸‹ï¼Œå¿…é¡»ç”± Queuemanager è·å¾— Queue æ¥å£æ¥æ·»åŠ ä»»åŠ¡ã€‚</p><ul><li><strong>äºŒã€åœ¨ç½‘ç»œä¸Šæ³¨å†Œç¬¬ä¸€æ­¥ä¸­å»ºç«‹çš„é˜Ÿåˆ—ï¼Œæš´éœ²ç»™å…¶ä»–è¿›ç¨‹ï¼ˆä¸»æœºï¼‰</strong></li></ul><p>æ³¨å†Œåè·å¾—ç½‘ç»œé˜Ÿåˆ—ï¼Œç›¸å½“äºæœ¬åœ°é˜Ÿåˆ—çš„æ˜ åƒã€‚</p><ul><li><strong>ä¸‰ã€å»ºç«‹å¯¹è±¡å®ä¾‹managerï¼Œç»‘å®šç«¯å£å’ŒéªŒè¯å£ä»¤</strong></li></ul><p>å¯¹è±¡çš„ç±»Queuemanagerç»§æ‰¿è‡ªBaseManager</p><ul><li><strong>å››ã€å¯åŠ¨ç®¡ç†å®ä¾‹managerï¼Œç›‘ç®¡ä¿¡æ¯é€šé“</strong></li></ul><p>å³ï¼šå¯åŠ¨ç¬¬ä¸‰æ­¥ä¸­å»ºç«‹çš„å®ä¾‹</p><ul><li><strong>äº”ã€é€šè¿‡ç®¡ç†å®ä¾‹çš„æ–¹æ³•è·å¾—é€šè¿‡ç½‘ç»œè®¿é—®çš„Queueå¯¹è±¡</strong></li></ul><p>å³ï¼šå†æŠŠç½‘ç»œé˜Ÿåˆ—å®ä½“åŒ–æˆå¯ä»¥ä½¿ç”¨çš„æœ¬åœ°é˜Ÿåˆ—</p><ul><li><strong>å…­ã€åˆ›å»ºä»»åŠ¡ã€ä¸Šä¼ ä»»åŠ¡ã€åˆ†é…ä»»åŠ¡</strong></li></ul><p>åˆ›å»ºä»»åŠ¡åˆ° â€œæœ¬åœ°â€é˜Ÿåˆ—ä¸­ï¼Œè‡ªåŠ¨ä¸Šä¼ ä»»åŠ¡åˆ°ç½‘ç»œé˜Ÿåˆ—ä¸­ï¼Œåˆ†é…ç»™ä»»åŠ¡è¿›ç¨‹è¿›è¡Œå¤„ç†ã€‚</p></details><p><font color="red">manageræœåŠ¡å™¨</font></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>managers <span class="token keyword">import</span> BaseManager<span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> freeze_support<span class="token punctuation">,</span> Queue<span class="token comment"># ä»»åŠ¡ä¸ªæ•°</span>task_number <span class="token operator">=</span> <span class="token number">10</span><span class="token comment"># æ”¶å‘é˜Ÿåˆ—</span>task_quue <span class="token operator">=</span> Queue<span class="token punctuation">(</span>task_number<span class="token punctuation">)</span>result_queue <span class="token operator">=</span> Queue<span class="token punctuation">(</span>task_number<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_task</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> task_quue<span class="token keyword">def</span> <span class="token function">get_result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> result_queue<span class="token comment"># åˆ›å»ºç±»ä¼¼çš„queueManager</span><span class="token keyword">class</span> <span class="token class-name">QueueManager</span><span class="token punctuation">(</span>BaseManager<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">def</span> <span class="token function">win_run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># æ³¨å†Œåœ¨ç½‘ç»œä¸Šï¼Œcallable å…³è”äº†Queue å¯¹è±¡</span>    <span class="token comment"># å°†Queueå¯¹è±¡åœ¨ç½‘ç»œä¸­æš´éœ²</span>    <span class="token comment">#windowä¸‹ç»‘å®šè°ƒç”¨æ¥å£ä¸èƒ½ç›´æ¥ä½¿ç”¨lambdaï¼Œæ‰€ä»¥åªèƒ½å…ˆå®šä¹‰å‡½æ•°å†ç»‘å®š</span>    QueueManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_task_queue'</span><span class="token punctuation">,</span> <span class="token builtin">callable</span><span class="token operator">=</span>get_task<span class="token punctuation">)</span>    QueueManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_result_queue'</span><span class="token punctuation">,</span> <span class="token builtin">callable</span><span class="token operator">=</span>get_result<span class="token punctuation">)</span>    <span class="token comment"># ç»‘å®šç«¯å£å’Œè®¾ç½®éªŒè¯å£ä»¤</span>    manager <span class="token operator">=</span> QueueManager<span class="token punctuation">(</span>address<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> <span class="token number">8001</span><span class="token punctuation">)</span><span class="token punctuation">,</span> authkey<span class="token operator">=</span><span class="token string">'qiye'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># å¯åŠ¨ç®¡ç†ï¼Œç›‘å¬ä¿¡æ¯é€šé“</span>    manager<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token comment"># é€šè¿‡ç½‘ç»œè·å–ä»»åŠ¡é˜Ÿåˆ—å’Œç»“æœé˜Ÿåˆ—</span>        task <span class="token operator">=</span> manager<span class="token punctuation">.</span>get_task_queue<span class="token punctuation">(</span><span class="token punctuation">)</span>        result <span class="token operator">=</span> manager<span class="token punctuation">.</span>get_result_queue<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># æ·»åŠ ä»»åŠ¡</span>        <span class="token keyword">for</span> url <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">"ImageUrl_"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'url is %s'</span> <span class="token operator">%</span> url<span class="token punctuation">)</span>            task<span class="token punctuation">.</span>put<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'try get result'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'result is %s'</span> <span class="token operator">%</span> result<span class="token punctuation">.</span>get<span class="token punctuation">(</span>timeout<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">except</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Manager error'</span><span class="token punctuation">)</span>    <span class="token keyword">finally</span><span class="token punctuation">:</span>        manager<span class="token punctuation">.</span>shutdown<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    <span class="token comment"># windowä¸‹å¤šè¿›ç¨‹å¯èƒ½æœ‰é—®é¢˜ï¼Œæ·»åŠ è¿™å¥è¯ç¼“è§£</span>    freeze_support<span class="token punctuation">(</span><span class="token punctuation">)</span>    win_run<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><font color="red">workerå·¥ä½œæœº</font></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>managers <span class="token keyword">import</span> BaseManager<span class="token comment"># åˆ›å»ºç±»ä¼¼çš„QueueManager:</span><span class="token keyword">class</span> <span class="token class-name">QueueManager</span><span class="token punctuation">(</span>BaseManager<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token comment"># å®ç°ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨QueueManageræ³¨å†Œè·å–Queueçš„æ–¹æ³•åç§°</span>QueueManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_task_queue'</span><span class="token punctuation">)</span>QueueManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_result_queue'</span><span class="token punctuation">)</span><span class="token comment"># å®ç°ç¬¬äºŒæ­¥ï¼šè¿æ¥åˆ°æœåŠ¡å™¨:</span>server_addr <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Connect to server %s...'</span> <span class="token operator">%</span> server_addr<span class="token punctuation">)</span><span class="token comment"># ç«¯å£å’ŒéªŒè¯å£ä»¤æ³¨æ„ä¿æŒä¸æœåŠ¡è¿›ç¨‹è®¾ç½®çš„å®Œå…¨ä¸€è‡´:</span>m <span class="token operator">=</span> QueueManager<span class="token punctuation">(</span>address<span class="token operator">=</span><span class="token punctuation">(</span>server_addr<span class="token punctuation">,</span> <span class="token number">8001</span><span class="token punctuation">)</span><span class="token punctuation">,</span> authkey<span class="token operator">=</span><span class="token string">'qiye'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä»ç½‘ç»œè¿æ¥:</span>m<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å®ç°ç¬¬ä¸‰æ­¥ï¼šè·å–Queueçš„å¯¹è±¡:</span>task <span class="token operator">=</span> m<span class="token punctuation">.</span>get_task_queue<span class="token punctuation">(</span><span class="token punctuation">)</span>result <span class="token operator">=</span> m<span class="token punctuation">.</span>get_result_queue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å®ç°ç¬¬å››æ­¥ï¼šä»taské˜Ÿåˆ—å–ä»»åŠ¡,å¹¶æŠŠç»“æœå†™å…¥resulté˜Ÿåˆ—:</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token keyword">not</span> task<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        image_url <span class="token operator">=</span> task<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span>timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'run task download %s...'</span> <span class="token operator">%</span> image_url<span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>        result<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">'%s---&gt;success'</span><span class="token operator">%</span>image_url<span class="token punctuation">)</span><span class="token comment"># å¤„ç†ç»“æŸ:</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'worker exit.'</span><span class="token punctuation">)</span></code></pre><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><ul><li><a id="managers3">managersç¤ºä¾‹3ï¼šä½¿ç”¨BaseManagerè¿›è¡Œåˆ†å¸ƒå¼è¿›ç¨‹ä»»åŠ¡ï¼ˆä¸€å¯¹å¤šï¼‰</a></li></ul><p>å®ä¾‹è¯´æ˜ï¼šä¸ä¾‹2å·®ä¸å¤šï¼Œä¾æ¬¡å¯åŠ¨æœåŠ¡ç«¯å’Œå¤šä¸ªå®¢æˆ·ç«¯å³å¯ã€‚</p><p><font color="red">æœåŠ¡ç«¯manager</font></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># encoding:utf-8</span><span class="token keyword">import</span> random<span class="token punctuation">,</span> time<span class="token punctuation">,</span> queue<span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>managers <span class="token keyword">import</span> BaseManager<span class="token comment"># å‘é€ä»»åŠ¡çš„é˜Ÿåˆ—</span>task_queue <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># æ¥æ”¶ç»“æœçš„é˜Ÿåˆ—</span>result_queue <span class="token operator">=</span> queue<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨æ ‡å‡†å‡½æ•°æ¥ä»£æ›¿lambdaå‡½æ•°ï¼Œé¿å…python2.7ä¸­ï¼Œpickleæ— æ³•åºåˆ—åŒ–lambdaçš„é—®é¢˜</span><span class="token keyword">def</span> <span class="token function">get_task_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> task_queue    <span class="token keyword">return</span> task_queue<span class="token comment"># ä½¿ç”¨æ ‡å‡†å‡½æ•°æ¥ä»£æ›¿lambdaå‡½æ•°ï¼Œé¿å…python2.7ä¸­ï¼Œpickleæ— æ³•åºåˆ—åŒ–lambdaçš„é—®é¢˜</span><span class="token keyword">def</span> <span class="token function">get_result_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> task_queue    <span class="token keyword">return</span> task_queue<span class="token keyword">def</span> <span class="token function">startManager</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> authkey<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># æŠŠä¸¤ä¸ªQueueéƒ½æ³¨å†Œåˆ°ç½‘ç»œä¸Šï¼Œcallableå‚æ•°å…³è”äº†Queueå¯¹è±¡ï¼Œæ³¨æ„å›è°ƒå‡½æ•°ä¸èƒ½ä½¿ç”¨æ‹¬å·</span>    BaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_task_queue'</span><span class="token punctuation">,</span> <span class="token builtin">callable</span><span class="token operator">=</span>get_task_queue<span class="token punctuation">)</span>    BaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_result_queue'</span><span class="token punctuation">,</span> <span class="token builtin">callable</span><span class="token operator">=</span>get_result_queue<span class="token punctuation">)</span>    <span class="token comment"># è®¾ç½®host,ç»‘å®šç«¯å£portï¼Œè®¾ç½®éªŒè¯ç ä¸ºauthkey</span>    manager <span class="token operator">=</span> BaseManager<span class="token punctuation">(</span>address<span class="token operator">=</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">,</span> authkey<span class="token operator">=</span>authkey<span class="token punctuation">)</span>    <span class="token comment"># å¯åŠ¨manageræœåŠ¡å™¨</span>    manager<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> manager<span class="token keyword">def</span> <span class="token function">put_queue</span><span class="token punctuation">(</span>manager<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># é€šè¿‡ç½‘ç»œè®¿é—®queueu</span>    task <span class="token operator">=</span> manager<span class="token punctuation">.</span>get_task_queue<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Put task %d'</span> <span class="token operator">%</span> n<span class="token punctuation">)</span>        task<span class="token punctuation">.</span>put<span class="token punctuation">(</span>n<span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    host <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span>    port <span class="token operator">=</span> <span class="token number">5000</span>    authkey <span class="token operator">=</span> <span class="token string">'abc'</span>    <span class="token comment"># å¯åŠ¨manageræœåŠ¡å™¨</span>    manager <span class="token operator">=</span> startManager<span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> authkey<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># ç»™taské˜Ÿåˆ—æ·»åŠ æ•°æ®</span>    put_queue<span class="token punctuation">(</span>manager<span class="token punctuation">)</span>    <span class="token comment"># å…³é—­æœåŠ¡å™¨</span>    manager<span class="token punctuation">.</span>shutdown<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><font color="red">æ‰§è¡Œç«¯worker</font></p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># encoding:utf-8</span><span class="token keyword">import</span> random<span class="token punctuation">,</span> time<span class="token punctuation">,</span> queue<span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>managers <span class="token keyword">import</span> BaseManager<span class="token keyword">def</span> <span class="token function">start_worker</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> authkey<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># ç”±äºè¿™ä¸ªBaseManageråªä»ç½‘ç»œä¸Šè·å–queueï¼Œæ‰€ä»¥æ³¨å†Œæ—¶åªæä¾›åå­—</span>    BaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_task_queue'</span><span class="token punctuation">)</span>    BaseManager<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">'get_result_queue'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Connect to server %s'</span> <span class="token operator">%</span> host<span class="token punctuation">)</span>    <span class="token comment"># æ³¨æ„ï¼Œç«¯å£portå’ŒéªŒè¯ç authkeyå¿…é¡»å’ŒmanageræœåŠ¡å™¨è®¾ç½®çš„å®Œå…¨ä¸€è‡´</span>    worker <span class="token operator">=</span> BaseManager<span class="token punctuation">(</span>address<span class="token operator">=</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">,</span> authkey<span class="token operator">=</span>authkey<span class="token punctuation">)</span>    <span class="token comment"># é“¾æ¥åˆ°manageræœåŠ¡å™¨</span>    worker<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> worker<span class="token keyword">def</span> <span class="token function">get_queue</span><span class="token punctuation">(</span>worker<span class="token punctuation">)</span><span class="token punctuation">:</span>    task <span class="token operator">=</span> worker<span class="token punctuation">.</span>get_task_queue<span class="token punctuation">(</span><span class="token punctuation">)</span>    result <span class="token operator">=</span> worker<span class="token punctuation">.</span>get_result_queue<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># ä»taské˜Ÿåˆ—å–æ•°æ®ï¼Œå¹¶æ·»åŠ åˆ°resulté˜Ÿåˆ—ä¸­</span>    <span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> task<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">continue</span>        n <span class="token operator">=</span> task<span class="token punctuation">.</span>get<span class="token punctuation">(</span>timeout<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'worker get %d'</span> <span class="token operator">%</span> n<span class="token punctuation">)</span>        result<span class="token punctuation">.</span>put<span class="token punctuation">(</span>n<span class="token punctuation">)</span>        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    host <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span>    port <span class="token operator">=</span> <span class="token number">5000</span>    authkey <span class="token operator">=</span> <span class="token string">'abc'</span>    <span class="token comment"># å¯åŠ¨worker</span>    worker <span class="token operator">=</span> start_worker<span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> authkey<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># è·å–é˜Ÿåˆ—</span>    get_queue<span class="token punctuation">(</span>worker<span class="token punctuation">)</span></code></pre><hr><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>è¾ƒå…¨çš„è¿›ç¨‹å†…å®¹ï¼š</p><table><thead><tr><th align="center">è¿æ¥</th><th align="center">æ ‡ç­¾</th><th align="center">è¯´æ˜</th><th align="center">ç½‘ç«™</th></tr></thead><tbody><tr><td align="center"><a href="https://blog.csdn.net/qq_41922768/category_7767239.html">pythonåŸºç¡€-è¿›ç¨‹</a></td><td align="center"><code>multiprocessing</code></td><td align="center">è¿™ä¸ªä¸“æ ç³»åˆ—å†…å®¹å¾ˆå¤šå¾ˆå…¨ã€è®²åŸç†ã€è§£é‡Šå‚æ•°ã€å®ä¾‹å¤š</td><td align="center">CSDN</td></tr><tr><td align="center"><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017628290184064">å¤šè¿›ç¨‹</a></td><td align="center"><code>Process</code> <code>Queue</code> <code>Pool</code></td><td align="center">è®²åŸç†ã€ä¸è§£é‡Šå‚æ•°ã€ä¸€èˆ¬</td><td align="center">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</td></tr><tr><td align="center"><a href="https://www.cnblogs.com/dbf-/p/11127000.html">Python process (è¿›ç¨‹)</a></td><td align="center"><code>Process</code> <code>Pipe</code> <code>Queue</code> <code>Manager</code> <code>Lock</code> <code>Pool</code></td><td align="center">ä¸è§£é‡Šå‚æ•°ã€æœ‰ä¸€å®šåŸç†å†…å®¹</td><td align="center">åšå®¢å›­</td></tr><tr><td align="center"><a href="https://www.cnblogs.com/yzh2857/p/9683398.html">ã€ŠPythonã€‹è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼ˆIPCï¼‰ã€è¿›ç¨‹ä¹‹é—´çš„æ•°æ®å…±äº«ã€è¿›ç¨‹æ± </a></td><td align="center"><code>Pipe</code> <code>Queue</code> <code>JoinableQueue</code> <code>Manager</code> <code>Process</code> <code>Lock</code> <code>Pool</code></td><td align="center">è§£é‡Šå‚æ•°ã€æœ‰ä¸€å®šçš„åŸç†ã€æœ‰ä¸Šè¿°æœªæ¶‰åŠå†…å®¹</td><td align="center">åšå®¢å›­</td></tr><tr><td align="center"><a href="https://zhuanlan.zhihu.com/p/64702600">ä¸€ç¯‡æ–‡ç« æå®šPythonå¤šè¿›ç¨‹(å…¨)</a></td><td align="center"><code>Process</code> <code>Pipe</code> <code>Queue</code> <code>Manager</code> <code>Pool</code></td><td align="center">è§£é‡Šå‚æ•°ã€æœ‰ä¸€å®šçš„åŸç†ã€æœ‰ä¸Šè¿°æœªæ¶‰åŠå†…å®¹</td><td align="center">çŸ¥ä¹</td></tr></tbody></table><p>çº¿ç¨‹æ± ï¼š</p><table><thead><tr><th align="center">è¿æ¥</th><th align="center">æ ‡ç­¾</th><th align="center">è¯´æ˜</th><th align="center">ç½‘ç«™</th></tr></thead><tbody><tr><td align="center"><a href="https://hexo.yuanjh.cn/hexo/e279ffad/">pythonè¿›é˜¶08å¹¶å‘ä¹‹å››map, apply, map_async, apply_asyncå·®å¼‚</a></td><td align="center"><code>Pool</code></td><td align="center">å¹¶å‘map/applyçš„å·®å¼‚</td><td align="center">ä¸ªäººåšå®¢</td></tr><tr><td align="center"><a href="http://blog.shenwei.me/python-multiprocessing-pool-difference-between-map-apply-map_async-apply_async/">Python multiprocessing.Pool: Difference between map, apply, map_async, apply_async</a></td><td align="center"><code>Pool</code></td><td align="center">å¹¶å‘map/applyçš„å·®å¼‚</td><td align="center">ä¸ªäººåšå®¢ï¼Ÿ</td></tr></tbody></table><p><code>subprocess</code>ï¼š</p><table><thead><tr><th align="center">è¿æ¥</th><th align="center">æ ‡ç­¾</th><th align="center">è¯´æ˜</th><th align="center">ç½‘ç«™</th></tr></thead><tbody><tr><td align="center"><a href="https://blog.csdn.net/weixin_39059031/article/details/108440342">Pythonè¿›é˜¶(å)å¤šè¿›ç¨‹multiprocessingå’Œsubprocessæ¨¡å—</a></td><td align="center"><code>multiprocessing</code> <code>subprocess</code></td><td align="center">åŸç†è®²æ˜ç™½ã€å‚æ•°è§£é‡Šæ¸…æ¥šã€ä¾‹å­å¤šï¼ˆæ’ä¸€å¥ï¼Œé‡Œé¢çš„pythonç³»åˆ—å†…å®¹ä¹Ÿå†™çš„æŒºå¥½çš„ï¼‰</td><td align="center">CSDN</td></tr></tbody></table><p>åˆ†å¸ƒå¼è¿›ç¨‹ï¼šï¼ˆå¤§æ¦‚çœ‹ä¸€ä¸‹å°±è¡Œäº†ï¼Œæ¯•ç«Ÿå¤§å®¶éƒ½æ˜¯äº’ç›¸æŠ„çš„ï¼‰</p><table><thead><tr><th align="center">è¿æ¥</th><th align="center">æ ‡ç­¾</th><th align="center">è¯´æ˜</th><th align="center">ç½‘ç«™</th></tr></thead><tbody><tr><td align="center"><a href="https://docs.python.org/zh-cn/3.8/library/multiprocessing.html?highlight=freeze_support#examples">multiprocessing â€” åŸºäºè¿›ç¨‹çš„å¹¶è¡Œ</a></td><td align="center"><code>multiprocessing</code></td><td align="center">pythonå®˜ç½‘çš„ä¾‹å­</td><td align="center">pythonå®˜ç½‘</td></tr><tr><td align="center"><a href="https://www.cnblogs.com/liunnis/tag/BaseManager/">BaseManager</a></td><td align="center"><code>BaseManager</code></td><td align="center">è¿™ä¸ªç³»åˆ—æœ‰.ä¸œè¥¿</td><td align="center">åšå®¢å›­</td></tr><tr><td align="center"><a href="https://www.cnblogs.com/guguobao/p/9400299.html">pythonåˆ†å¸ƒå¼è¿›ç¨‹</a></td><td align="center"><code>managers</code></td><td align="center">ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</td><td align="center">åšå®¢å›­</td></tr><tr><td align="center"><a href="https://www.cnblogs.com/chmyee/p/10081531.html">python åˆ†å¸ƒå¼è¿›ç¨‹å®ç°</a></td><td align="center"><code>managers</code></td><td align="center">ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</td><td align="center">åšå®¢å›­</td></tr><tr><td align="center"><a href="https://www.ktanx.com/blog/p/870">python åˆ†å¸ƒå¼è¿›ç¨‹</a></td><td align="center"><code>managers</code></td><td align="center">ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</td><td align="center">ktanx</td></tr><tr><td align="center"><a href="https://blog.csdn.net/chengxun03/article/details/105802073">åœ¨Pythonç¨‹åºä¸­å®ç°åˆ†å¸ƒå¼è¿›ç¨‹çš„æ•™ç¨‹</a></td><td align="center"><code>managers</code></td><td align="center">ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</td><td align="center">CSDN</td></tr><tr><td align="center"><a href="https://blog.csdn.net/lilong117194/article/details/76051843">pythonåˆ†å¸ƒå¼è¿›ç¨‹ï¼ˆwindowsä¸‹ï¼‰</a></td><td align="center"><code>managers</code></td><td align="center">ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</td><td align="center">CSDN</td></tr><tr><td align="center"><a href="http://t.zoukankan.com/bin-l-p-8615201.html">Python åˆ†å¸ƒå¼è¿›ç¨‹</a></td><td align="center"><code>managers</code></td><td align="center">ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</td><td align="center">ä¸ªäººåšå®¢</td></tr></tbody></table><h2 id="å¾…å®Œæˆ"><a href="#å¾…å®Œæˆ" class="headerlink" title="å¾…å®Œæˆ"></a>å¾…å®Œæˆ</h2><ul><li><input disabled type="checkbox"> socketå®ä¾‹</li><li><input checked disabled type="checkbox"> é€šä¿¡æ¨¡å¼</li><li><input disabled type="checkbox"> <a href="https://blog.csdn.net/qq_41922768/article/details/83995322">è¿›ç¨‹åŒæ­¥</a></li><li><input checked disabled type="checkbox"> <a href="https://blog.csdn.net/qq_41922768/article/details/84024587">æ•°æ®å…±äº«Manager</a></li><li><input checked disabled type="checkbox"> <a href="https://blog.csdn.net/ctwy291314/article/details/89358144">å…±äº«å†…å­˜Value,Array</a></li><li><input disabled type="checkbox"> å­è¿›ç¨‹<code>subprocess</code></li><li><input checked disabled type="checkbox"> è¿›ç¨‹æ± </li><li><input disabled type="checkbox"> IOåºåˆ—åŒ–</li><li><input checked disabled type="checkbox"> åˆ†å¸ƒå¼è¿›ç¨‹</li></ul><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> è¿›ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
